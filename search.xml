<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>å°‘æ ·æœ¬å­¦ä¹ ï¼ˆFew Shot Learningï¼‰</title>
      <link href="/2023/05/03/037-FewShotLearning/"/>
      <url>/2023/05/03/037-FewShotLearning/</url>
      
        <content type="html"><![CDATA[<p>æŒ–å‘å¾…å¡«ï½</p><p>å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆäº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯å…ƒå­¦ä¹ ï¼ˆMeta Lerrningï¼‰ï¼Ÿ</p><h1 id="Meta-Learning"><a href="#Meta-Learning" class="headerlink" title="Meta Learning"></a>Meta Learning</h1>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>2023åšå£«ç”³è¯·è®°å½•</title>
      <link href="/2023/04/03/036-DoctorApplication/"/>
      <url>/2023/04/03/036-DoctorApplication/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸ªäººèƒŒæ™¯"><a href="#ä¸ªäººèƒŒæ™¯" class="headerlink" title="ä¸ªäººèƒŒæ™¯"></a>ä¸ªäººèƒŒæ™¯</h1><p>æœ¬ç¡•å­¦æ ¡ï¼šæ¹˜æ½­å¤§å­¦ï¼Œ<br>ç ”ç©¶æ–¹å‘ï¼šè®¡ç®—æœºè§†è§‰æ–¹å‘<br>è®ºæ–‡æƒ…å†µï¼š1ç¯‡ä¸­ç§‘é™¢äºŒåŒºTOPã€1ç¯‡CCF Aä¸­æ–‡ï¼ˆå‡ä¸ºå¯¼å¸ˆä¸€ä½œï¼Œæœ¬äººäºŒä½œï¼‰<br>ç¡•å£«ç»©ç‚¹ï¼š3.42&#x2F;4ï¼Œæ’åç¬¬ä¸€<br>è·å¥–æƒ…å†µï¼šå›½å®¶å¥–å­¦é‡‘ã€æ ¡é•¿å¥–å­¦é‡‘ã€ç‰¹ç­‰å­¦ä¸šå¥–å­¦é‡‘ï¼ˆä¸¤æ¬¡ï¼‰<br>å¤–è¯­æ°´å¹³ï¼šè‹±è¯­å…­çº§474</p><h1 id="é€‰æ‹©å­¦æ ¡"><a href="#é€‰æ‹©å­¦æ ¡" class="headerlink" title="é€‰æ‹©å­¦æ ¡"></a>é€‰æ‹©å­¦æ ¡</h1><p>ä¸­å±±å¤§å­¦<br>ä¸­å—å¤§å­¦<br>æ¹–å—å¤§å­¦<br>åå—ç†å·¥å¤§å­¦<br>æ­¦æ±‰å¤§å­¦<br>åä¸­ç§‘æŠ€å¤§å­¦<br>é‡åº†å¤§å­¦</p><h1 id="è”ç³»å¯¼å¸ˆ"><a href="#è”ç³»å¯¼å¸ˆ" class="headerlink" title="è”ç³»å¯¼å¸ˆ"></a>è”ç³»å¯¼å¸ˆ</h1><p><strong>å¥—ç£é‚®ä»¶</strong></p><blockquote><p>é‚®ä»¶å†…å®¹ï¼š<br>å°Šæ•¬çš„Xæ•™æˆï¼Œ<br>    æ‚¨å¥½ï¼æˆ‘å«è’‹å¸…ï¼Œæ¥è‡ªæ¹˜æ½­å¤§å­¦æ™ºèƒ½è®¡ç®—ä¸ä¿¡æ¯å¤„ç†æ•™è‚²éƒ¨é‡å®éªŒå®¤ï¼Œç›®å‰æ˜¯è®¡ç®—æœºæŠ€æœ¯ä¸“ä¸šï¼ˆä¸“ç¡•ï¼‰çš„ç ”ä¸‰å­¦ç”Ÿï¼Œç¡•å£«æœŸé—´çš„ç ”ç©¶æ–¹å‘æ˜¯æ·±åº¦å­¦ä¹ å’ŒåŒ»å­¦å›¾åƒåˆ†æï¼Œæˆ‘æƒ³çŸ¥é“æ‚¨ç›®å‰æ˜¯å¦è¿˜æœ‰åšå£«æ‹›ç”Ÿçš„åé¢ï¼Œå¸Œæœ›æœ‰æœºä¼šèƒ½å¤Ÿæˆä¸ºæ‚¨çš„åšå£«ç ”ç©¶ç”Ÿã€‚<br>    ä»¥ä¸‹æ˜¯æœ¬äººæ”»è¯»ç¡•å£«å­¦ä½æœŸé—´çš„å­¦ä¹ ç»å†å’Œç§‘ç ”æˆæœç®€è¿°ï¼š<br>        1ï¼‰å­¦ä¹ æ–¹é¢ï¼Œæœ¬äººè¿ç»­ä¸‰å¹´åœ¨å­¦é™¢çš„ç»¼åˆæµ‹è¯„ä¸­æ’åä¸“ä¸šç¬¬ä¸€ï¼Œå¹¶è·å›½å®¶å¥–å­¦é‡‘ã€æ¹˜æ½­å¤§å­¦ç‰¹ç­‰å¥–å­¦é‡‘ï¼ˆè¿ç»­ä¸¤å¹´ï¼‰å’Œâ€œæ¹˜æ½­å¤§å­¦ä¸‰å¥½ç ”ç©¶ç”Ÿâ€ç§°å·ã€‚<br>        2ï¼‰ç§‘ç ”æ–¹é¢ï¼Œæœ¬äººä½œä¸ºéª¨å¹²æˆå‘˜å‚ä¸å›½å®¶è‡ªç„¶ç§‘å­¦åŸºé‡‘é’å¹´é¡¹ç›®2é¡¹ã€æ¹–å—çœæ•™è‚²å…ä¼˜ç§€é’å¹´åŸºé‡‘2é¡¹ã€‚åœ¨å›½å†…å¤–æœŸåˆŠä¸Šå‘è¡¨å­¦æœ¯è®ºæ–‡2ç¯‡ï¼Œå…¶ä¸­ä¸­ç§‘é™¢äºŒåŒºè®ºæ–‡1ç¯‡ï¼ŒCCF Aç±»ä¸­æ–‡æœŸåˆŠè®ºæ–‡1ç¯‡ï¼ˆå‡ä¸ºå¯¼å¸ˆä¸€ä½œï¼Œæœ¬äººäºŒä½œï¼‰ã€‚<br>    æ„Ÿè°¢æ‚¨åœ¨ç™¾å¿™ä¹‹ä¸­æŠ½å‡ºæ—¶é—´é˜…ä¿¡ï¼Œéå¸¸æœŸå¾…æ‚¨çš„å›ä¿¡ã€‚ä¸ªäººç®€å†æ·»åŠ è‡³é‚®ä»¶é™„ä»¶ï¼Œçƒ¦è¯·æ‚¨æŸ¥é˜…ã€‚<br>    ç¥è€å¸ˆå·¥ä½œé¡ºåˆ©ï¼Œå¿ƒæƒ³äº‹æˆï¼é¢„ç¥æ–°æ˜¥å¿«ä¹ï¼<br>è’‹å¸…</p></blockquote><h1 id="ææ–™å‡†å¤‡"><a href="#ææ–™å‡†å¤‡" class="headerlink" title="ææ–™å‡†å¤‡"></a>ææ–™å‡†å¤‡</h1><h1 id="å¤è¯•å‡†å¤‡"><a href="#å¤è¯•å‡†å¤‡" class="headerlink" title="å¤è¯•å‡†å¤‡"></a>å¤è¯•å‡†å¤‡</h1><h2 id="ç¬”è¯•ï¼ˆæœºè¯•ï¼‰"><a href="#ç¬”è¯•ï¼ˆæœºè¯•ï¼‰" class="headerlink" title="ç¬”è¯•ï¼ˆæœºè¯•ï¼‰"></a>ç¬”è¯•ï¼ˆæœºè¯•ï¼‰</h2><p>æ¹–å—å¤§å­¦ï¼šCCF CSPè®¤è¯è€ƒè¯•ç³»ç»Ÿ <a href="http://118.190.20.162/home.page">http://118.190.20.162/home.page</a> </p><h2 id="è‹±è¯­"><a href="#è‹±è¯­" class="headerlink" title="è‹±è¯­"></a>è‹±è¯­</h2><p><strong>è‡ªæˆ‘ä»‹ç»</strong></p><blockquote><p>Good morning or afternoon, professors! As a Frequent Visitor of Hunan University, it is my great honor and pleasure to come here Again, but this time in the Most Important Identity. Now let me Introduce Myself Briefly.<br><strong><em>Personal Information</em></strong><br>My name is Jiang Shuai, a third-year graduate student majoring in Computer Technology at Xiangtan University. I have been studying and researching at the School of Computer Science of Xiangtan University for Seven Years to pursued my bachelorâ€™s and masterâ€™s degrees. Within seven years, my degree course grades and rankings have been among the top, with my major ranking First during my graduate studies. Furthermore, I have served as the Chairman of the Computer Association, accumulating a wealth of professional knowledge during my tenure([ËˆtenjÉ™r]). Over the past seven years, I have received multiple commendations, including outstanding student association workers , special scholarship and National Scholarships.<br><strong><em>Research Experience</em></strong><br>Actually, I have been engaged in research on Computer Vision since the fourth year of my undergraduate studies, and my undergraduate projects and masterâ€™s thesis are both in the field of computer vision. My current research interests focus on computer vision based on Deep Learning and its applications in Medical Image Analysis., particularly in Ophthalmology([ËŒÉ‘ËfÎ¸É™ËˆmÉ‘ËlÉ™dÊ’i]), including OCT and OCTA. The research content includes designing more efficient and accurate biomarker segmentation methods from 2-D and 3-D perspectives, aiming at providing references for Clinical Diagnosis([ËŒdaÉªÉ™É¡ËˆnoÊŠsÉªs]) and Treatment. After long-term research, I have Published Two Papers in the field of Medical Imaging, including IEEE Transactions on Instrumentation and Measurement. My four years of research in computer vision have given me a comprehensive understanding of the field, so I hope to have Further Development and Research in this direction, this is one of the most important reasons why I chose to apply for a Doctoral Entrance Opportunity.<br><strong><em>Research Plans</em></strong><br>Iâ€™m really looking forward to being admitted and carrying out my doctoral study under Professor Liuâ€™s Supervision. If accepted as a Ph.D. Candidate, I would like to Continue my research work in the field of Computer Vision, with a particular focus on Defect Detection in Industrial Vision. Considering that in practical industrial scenarios([sÉ™ËˆnÃ¦rioÊŠ]), defect samples are often difficult to collect and have a very high cost of annotation, the design of defect detection methods would be based on Few-Shot Learning.<br>Thatâ€™s all of my self-introduction. Thank you for your listening.</p></blockquote><h2 id="ç»¼åˆé¢è¯•"><a href="#ç»¼åˆé¢è¯•" class="headerlink" title="ç»¼åˆé¢è¯•"></a>ç»¼åˆé¢è¯•</h2>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>2022 ç§‹æ‹›</title>
      <link href="/2022/09/28/035-Autumn_Recruiment_Summary/"/>
      <url>/2022/09/28/035-Autumn_Recruiment_Summary/</url>
      
        <content type="html"><![CDATA[<p>ä»¥æœ¬æ–‡è®°å½•æœ¬äººåœ¨äº’è”ç½‘å¯’å†¬ä¸­çš„ç¬¬ä¸€æ¬¡ç§‹æ‹›ç»å†ã€‚</p><p>å†™åœ¨å‰é¢ï¼š<br>Offer æœºä¼šï¼šå®£è®²ä¼š &gt; å®˜ç½‘æŠ•é€’ &gt; ç¬¬ä¸‰æ–¹æ‹›è˜å¹³å°<br>é¢è¯•æœºä¼šï¼šå®£è®²ä¼š &gt; ç¬¬ä¸‰æ–¹æ‹›è˜å¹³å° &gt; å®˜ç½‘æŠ•é€’</p><hr><h1 id="ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™å¼€å§‹ï¼Ÿ</h1><p><strong><code>8</code> æœˆåº•å®éªŒå®¤é›†ä½“æ”¾äº†ä¸ªå‡ï¼Œæƒ³ç€å›å­¦æ ¡è¿˜èƒ½å†è§‚æœ›è§‚æœ›ï¼Œå½“æ—¶å¯èƒ½è¿˜æ²¡æ„è¯†åˆ° <code>2022</code> å¹´äº’è”ç½‘è¡Œä¸šæ‹›è˜çš„å¯’æ°”ï¼Œè§‰å¾—å¥½åƒé‡‘ <code>9</code> é“¶ <code>10</code> çš„ä¼ ç»Ÿè¿˜ä¼šä¿æŒä¸‹å»ã€‚å…¶ä¸­æå¤§ä¸€éƒ¨åˆ†åŸå› è¿˜æ˜¯å› ä¸ºèº«è¾¹çš„åŒå­¦å’Œæœ‹å‹éƒ½æ²¡æ€ä¹ˆå¼€å§‹æ‰¾å·¥ä½œï¼Œåªæœ‰å„’å“¥åœ¨å·æå‰æ‰¹è€Œä¸”è¿˜æ‹¿åˆ°äº†è”šæ¥çš„ <code>offer</code>ã€‚</strong></p><p><strong>ç›´åˆ°åŒç­åŒå­¦åœ¨æå‰æ‰¹ä¹Ÿæ‹¿äº† <code>offer</code>ï¼ŒåŠ ä¸Šè¿™ä¸ªè¿‡ç¨‹ä¸­åœ¨è„‰è„‰ã€ç‰›å®¢è¿™äº›è®ºå›ä¸Šçœ‹åˆ°åŒ <code>985</code> éƒ½æ‰¾ä¸åˆ°å·¥ä½œï¼ˆåˆ¶é€ ç„¦è™‘ï¼‰ï¼Œæ‰è§‰å¾—è‡ªå·±åº”è¯¥ä¹Ÿè¦å¼€å§‹æ‰¾å·¥ä½œäº†ã€‚</strong></p><h1 id="ç®€å†æŠ•é€’"><a href="#ç®€å†æŠ•é€’" class="headerlink" title="ç®€å†æŠ•é€’"></a>ç®€å†æŠ•é€’</h1><h2 id="è¯•æ¢"><a href="#è¯•æ¢" class="headerlink" title="è¯•æ¢"></a>è¯•æ¢</h2><p><strong><code>9</code> æœˆçš„ç¬¬ä¸€å‘¨ï¼ŒæŠ±ç€ç»™åŒé—¨è¯•æ°´çš„å¿ƒæ€æŠ•äº†è‹¥å¹²å®¶åŒ—äº¬ã€ä¸Šæµ·å’Œæ­å·ç­‰åœ°çš„å…¬å¸ã€‚</strong></p><p><strong>ç¬¬ä¸€å®¶æŠ•çš„ç½‘æ˜“äº‘éŸ³ä¹ï¼Œå¾ˆå¿«å°±å‘æ¥äº†ç¬”è¯•é‚€è¯·ã€‚åœ¨ <code>A</code> äº† <code>3/4</code> çš„æƒ…å†µä¸‹æŒ‚äº†ç¬”è¯•ã€‚</strong></p><p><img src="https://s2.loli.net/2022/09/25/P4G2M5ycgXWVv3a.png"></p><p><strong>ä¹‹ååˆé™†ç»­æŠ•äº† OPPOã€VIVOã€äº¬ä¸œã€å°çº¢ä¹¦ã€å­—èŠ‚ç­‰ç­‰ä¸€ç³»åˆ—å¤§å‚ï¼Œä¸å‡ºæ„å¤–åœ°è¿‡ä¸äº†åˆç­›ã€‚</strong></p><h2 id="æµ·æŠ•"><a href="#æµ·æŠ•" class="headerlink" title="æµ·æŠ•"></a>æµ·æŠ•</h2><p><strong>è®¤æ¸…ç°å®ï¼Œå¼€å§‹æµ·æŠ•~</strong></p><h1 id="ç¬”è¯•"><a href="#ç¬”è¯•" class="headerlink" title="ç¬”è¯•"></a>ç¬”è¯•</h1><h1 id="é¢è¯•"><a href="#é¢è¯•" class="headerlink" title="é¢è¯•"></a>é¢è¯•</h1><p><strong>å¤§å¤šæ•°é¢è¯•çš„å…¬å¸é—®çš„é—®é¢˜éƒ½æŒºæ°´çš„ï¼Œæ”¾ä¸€äº›äº›å¾®æœ‰æŠ€æœ¯å«é‡çš„ã€‚<br>ï¼ˆä»¥ä¸‹ä»…ä¸ºæŠ€æœ¯é¢èƒ½å¤Ÿå›å¿†èµ·æ¥çš„éƒ¨åˆ†ï¼ˆå·®ä¸å¤šå°±æ˜¯èƒ½ç­”ä¸Šæ¥çš„ï¼‰ï¼Œæ¯•ç«Ÿåªè¦æŠ€æœ¯é¢è¿‡äº†ï¼ŒHR é¢å¤§æ¦‚ç‡å°±æ˜¯èµ°æµç¨‹äº†ï¼‰</strong></p><h2 id="ä¸‰è¯ºç”Ÿç‰©"><a href="#ä¸‰è¯ºç”Ÿç‰©" class="headerlink" title="ä¸‰è¯ºç”Ÿç‰©"></a>ä¸‰è¯ºç”Ÿç‰©</h2><h2 id="ä¸‡å…´ç§‘æŠ€ï¼ˆ40minï¼‰"><a href="#ä¸‡å…´ç§‘æŠ€ï¼ˆ40minï¼‰" class="headerlink" title="ä¸‡å…´ç§‘æŠ€ï¼ˆ40minï¼‰"></a>ä¸‡å…´ç§‘æŠ€ï¼ˆ40minï¼‰</h2><details><summary>python ç›¸å…³ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>Python æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«Python å¤šçº¿ç¨‹ä»‹ç»ä¸€ä¸‹ç±»çš„ç»§æ‰¿æ‰‹æ’•ä»£ç ï¼šæ— åºåˆ—è¡¨æ‰¾å‡ºå‰ K ä¸ªæœ€å¤§å…ƒç´ ï¼Œè¦æ±‚ O(1) ç©ºé—´å¤æ‚åº¦ï¼Œæç¤ºåŒæŒ‡é’ˆ</code></pre></details><details><summary>é¡¹ç›®ç›¸å…³ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>ä»‹ç»è®ºæ–‡ï¼Œæ‰‹å†™ç»†èŠ‚ç¼–ç å™¨çš„é€‰æ‹©ï¼ŸOCTA å›¾åƒçš„ç‰¹ç‚¹å’ŒåŸç†ï¼Ÿè®ºæ–‡åˆ›æ–°ç‚¹å’Œå‡ºå‘ç‚¹ï¼Ÿç¼–è§£ç æ¶æ„çš„ backbone é€‰æ‹©ï¼Ÿç¼–ç å™¨åœ¨æœ‰æ’å…¥ä¸­é—´å±‚çš„æƒ…å†µä¸‹æ€ä¹ˆåŠ è½½é¢„è®­ç»ƒæ¨¡å‹ï¼Ÿä»‹ç»æ„Ÿå—é‡æœ‰æ•ˆæ„Ÿå—é‡å’Œç†è®ºæ„Ÿå—é‡ï¼Œä»¥åŠäºŒè€…çš„å…³ç³»ï¼ŸæŸå¤±å‡½æ•°çš„è®¾è®¡ç»†èŠ‚å’Œä¼˜åŒ–æ–¹æ³•ï¼Œæ‰‹å†™å…¬å¼è¡¨ç¤ºAdam ä¼˜åŒ–å™¨çš„å‚æ•°æ›´æ–°ï¼Œæ‰‹åŠ¨æ¨å¯¼Adam åç»­å¦‚ä½•è§£å†³æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„ï¼Ÿ</code></pre></details><details><summary>åé—®ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>å›¾åƒç®—æ³•å²—ä½çš„å·¥ä½œå†…å®¹ï¼Œåå›¾åƒè¿˜æ˜¯è§†é¢‘ï¼ŸæŠ å›¾è½¯ä»¶çš„æŠ€æœ¯å®ç°æ–¹å‘ï¼Œå›¾åƒåˆ†å‰²ï¼Ÿå›¾åƒåˆ†å‰²ç»„äººå‘˜è§„æ¨¡ï¼Ÿæœ‰æ²¡æœ‰ä¸“é—¨åšç§‘ç ”å‘è®ºæ–‡çš„éƒ¨é—¨ï¼Ÿ</code></pre></details><h2 id="é•¿æ²™åŒ—æ–—ç ”ç©¶é™¢ï¼ˆ20minï¼‰"><a href="#é•¿æ²™åŒ—æ–—ç ”ç©¶é™¢ï¼ˆ20minï¼‰" class="headerlink" title="é•¿æ²™åŒ—æ–—ç ”ç©¶é™¢ï¼ˆ20minï¼‰"></a>é•¿æ²™åŒ—æ–—ç ”ç©¶é™¢ï¼ˆ20minï¼‰</h2><details><summary>é—®ç­”ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>Python GIL äº†è§£è¿‡å—ï¼Ÿå¯¹ Python çš„äº†è§£ç¨‹åº¦ï¼Œä¸¾ä¾‹è¯´æ˜ä¸€ä¸‹Python çš„è‡ªå»ºåº“ç”¨è¿‡å“ªäº›ï¼Ÿä»‹ç»ä¸€ä¸‹é¡¹ç›®å¯¹ Pytorch çš„ç†Ÿç»ƒç¨‹åº¦ï¼Œç”¨è¿‡ Pytorch ä¸­å“ªäº›åº“ç”¨è¿‡å“ªäº›å›¾å½¢è®¡ç®—åº“</code></pre></details><h2 id="å…´ç››ä¼˜é€‰"><a href="#å…´ç››ä¼˜é€‰" class="headerlink" title="å…´ç››ä¼˜é€‰"></a>å…´ç››ä¼˜é€‰</h2><h3 id="ä¸€é¢ï¼ˆ36minï¼‰"><a href="#ä¸€é¢ï¼ˆ36minï¼‰" class="headerlink" title="ä¸€é¢ï¼ˆ36minï¼‰"></a>ä¸€é¢ï¼ˆ36minï¼‰</h3><details><summary>åšé¢˜ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>30 çš„é˜¶ä¹˜åé¢æœ‰å¤šå°‘ä¸ª 0ï¼Œè®²ä¸€ä¸‹æ€è·¯ä»åˆå§‹å­—ç¬¦ä¸²ç¼–è¾‘ï¼ˆåˆ é™¤ã€æ’å…¥æˆ–æ›¿æ¢æ“ä½œï¼‰è‡³ç›®æ ‡å­—ç¬¦ä¸²éœ€è¦çš„æœ€å°ç¼–è¾‘è·ç¦»ï¼ˆLeetcode No.72ï¼‰</code></pre></details><details><summary>é—®ç­”ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>è®²ä¸€ä¸‹é€‰æ‹©æ’åºï¼Œæ’å…¥æ’åºï¼Œå½’å¹¶æ’åºå’Œå¸Œå°”æ’åºçš„æ€è·¯åˆ†æä¸€ä¸‹åºåˆ—çš„æœ‰åºç¨‹åº¦å¯¹æ’åºç®—æ³•çš„å¤æ‚åº¦å½±å“äº†è§£è¿‡å“ªäº›æ¨èç®—æ³•æœ‰äº†è§£ Boosting æˆ–è€… GBDT å—è®²ä¸€ä¸‹ SVM çš„æ€è·¯è®²ä¸€ä¸‹ SVM æ±‚è§£è¿‡ç¨‹è®²ä¸€ä¸‹é€»è¾‘å›å½’é€»è¾‘å›å½’æ¨¡å‹èƒ½å¦å¤„ç†è¿ç»­å‹å˜é‡Logistic å¦‚ä½•ä½“ç°çš„ç”¨è¿‡å“ªäº›æ¨¡å‹ä¼˜åŒ–æ–¹æ³•è®²ä¸€ä¸‹ SGD å’Œ Adamï¼Œä»¥åŠå®ƒä»¬çš„åŒºåˆ«æ ‘æ¨¡å‹çš„ä¼˜åŒ–æ–¹æ³•æœ‰å“ªäº›æ€ä¹ˆè§£å†³è¿‡æ‹Ÿåˆé—®é¢˜æœºå™¨å­¦ä¹ ä¸­ç”¨è¿‡å“ªäº›è¯„ä»·æŒ‡æ ‡ä»‹ç»ä¸€ä¸‹ AUCROC æ›²çº¿çš„ç»˜åˆ¶æ–¹å¼è®²ä¸€ä¸‹ TransformerTransformer ä¸­æœ‰å“ªäº›é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œä»¥åŠä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆè®²ä¸€ä¸‹å¤šå¤´è‡ªæ³¨æ„åŠ›è¿‡ç¨‹ç»è¿‡å¤šå¤´è‡ªæ³¨æ„åŠ›çš„åºåˆ—ä¿¡æ¯å‘ç”Ÿäº†å“ªäº›å˜åŒ–ï¼Œåºåˆ—ç»´åº¦æ˜¯å¦æ”¹å˜GRU å¦‚ä½•åº”ç”¨åˆ°å›¾åƒæ•°æ®çš„è®²ä¸€ä¸‹RNNï¼ŒLSTMï¼ŒGRUï¼Œä»¥åŠå®ƒä»¬çš„åŒºåˆ«å’Œæ”¹è¿›çš„åœ°æ–¹</code></pre></details><details><summary>åé—®ç¯èŠ‚</summary></details><h3 id="äºŒé¢ï¼ˆ48minï¼‰"><a href="#äºŒé¢ï¼ˆ48minï¼‰" class="headerlink" title="äºŒé¢ï¼ˆ48minï¼‰"></a>äºŒé¢ï¼ˆ48minï¼‰</h3><details><summary>é—®ç­”ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>30 çš„é˜¶ä¹˜åé¢æœ‰å¤šå°‘ä¸ª 0ç¼–è¾‘è·ç¦»çš„ç»†èŠ‚è§£é‡Šï¼Œdp æ•°ç»„å¯¹è§’çº¿å’Œéå¯¹è§’çº¿å…ƒç´ çš„æ„ä¹‰ï¼ˆå“ªä¸ªè¡¨ç¤ºæ’å…¥ï¼Œåˆ é™¤å’Œæ›¿æ¢æ“ä½œï¼‰é˜²æ­¢è¿‡æ‹Ÿåˆçš„æ–¹æ³•åå·®å’Œæ–¹å·®çš„åŒºåˆ«ROC æ›²çº¿å’Œ P-R æ›²çº¿çš„ç»˜åˆ¶ï¼Œä»¥åŠäºŒè€…çš„åŒºåˆ«å¦‚ä½•åˆ¤æ–­ç”¨æˆ·æœç´¢å…³é”®è¯çš„æ„å›¾ï¼ˆæ¨èç®—æ³•ï¼‰SEO ä¼˜åŒ–å’Œ MD5 å‡½æ•°å¦‚ä½•å®ç°å›¾ç‰‡æœç´¢å›¾ç‰‡çš„è¿‡ç¨‹ä»‹ç»ä¸€ä¸‹ä¸¤ä¸ªå·¥ä½œä¸­çš„åˆ›æ–°ç‚¹è®¾è®¡çš„å‡ºå‘ç‚¹ä»¥åŠçµæ„Ÿæ¥æºä»‹ç»å­¦æ ¡ç¤¾å›¢å·¥ä½œç»å†æœ‰æ²¡æœ‰ç»™è‡ªå·±åˆ¶å®šç›®æ ‡ï¼Œä»¥åŠå¦‚ä½•å®ç°çš„ï¼Œå…·ä½“ä¸€ç‚¹</code></pre></details><details><summary>åé—®ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>åç»­è¿˜æœ‰å‡ è½®é¢è¯•æ¨èç®—æ³•å·¥ä½œæ¶‰åŠåˆ°å¤§é‡çš„ç”¨æˆ·æ•°æ®ï¼Œå·¥ä½œæ˜¯å¦æœ‰å¤§æ•°æ®å¤„ç†ç›¸å…³çš„å†…å®¹èƒœä»»æ¨èç®—æ³•çš„å·¥ä½œï¼Œéœ€è¦é¦–å…ˆäº†è§£å“ªæ–¹é¢çš„çŸ¥è¯†</code></pre></details><h2 id="é•¿æ²™æ™ºèƒ½é©¾é©¶ç ”ç©¶é™¢ï¼ˆCIDIï¼‰ï¼ˆ62minï¼‰"><a href="#é•¿æ²™æ™ºèƒ½é©¾é©¶ç ”ç©¶é™¢ï¼ˆCIDIï¼‰ï¼ˆ62minï¼‰" class="headerlink" title="é•¿æ²™æ™ºèƒ½é©¾é©¶ç ”ç©¶é™¢ï¼ˆCIDIï¼‰ï¼ˆ62minï¼‰"></a>é•¿æ²™æ™ºèƒ½é©¾é©¶ç ”ç©¶é™¢ï¼ˆCIDIï¼‰ï¼ˆ62minï¼‰</h2><details><summary>é—®ç­”ç¯èŠ‚ï¼ˆç‚¹å‡»å±•å¼€ï¼‰</summary><pre><code>ä»‹ç»ä¸€ä¸‹ç¬¬ä¸€ä¸ªé¡¹ç›®ä»€ä¹ˆæ˜¯è”åˆåˆ†å‰²ä»‹ç»ä¸€ä¸‹å¯å˜å½¢å·ç§¯å¯å˜å½¢å·ç§¯ä¸­ä¸ºä»€ä¹ˆè¦ç”¨åŒçº¿æ€§æ’å€¼ä»‹ç»ä¸€ä¸‹ç©ºæ´å·ç§¯å’Œè½¬ç½®å·ç§¯ï¼ŒåŠäºŒè€…çš„åŒºåˆ«ä»€ä¹ˆæ˜¯æ„Ÿå—é‡ä¸ºä»€ä¹ˆä¸¤ä¸ª 3Ã—3 å·ç§¯å¯ä»¥ç­‰ä»·äºä¸€ä¸ª 5Ã—5 å·ç§¯å›¾åƒåˆ†è¾¨ç‡å¤§å°å¯¹åˆ†å‰²ç²¾åº¦çš„å½±å“ä»‹ç»ä¸€ä¸‹ç¬¬äºŒä¸ªé¡¹ç›®OCT å’Œ OCTA çš„åŒºåˆ«ä»€ä¹ˆæ˜¯å›¾åƒä¸­çš„æ–­å±‚ç°è±¡ä»€ä¹ˆæ˜¯å›¾åƒå—ï¼Œå¦‚ä½•é‡‡é›†çš„GRU å¦‚ä½•ä½œç”¨åˆ°å›¾åƒçš„GRU æœ‰å‡ ä¸ªé—¨ï¼Œè·Ÿ LSTM ç­‰çš„åŒºåˆ«ä»‹ç»ä¸€ä¸‹ç¬¬ä¸‰ä¸ªé¡¹ç›®ä»‹ç» W-GANï¼Œç”Ÿæˆå¯¹æŠ—å¦‚ä½•ç”¨äºåˆ†å‰²ä»»åŠ¡çš„å¦‚ä½•è§£å†³æ•°æ®é›†å°‘æ—¶ï¼ŒGAN ç”¨äºç”Ÿæˆæ•°æ®å‡ºç°çš„è¿‡æ‹Ÿåˆçš„é—®é¢˜æ·±åº¦å­¦ä¹ ä¸­çš„æ­£åˆ™åŒ–æ–¹æ³•å›¾åƒä»»åŠ¡ä¸­ç‰¹æœ‰çš„æ­£åˆ™åŒ–æ–¹æ³•ï¼ˆæç¤ºï¼šå·ç§¯å±‚ä¸­çš„ï¼Œæç¤º DropBlockï¼‰ä»‹ç»ä¸€ä¸‹ TransformerQKV æœºåˆ¶å’Œè‡ªæ³¨æ„åŠ›çš„è®¡ç®—ä»‹ç»ä¸€ä¸‹å¤šå¤´è‡ªæ³¨æ„åŠ›å¤šå¤´è‡ªæ³¨æ„åŠ›çš„ç»“æœå¦‚ä½•åˆå¹¶çš„ä»‹ç»ä¸€ä¸‹ SVMå¦‚ä½•æ‰¾åˆ° SVM çš„è¶…å¹³é¢æœ‰å“ªäº›æ ¸å‡½æ•°ä»‹ç»ä¸€ä¸‹ K-means çš„è¿‡ç¨‹äº†è§£è¿‡å“ªäº›ç›®æ ‡æ£€æµ‹æ–¹æ³•ï¼Œä»‹ç»ä¸€ä¸‹ YOLOV1ä»€ä¹ˆæ˜¯æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬YOLO çš„æŸå¤±å‡½æ•°ç»„æˆä»‹ç»ä¸€ä¸‹åšçš„è½¦ç‰Œæ£€æµ‹ä»»åŠ¡äº†è§£å“ªäº›ä¼˜åŒ–æ–¹æ³•è®²ä¸€ä¸‹æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼Œä¸éšæœºæ¢¯åº¦ä¸‹é™çš„åŒºåˆ«Python æ·±æ‹·è´å’Œæµ…æ‹·è´ï¼Œæ·±æ‹·è´å¦‚ä½•å®ç°ä»‹ç»ä¸€ä¸‹ pytorch çš„ä¸¤ç§è®­ç»ƒæ–¹å¼ï¼šæ•°æ®å¹¶è¡Œå’Œæ¨¡å‹å¹¶è¡Œ</code></pre></details>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>For Offersssss! ï¼ˆæ•°æ®ç»“æ„ä¸ç®—æ³•ç¯‡ï¼‰</title>
      <link href="/2022/09/25/030-InterviewQs_Leetcode/"/>
      <url>/2022/09/25/030-InterviewQs_Leetcode/</url>
      
        <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><h2 id="é¡ºåºè¡¨"><a href="#é¡ºåºè¡¨" class="headerlink" title="é¡ºåºè¡¨"></a>é¡ºåºè¡¨</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-comment">// åŠ¨æ€æ•°ç»„</span><br>vector&lt;<span class="hljs-type">int</span>&gt; a;<br>a.<span class="hljs-built_in">push_back</span>(x);                      <span class="hljs-comment">// æ·»åŠ å…ƒç´  </span><br><span class="hljs-comment">// ä»¥ä¸‹æ–¹æ³•å‡ä¸åŒ…å«å³ç«¯ç‚¹</span><br><span class="hljs-built_in">sort</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>());             <span class="hljs-comment">//ä»a.begin()åˆ°a.end()ä»å°åˆ°å¤§æ’åˆ—</span><br><span class="hljs-built_in">reverse</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>());          <span class="hljs-comment">//ä»a.begin()åˆ°a.end()çš„å…ƒç´ å€’ç½®ï¼Œä½†ä¸æ’åˆ—</span><br><span class="hljs-built_in">copy</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>(),b.<span class="hljs-built_in">begin</span>()+<span class="hljs-number">1</span>); <span class="hljs-comment">//ä»a.begin()åˆ°a.end()çš„å…ƒç´ å¤åˆ¶åˆ°bä¸­ï¼Œä»b.begin()+1çš„ä½ç½®ï¼ˆåŒ…æ‹¬å®ƒï¼‰å¼€å§‹å¤åˆ¶ï¼Œè¦†ç›–æ‰åŸæœ‰å…ƒç´ </span><br><span class="hljs-built_in">find</span>(a.<span class="hljs-built_in">begin</span>(),a.<span class="hljs-built_in">end</span>(),<span class="hljs-number">10</span>);          <span class="hljs-comment">//ä»a.begin()åˆ°a.end()çš„å…ƒç´ ä¸­æŸ¥æ‰¾10ï¼Œå­˜åœ¨åˆ™è¿”å›å…¶ä½ç½®</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Pythonåˆ—è¡¨çš„å®šä¹‰æ–¹å¼</span><br><span class="hljs-comment">#ï¼ˆ1ï¼‰ä¸€ç»´æ•°ç»„ï¼š</span><br><span class="hljs-built_in">list</span> = [<span class="hljs-number">0</span>]*n<br><span class="hljs-comment">#ï¼ˆ2ï¼‰äºŒç»´æ•°ç»„ï¼š</span><br><span class="hljs-built_in">list</span> = [[<span class="hljs-number">0</span>]*m <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/pascals-triangle/">118. æ¨è¾‰ä¸‰è§’</a><br><img src="https://pic.leetcode-cn.com/1626927345-DZmfxB-PascalTriangleAnimated2.gif"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">generate</span>(<span class="hljs-params">self, numRows</span>):<br>    ret = [[<span class="hljs-number">1</span>]*i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, numRows+<span class="hljs-number">1</span>)]<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, numRows):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, i):<br>            ret[i][j] = ret[i-<span class="hljs-number">1</span>][j-<span class="hljs-number">1</span>] + ret[i-<span class="hljs-number">1</span>][j]<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p><strong>æ€»ä¹‹ï¼Œï¼ï¼ï¼å–„ç”¨å“ˆå¸Œè¡¨ï¼ï¼ï¼</strong></p></blockquote><hr><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>æ³¨ï¼šä»¥ä¸‹å›¾æº<a href="#cite_link_list">å‚è€ƒé“¾æ¥ 1</a></p><h3 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h3><p>åŒæŒ‡é’ˆã€å¿«æ…¢æŒ‡é’ˆç­‰ ï¼ˆ<a href="#double_pointer">åŒæŒ‡é’ˆä¸­ç­‰éš¾åº¦ä¾‹é¢˜ç‚¹è¿™é‡Œ</a>ï¼‰<br>ï¼ˆ1ï¼‰é“¾è¡¨èŠ‚ç‚¹çš„å®šä¹‰<br><img src="https://s2.loli.net/2022/07/04/5QbtNGTw9AXVgqs.png" alt="å•é“¾è¡¨"><br><img src="https://s2.loli.net/2022/07/04/DqyQ1phbnXTJgPI.png" alt="å¸¦å¤´æŒ‡é’ˆçš„é“¾è¡¨"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">ListNode</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, val=<span class="hljs-number">0</span>, <span class="hljs-built_in">next</span>=<span class="hljs-literal">None</span></span>):<br>        self.val = val<br>        self.<span class="hljs-built_in">next</span> = <span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰é“¾è¡¨èŠ‚ç‚¹çš„åˆ é™¤<br><img src="https://s2.loli.net/2022/07/04/zfeg7vJdsZSpyIT.jpg" alt="é“¾è¡¨åˆ é™¤èŠ‚ç‚¹çš„è¿‡ç¨‹å›¾ç¤º"><br><a href="https://leetcode.cn/problems/delete-middle-node-lcci/">é¢è¯•é¢˜ 02.03. åˆ é™¤ä¸­é—´èŠ‚ç‚¹</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">deleteNode</span>(<span class="hljs-params">self, node</span>):<br>    node.val = node.<span class="hljs-built_in">next</span>.val<br>    node.<span class="hljs-built_in">next</span> = node.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><blockquote><p>åˆ é™¤ <code>ä¸­é—´èŠ‚ç‚¹</code> å¥½å†™ï¼Œä¸€æ—¦æ¶‰åŠ <code>å¤´å°¾å…ƒç´ </code> å°±æœ‰ç‚¹éº»çƒ¦äº†â€¦â€¦æ¯”å¦‚ä¸‹é¢è¿™ä¸ªé¢˜ ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><p><a href="https://leetcode.cn/problems/remove-linked-list-elements/">203. ç§»é™¤é“¾è¡¨å…ƒç´ </a></p><blockquote><p>è¾“å‡º <code>head.val</code> å‘ç°<strong>å¤´èŠ‚ç‚¹æŒ‡å‘çš„æ˜¯ç¬¬ä¸€ä¸ªå…ƒç´ </strong>ï¼Œå› æ­¤éœ€è¦æ·»åŠ ä¸€ä¸ªè™šæ‹Ÿå¤´ç»“ç‚¹ <code>dummy</code> æ¥æŒ‡å‘å¤´ç»“ç‚¹</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">removeElements</span>(<span class="hljs-params">self, head: ListNode, val: <span class="hljs-built_in">int</span></span>) -&gt; ListNode:<br>    dummy = ListNode(<span class="hljs-number">0</span>)<br>    dummy.<span class="hljs-built_in">next</span> = head<br>    prev = dummy<br>    node = head<br>    <span class="hljs-keyword">while</span>(node):<br>        <span class="hljs-keyword">if</span> node.val == val:<br>            prev.<span class="hljs-built_in">next</span> = node.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:<br>            prev = node<br>        node = node.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">return</span> dummy.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/merge-nodes-in-between-zeros/">2181. åˆå¹¶é›¶ä¹‹é—´çš„èŠ‚ç‚¹</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">mergeNodes</span>(<span class="hljs-params">self, head</span>):<br>    end, last, cur = <span class="hljs-literal">None</span>, head, head.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">while</span> cur:<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> cur.val:<br>            end,last = last,cur<br>        <span class="hljs-keyword">else</span>:<br>            last.val += cur.val<br>            last.<span class="hljs-built_in">next</span> = cur.<span class="hljs-built_in">next</span><br>        cur = cur.<span class="hljs-built_in">next</span><br>    end.<span class="hljs-built_in">next</span> = <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">return</span> head<br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰é“¾è¡¨èŠ‚ç‚¹çš„æ’å…¥<br><img src="https://s2.loli.net/2022/07/04/DbL5vNrMATxOy2V.png" alt="é“¾è¡¨æ’å…¥èŠ‚ç‚¹çš„è¿‡ç¨‹å›¾ç¤º"><br>ï¼ˆ4ï¼‰é“¾è¡¨çš„åˆå¹¶<br><a href="https://leetcode.cn/problems/merge-two-sorted-lists/">21. åˆå¹¶ä¸¤ä¸ªæœ‰åºé“¾è¡¨</a></p><blockquote><p>æˆ‘çš„ä»£ç â€”<code>ä¸‘é™‹è‡³æ</code> ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">mergeTwoLists</span>(<span class="hljs-params">self, list1, list2</span>):<br>    <span class="hljs-keyword">if</span> list1 == <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> list2 == <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> list2 == <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> list1:<br>        <span class="hljs-keyword">return</span> list1<br>    <span class="hljs-keyword">elif</span> list2 <span class="hljs-keyword">and</span> list1 == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> list2<br>    head = ListNode(<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">if</span> list1.val &lt;= list2.val:<br>        head.<span class="hljs-built_in">next</span> = list1<br>        node1 = list1.<span class="hljs-built_in">next</span><br>        node2 = list2<br>    <span class="hljs-keyword">else</span>:<br>        head.<span class="hljs-built_in">next</span> = list2<br>        node1 = list1<br>        node2 = list2.<span class="hljs-built_in">next</span><br>    node = head.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">while</span>(node1 <span class="hljs-keyword">and</span> node2):<br>        <span class="hljs-keyword">if</span> node1.val &gt; node2.val:<br>            node.<span class="hljs-built_in">next</span> = node2<br>            node2 = node2.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:<br>            node.<span class="hljs-built_in">next</span> = node1<br>            node1 = node1.<span class="hljs-built_in">next</span><br>        node = node.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">if</span> node1 == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">while</span>(node2):<br>            node.<span class="hljs-built_in">next</span> = node2<br>            node2 = node2.<span class="hljs-built_in">next</span><br>            node = node.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">while</span>(node1):<br>            node.<span class="hljs-built_in">next</span> = node1<br>            node1 = node1.<span class="hljs-built_in">next</span><br>            node = node.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span><br></code></pre></td></tr></table></figure><blockquote><p>åˆ«äººçš„ä»£ç â€”<code>ç®€æ´æ˜äº†</code></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">mergeTwoLists</span>(<span class="hljs-params">self, list1, list2</span>):<br>    head = ListNode(<span class="hljs-literal">None</span>)<br>    node = head<br>    <span class="hljs-keyword">while</span> list1 <span class="hljs-keyword">and</span> list2:<br>        <span class="hljs-keyword">if</span> list1.val &lt; list2.val:<br>            node.<span class="hljs-built_in">next</span>, list1 = list1, list1.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">else</span>:<br>            node.<span class="hljs-built_in">next</span>, list2 = list2, list2.<span class="hljs-built_in">next</span><br>        node = node.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">if</span> list1:<br>        node.<span class="hljs-built_in">next</span> = list1<br>    <span class="hljs-keyword">else</span>:<br>        node.<span class="hljs-built_in">next</span> = list2<br>    <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span>  <br></code></pre></td></tr></table></figure><p>ä½†æ˜¯æˆ‘çš„æ•ˆç‡åè€Œæ›´é«˜ï¼Ÿï¼Ÿï¼Ÿ<br><img src="https://s2.loli.net/2022/07/07/S4bCXfjp2V6FvJq.png"></p><h3 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h3><h3 id="å¾ªç¯é“¾è¡¨"><a href="#å¾ªç¯é“¾è¡¨" class="headerlink" title="å¾ªç¯é“¾è¡¨"></a>å¾ªç¯é“¾è¡¨</h3><p><a href="https://leetcode.cn/problems/4ueAj6/">å‰‘æŒ‡ Offer II 029. æ’åºçš„å¾ªç¯é“¾è¡¨</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">insert</span>(<span class="hljs-params">self, head, insertVal</span>):<br>    insertNode = Node(insertVal)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> head:<br>        insertNode.<span class="hljs-built_in">next</span> = insertNode<br>        <span class="hljs-keyword">return</span> insertNode<br>        <br>    pre = cur = head<br>    <span class="hljs-keyword">while</span> pre.<span class="hljs-built_in">next</span> != head:<br>        pre = cur<br>        cur = cur.<span class="hljs-built_in">next</span><br>        <span class="hljs-keyword">if</span> pre.val &lt;= insertVal <span class="hljs-keyword">and</span> cur.val &gt;= insertVal:<br>            <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">if</span> pre.val &gt; cur.val <span class="hljs-keyword">and</span> (insertVal &gt;= pre.val <span class="hljs-keyword">or</span> insertVal &lt;= cur.val):              <br>            <span class="hljs-keyword">break</span>        <br>    pre.<span class="hljs-built_in">next</span> = insertNode<br>    insertNode.<span class="hljs-built_in">next</span> = cur<br>    <span class="hljs-keyword">return</span> head<br></code></pre></td></tr></table></figure><hr><h2 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h2><p><code>stack</code>ï¼šå…ˆè¿›åå‡º</p><h3 id="æ ˆçš„å®ç°"><a href="#æ ˆçš„å®ç°" class="headerlink" title="æ ˆçš„å®ç°"></a>æ ˆçš„å®ç°</h3><hr><h2 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h2><p><code>queue</code>ï¼šå…ˆè¿›å…ˆå‡º</p><h3 id="é˜Ÿåˆ—çš„å®ç°"><a href="#é˜Ÿåˆ—çš„å®ç°" class="headerlink" title="é˜Ÿåˆ—çš„å®ç°"></a>é˜Ÿåˆ—çš„å®ç°</h3><p><a href="https://leetcode.cn/problems/implement-queue-using-stacks/">232. ç”¨æ ˆå®ç°é˜Ÿåˆ—</a></p><blockquote><p>åŒæ ˆå®ç°é˜Ÿåˆ—ï¼š<code>stack1</code> ä¸ºè¾“å…¥æ ˆï¼Œ<code>stack2</code> ä¸ºè¾“å‡ºæ ˆã€‚å½“ <code>stack2</code> ä¸ºç©ºæ—¶ï¼Œå°† <code>stack1</code> ä¸­çš„å…ƒç´ æŒ¨ä¸ªå¼¹å‡ºå‹å…¥è‡³ <code>stack2</code> ä¸­ï¼Œä» <code>stack2</code> ä¸­è¿›è¡Œ <code>pop</code> å’Œ <code>peek</code> æ“ä½œã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyQueue</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.stack1 = []<br>        self.stack2 = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">self, x</span>):<br>        self.stack1.append(x)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.stack2:<br>            <span class="hljs-keyword">while</span> self.stack1:<br>                self.stack2.append(self.stack1.pop())<br>        <span class="hljs-keyword">return</span> self.stack2.pop()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">peek</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> self.stack2:<br>            <span class="hljs-keyword">while</span> self.stack1:<br>                self.stack2.append(self.stack1.pop())<br>        <span class="hljs-keyword">return</span> self.stack2[-<span class="hljs-number">1</span>]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">empty</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">return</span> self.stack1 == [] <span class="hljs-keyword">and</span> self.stack2 == []<br></code></pre></td></tr></table></figure><h3 id="åŒç«¯é˜Ÿåˆ—"><a href="#åŒç«¯é˜Ÿåˆ—" class="headerlink" title="åŒç«¯é˜Ÿåˆ—"></a>åŒç«¯é˜Ÿåˆ—</h3><p><code>deque</code>ç›¸æ¯”äºlistå®ç°çš„é˜Ÿåˆ—ï¼Œ<code>deque</code> å®ç°æ‹¥æœ‰æ›´ä½çš„æ—¶é—´å’Œç©ºé—´å¤æ‚åº¦ã€‚ <code>list</code> å®ç°åœ¨å‡ºé˜Ÿ <code>ï¼ˆpopï¼‰</code> å’Œæ’å…¥ <code>ï¼ˆinsertï¼‰</code> æ—¶çš„ç©ºé—´å¤æ‚åº¦å¤§çº¦ä¸º <code>O(n)</code>ï¼Œ<code>deque</code> åœ¨å‡ºé˜Ÿ <code>ï¼ˆpopï¼‰</code> å’Œå…¥é˜Ÿ <code>ï¼ˆappendï¼‰</code> æ—¶çš„æ—¶é—´å¤æ‚åº¦æ˜¯ <code>O(1)</code>ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> collections<br>deque = collections.deque()<br><span class="hljs-comment"># å…¥åˆ—</span><br>deque.append(value)     <span class="hljs-comment"># é»˜è®¤å³ä¾§å…¥åˆ—</span><br>deque.appendleft(value) <span class="hljs-comment"># å·¦ä¾§å…¥åˆ—</span><br><span class="hljs-comment"># å‡ºåˆ—</span><br>deque.popleft()          <span class="hljs-comment"># å·¦ä¾§å‡ºåˆ—</span><br>deque.popright()         <span class="hljs-comment"># å³ä¾§å‡ºåˆ—</span><br></code></pre></td></tr></table></figure><h3 id="ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ä¼˜å…ˆé˜Ÿåˆ—"></a>ä¼˜å…ˆé˜Ÿåˆ—</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> queue<br>priority_queue = queue.PriorityQueue()<br></code></pre></td></tr></table></figure><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs CPP"><span class="hljs-comment">// ä¸€èˆ¬ç±»å‹ï¼š</span><br>priority_queue&lt;<span class="hljs-type">int</span>&gt;Â  q;<br><span class="hljs-comment">// æŒ‡å®šç±»å‹ï¼š</span><br>priority_queue&lt;<span class="hljs-type">int</span>, vector&lt;<span class="hljs-type">int</span>&gt;, greater&lt;<span class="hljs-type">int</span>&gt; &gt; q;   <span class="hljs-comment">// å°é¡¶å †</span><br>priority_queue&lt;<span class="hljs-type">int</span>, vector&lt;<span class="hljs-type">int</span>&gt;, less&lt;<span class="hljs-type">int</span>&gt; &gt; q;      <span class="hljs-comment">// å¤§é¡¶å †</span><br><span class="hljs-comment">// è‡ªå®šä¹‰ä¼˜å…ˆé˜Ÿåˆ—è¿ç®—ç¬¦</span><br>priority_queue&lt;pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; &gt; q;<br>q.<span class="hljs-built_in">push</span>(<span class="hljs-built_in">make_pair</span>(exist[i], i));                      <span class="hljs-comment">// å‹å…¥</span><br>pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; temp = q.<span class="hljs-built_in">top</span>();                       <span class="hljs-comment">// å¼¹å‡º</span><br>a = temp.first;  <br>b = temp.second;<br></code></pre></td></tr></table></figure><h3 id="å¾ªç¯é˜Ÿåˆ—"><a href="#å¾ªç¯é˜Ÿåˆ—" class="headerlink" title="å¾ªç¯é˜Ÿåˆ—"></a>å¾ªç¯é˜Ÿåˆ—</h3><p>ç”¨åˆ—è¡¨å®ç°å¾ªç¯é˜Ÿåˆ—ï¼Œå…³é”®æœ‰ä¸¤ç‚¹ï¼š<br>ï¼ˆ1ï¼‰é˜Ÿç©ºå’Œé˜Ÿæ»¡çš„åˆ¤æ–­ï¼ˆè€ƒç ”çŸ¥è¯†ç‚¹çš„æ¸©ä¹ ï¼‰</p><blockquote><p>é˜Ÿç©ºï¼š<code>self.front == self.rear</code><br>é˜Ÿæ»¡ï¼šè‹¥åˆ—è¡¨å¡«æ»¡çš„æƒ…å†µä¸‹ï¼Œé˜Ÿæ»¡æ—¶åŒæ ·æœ‰ <code>self.front == self.rear</code>ï¼Œå› æ­¤éœ€è¦åŒºåˆ†ã€‚å¯ä»¥ä½¿ç”¨é¢å¤–çš„ä¸€ä¸ªç©ºé—´ï¼Œçº¦å®š <strong>â€œé˜Ÿå¤´æŒ‡é’ˆåœ¨é˜Ÿå°¾æŒ‡é’ˆçš„ä¸‹ä¸€ä½ç½®å³ä¸ºé˜Ÿæ»¡çš„æ ‡å¿—â€</strong>ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/02/jRCDS2QBLPMnTaX.jpg" alt="å›¾æºã€Š2020ç‹é“æ•°æ®ç»“æ„ã€‹"></p><p>ï¼ˆ2ï¼‰é¦–å°¾æŒ‡é’ˆçš„ç§»åŠ¨</p><blockquote><p>å…¥é˜Ÿï¼šé˜Ÿå°¾æŒ‡é’ˆåŠ  1ï¼Œ<code>self.rear = (self.rear+1) % self.MAX_SIZE</code><br>å‡ºé˜Ÿï¼šé˜Ÿé¦–æŒ‡é’ˆåŠ  1ï¼Œ<code>self.front = (self.front+1) % self.MAX_SIZE</code></p></blockquote><p><a href="https://leetcode.cn/problems/design-circular-queue/">622. è®¾è®¡å¾ªç¯é˜Ÿåˆ—</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyCircularQueue</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, k: <span class="hljs-built_in">int</span></span>):<br>        self.MAX_SIZE = k+<span class="hljs-number">1</span><br>        self.front, self.rear = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>        self.queue = [<span class="hljs-number">0</span>]*(k+<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">enQueue</span>(<span class="hljs-params">self, value: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> self.isFull():<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        self.queue[self.rear] = value<br>        self.rear = (self.rear+<span class="hljs-number">1</span>) % self.MAX_SIZE<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">deQueue</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> self.isEmpty():<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        self.front = (self.front+<span class="hljs-number">1</span>) % self.MAX_SIZE<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Front</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> self.isEmpty():<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> self.queue[self.front]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Rear</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> self.isEmpty():<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> self.queue[self.rear-<span class="hljs-number">1</span>]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isEmpty</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">return</span> self.front == self.rear<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">isFull</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">return</span> (self.rear+<span class="hljs-number">1</span>) % self.MAX_SIZE == self.front<br><br><br><span class="hljs-comment"># Your MyCircularQueue object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = MyCircularQueue(k)</span><br><span class="hljs-comment"># param_1 = obj.enQueue(value)</span><br><span class="hljs-comment"># param_2 = obj.deQueue()</span><br><span class="hljs-comment"># param_3 = obj.Front()</span><br><span class="hljs-comment"># param_4 = obj.Rear()</span><br><span class="hljs-comment"># param_5 = obj.isEmpty()</span><br><span class="hljs-comment"># param_6 = obj.isFull()</span><br></code></pre></td></tr></table></figure><hr><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><blockquote><p>å†™åœ¨æœ€å‰ï¼šæœ‰å…³äºäºŒå‰æ ‘ï¼Œä¸è¶…æ—¶çš„æƒ…å†µä¸‹å°½é‡ç”¨é€’å½’åšå§ï¼Œè¿­ä»£å¤ªè´¹è„‘å­äº†</p></blockquote><h3 id="ä¸åŒç±»å‹çš„äºŒå‰æ ‘"><a href="#ä¸åŒç±»å‹çš„äºŒå‰æ ‘" class="headerlink" title="ä¸åŒç±»å‹çš„äºŒå‰æ ‘"></a>ä¸åŒç±»å‹çš„äºŒå‰æ ‘</h3><p><img src="https://s2.loli.net/2022/07/13/1KeO42izhZHw9RN.png" alt="ä»å·¦è‡³å³ä¾æ¬¡ä¸ºï¼šå®Œæ»¡äºŒå‰æ ‘ï¼Œå®Œå…¨äºŒå‰æ ‘ï¼Œæ»¡äºŒå‰æ ‘"><br>ï¼ˆ1ï¼‰<strong>æ»¡äºŒå‰æ ‘</strong>ï¼ˆå®Œç¾äºŒå‰æ ‘ï¼‰</p><blockquote><p><strong>æ»¡äºŒå‰æ ‘</strong>ï¼šæ¯ä¸€å±‚çš„ç»“ç‚¹æ•°ç›®éƒ½è¾¾åˆ°æœ€å¤§å€¼ï¼Œå³ç¬¬ <code>i</code> å±‚æœ‰ $2^{i-1}$ ä¸ªç»“ç‚¹ã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/">116. å¡«å……æ¯ä¸ªèŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªå³ä¾§èŠ‚ç‚¹æŒ‡é’ˆ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">connect</span>(<span class="hljs-params">self, root: <span class="hljs-string">&#x27;Optional[Node]&#x27;</span></span>) -&gt; <span class="hljs-string">&#x27;Optional[Node]&#x27;</span>:<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:<br>        <span class="hljs-keyword">return</span> root<br>    queue = [root]<br>    <span class="hljs-keyword">while</span> queue:<br>        node = queue.pop(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">if</span> node.left:<br>            node.left.<span class="hljs-built_in">next</span> = node.right<br>            <span class="hljs-keyword">if</span> node.<span class="hljs-built_in">next</span>:<br>                node.right.<span class="hljs-built_in">next</span> = node.<span class="hljs-built_in">next</span>.left<br><br>            queue.append(node.left)<br>            queue.append(node.right)<br>    <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰<strong>å®Œå…¨äºŒå‰æ ‘</strong></p><blockquote><p><strong>å®Œå…¨äºŒå‰æ ‘</strong>ï¼šç”±æ»¡äºŒå‰æ ‘è€Œå¼•å‡ºæ¥çš„ã€‚å¯¹äºæ·±åº¦ä¸º <code>K</code>çš„ï¼Œæœ‰ <code>n</code> ä¸ªç»“ç‚¹çš„äºŒå‰æ ‘ï¼Œå½“ä¸”ä»…å½“å…¶æ¯ä¸€ä¸ªç»“ç‚¹éƒ½ä¸æ·±åº¦ä¸º <code>K</code> çš„æ»¡äºŒå‰æ ‘ä¸­ç¼–å·ä» <code>1</code> è‡³ <code>n</code> çš„ç»“ç‚¹<strong>ä¸€ä¸€å¯¹åº”</strong>ã€‚<strong>æ»¡äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„å®Œå…¨äºŒå‰æ ‘</strong>ã€‚</p></blockquote><p>ï¼ˆ3ï¼‰<strong>äºŒå‰æœç´¢æ ‘</strong>ï¼ˆBinary Searc Tree, BSTï¼Œä¹Ÿç§°<strong>äºŒå‰æ’åºæ ‘</strong>ï¼‰<br><img src="https://s2.loli.net/2022/07/13/WkBs65hxZe1aipb.png"></p><blockquote><p>æ€§è´¨ï¼šä»»æ„ç»“ç‚¹éƒ½ä¿è¯ <code>å·¦å„¿å­</code> &lt; <code>æ ¹èŠ‚ç‚¹</code> &lt; <code>å³å„¿å­</code></p></blockquote><ul><li>è‹¥å®ƒçš„å·¦å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™å·¦å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å°äºæ ¹èŠ‚ç‚¹çš„å€¼</li><li>è‹¥å®ƒçš„å³å­æ ‘ä¸ä¸ºç©ºï¼Œåˆ™å³å­æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½å¤§äºæ ¹èŠ‚ç‚¹çš„å€¼</li><li>å®ƒçš„å·¦å³å­æ ‘ä¹Ÿåˆ†åˆ«ä¸ºäºŒå‰æœç´¢æ ‘</li></ul><p><a href="https://leetcode.cn/problems/insert-into-a-binary-search-tree/">701. äºŒå‰æœç´¢æ ‘ä¸­çš„æ’å…¥æ“ä½œ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">insertIntoBST</span>(<span class="hljs-params">self, root: TreeNode, val: <span class="hljs-built_in">int</span></span>) -&gt; TreeNode:<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root:<br>        <span class="hljs-keyword">return</span> TreeNode(val)<br>    <span class="hljs-keyword">if</span> root.val &lt; val:<br>        <span class="hljs-keyword">if</span> root.right == <span class="hljs-literal">None</span>:<br>            root.right = TreeNode(val)<br>        <span class="hljs-keyword">else</span>:<br>            self.insertIntoBST(root.right, val)<br>    <span class="hljs-keyword">elif</span> root.val &gt; val:<br>        <span class="hljs-keyword">if</span> root.left == <span class="hljs-literal">None</span>:<br>            root.left = TreeNode(val)<br>        <span class="hljs-keyword">else</span>:<br>            self.insertIntoBST(root.left, val)<br>    <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å¹³è¡¡äºŒå‰æ ‘ï¼ˆBalance Tree, BTï¼Œä¹Ÿç§° AVL æ ‘ï¼‰</p><blockquote><p>å¹³è¡¡äºŒå‰æ ‘ï¼šä»»æ„ç»“ç‚¹çš„å·¦å³ä¸¤ä¸ª<strong>å­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1</strong>ã€‚<br>å¹³è¡¡å› å­ï¼šæŒ‡çš„æ˜¯è¯¥ç»“ç‚¹çš„å·¦å­æ ‘å’Œå³å­æ ‘çš„é«˜åº¦å·®ï¼Œå³ç”¨å·¦å­æ ‘çš„é«˜åº¦å‡å»å³å­æ ‘çš„é«˜åº¦ã€‚</p></blockquote><p>åœ¨å¯¹å¹³è¡¡äºŒå‰æ ‘è¿›è¡Œæ’å…¥æ“ä½œæ—¶ï¼Œæœ‰å¯èƒ½é€ æˆå¹³è¡¡äºŒå‰æ ‘å¤±è¡¡ï¼Œåˆ™éœ€è¦é€šè¿‡ <code>å·¦æ—‹</code> &#x2F; <code>å³æ—‹</code> å¯¹å…¶è¿›è¡Œä¿®æ­£ï¼Œä¿è¯<strong>ä»»æ„ç»“ç‚¹çš„å¹³è¡¡å› å­çš„ç»å¯¹å€¼ä¸è¶…è¿‡ 1</strong>ï¼Œä¿®æ­£æ–¹æ³•åŒ…æ‹¬ <code>LL</code>ã€<code>RR</code>ã€<code>LR</code> å’Œ <code>RL</code> å¹³è¡¡æ—‹è½¬ã€‚<br>ï¼ˆä»¥ä¸‹å›¾æºï¼š<a href="https://blog.csdn.net/jarvan5/article/details/112428036%EF%BC%89">https://blog.csdn.net/jarvan5/article/details/112428036ï¼‰</a><br><img src="https://s2.loli.net/2022/07/13/ODNnFKLXT4kuW6C.png"></p><p>ï¼ˆ5ï¼‰çº¿ç´¢äºŒå‰æ ‘</p><h3 id="äºŒå‰æ ‘çš„éå†"><a href="#äºŒå‰æ ‘çš„éå†" class="headerlink" title="äºŒå‰æ ‘çš„éå†"></a>äºŒå‰æ ‘çš„éå†</h3><p>ï¼ˆ1ï¼‰å‰åºéå†</p><blockquote><p>è®¿é—®é¡ºåºï¼š<code>æ ¹èŠ‚ç‚¹</code> -&gt; <code>å·¦å­æ ‘</code>  -&gt; <code>å³å­æ ‘</code></p></blockquote><p><a href="https://leetcode.cn/problems/binary-tree-preorder-traversal/">144. äºŒå‰æ ‘çš„å‰åºéå†</a></p><blockquote><p>é€’å½’ç®—æ³•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">preorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br>    ret += [root.val]<br>    ret += self.preorderTraversal(root.left)<br>    ret += self.preorderTraversal(root.right)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆç”¨æ ˆå®ç°ï¼Œå·¦ã€å³é“¾å…¥æ ˆï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">preorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> []<br><br>    stack = [root]<br>    <span class="hljs-keyword">while</span>(stack):<br>        node = stack.pop()<br>        ret.append(node.val)            <br>        <span class="hljs-keyword">if</span> node.right:                 <span class="hljs-comment"># å…ˆå‹å…¥å³å­æ ‘ä½¿å…¶åå‡ºæ ˆ</span><br>            stack.append(node.right)<br>        <span class="hljs-keyword">if</span> node.left:<br>            stack.append(node.left)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰ä¸­åºéå†</p><blockquote><p>è®¿é—®é¡ºåºï¼š<code>å·¦å­æ ‘</code> -&gt; <code>æ ¹èŠ‚ç‚¹</code> -&gt; <code>å³å­æ ‘</code></p></blockquote><p><a href="https://leetcode.cn/problems/binary-tree-inorder-traversal/">94. äºŒå‰æ ‘çš„ä¸­åºéå†</a></p><blockquote><p>é€’å½’ç®—æ³•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br>    ret += self.inorderTraversal(root.left)<br>    ret += [root.val]<br>    ret += self.inorderTraversal(root.right)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆç”¨æ ˆå®ç°ï¼Œå·¦é“¾å…¥æ ˆï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">inorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br><br>    stack = []<br>    node = root<br>    <span class="hljs-keyword">while</span>(stack <span class="hljs-keyword">or</span> node):<br>        <span class="hljs-keyword">if</span> node:<br>            stack.append(node)    <span class="hljs-comment"># å·¦å­æ ‘ä¸ä¸ºç©ºåˆ™å§‹ç»ˆå‹å…¥å·¦å„¿å­</span><br>            node = node.left<br>        <span class="hljs-keyword">else</span>:<br>            node = stack.pop()    <span class="hljs-comment"># å¦åˆ™å¼¹å‡ºå½“å‰èŠ‚ç‚¹</span><br>            ret.append(node.val)  <span class="hljs-comment"># å†éå†æ ¹èŠ‚ç‚¹çš„å€¼</span><br>            node = node.right     <span class="hljs-comment"># è®¿é—®å³å­æ ‘</span><br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰ååºéå†</p><blockquote><p>è®¿é—®é¡ºåºï¼š<code>å·¦å­æ ‘</code> -&gt; <code>å³å­æ ‘</code> -&gt; <code>æ ¹èŠ‚ç‚¹</code></p></blockquote><p><a href="https://leetcode.cn/problems/binary-tree-postorder-traversal/">145. äºŒå‰æ ‘çš„ååºéå†</a></p><blockquote><p>é€’å½’ç®—æ³•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">postorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br>    ret += self.postorderTraversal(root.left)<br>    ret += self.postorderTraversal(root.right)<br>    ret += [root.val]<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆç”¨æ ˆå®ç°ï¼Œæœ‰äº¿ç‚¹ç‚¹éš¾åº¦ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">postorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br>    <br>    stack = []<br>    prev = <span class="hljs-literal">None</span>                                   <span class="hljs-comment"># è®°å½•ä¸Šä¸€æ¬¡è®¿é—®çš„ä½ç½®ï¼Œè‹¥ä¸ºå³å­æ ‘åˆ™å¼¹å‡ºå½“å‰å­æ ‘çš„æ ¹èŠ‚ç‚¹</span><br><br>    <span class="hljs-keyword">while</span> root <span class="hljs-keyword">or</span> stack:<br>        <span class="hljs-keyword">while</span> root:                               <span class="hljs-comment"># å½“å‰èŠ‚ç‚¹ä¸ä¸ºç©ºæ—¶å‹å…¥ï¼Œå¹¶ä¸€ç›´ç§»åŠ¨ç›´è‡³å·¦å­æ ‘ä¸ºç©º</span><br>            stack.append(root)<br>            root = root.left<br>        root = stack.pop()                        <span class="hljs-comment"># å½“å‰èŠ‚ç‚¹ä¸ºç©ºåˆ™å¼¹å‡ºï¼Œè½¬å…¥å…¶å³å­æ ‘</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> root.right <span class="hljs-keyword">or</span> root.right == prev:  <span class="hljs-comment"># è‹¥å³å­æ ‘ä¸ºç©ºæˆ–å½“å‰ä»å³å­æ ‘è®¿é—®åè¿”å›</span><br>            ret.append(root.val)<br>            prev = root<br>            root = <span class="hljs-literal">None</span><br>        <span class="hljs-keyword">elif</span> root.right != prev:                  <span class="hljs-comment"># è‹¥å½“å‰ä»å·¦å­æ ‘è®¿é—®åè¿”å›ï¼Œåˆ™è®¿é—®å³å­æ ‘ï¼Œå¹¶å°†prevè®¾å®šä¸ºå³å­æ ‘</span><br>            stack.append(root)<br>            root = root.right<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆè¯„è®ºåŒºçœ‹åˆ°çš„é¢˜è§£ï¼Œç”¨æ ˆå®ç°ï¼Œ<strong>æŒ‰ä¸­å³å·¦å‰åºéå†ï¼Œåè½¬éå†ç»“æœ</strong>å³å¯ï¼Œå¦™å•Šï¼ï¼ï¼ï¼ï¼ï¼ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">postorderTraversal</span>(<span class="hljs-params">self, root</span>):<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> []<br><br>    ret = []<br>    stack = [root]<br>    <span class="hljs-keyword">while</span>(stack):<br>        node = stack.pop()<br>        ret.append(node.val)            <br>        <span class="hljs-keyword">if</span> node.left:<br>            stack.append(node.left)<br>        <span class="hljs-keyword">if</span> node.right:<br>            stack.append(node.right)<br>    <span class="hljs-keyword">return</span> ret[::-<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å±‚æ¬¡éå†<br><a href="https://leetcode.cn/problems/binary-tree-level-order-traversal/">102. äºŒå‰æ ‘çš„å±‚åºéå†</a></p><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆç”¨é˜Ÿåˆ—å®ç°ï¼Œåˆ†å±‚è¾“å‡ºæ­£ç¡®è§£ï¼‰<br>è‡ªå·±å†™çš„è·Ÿå®˜æ–¹é¢˜è§£ä¸ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºç”¨å˜é‡å­˜å‚¨äº†å±‚çº§ï¼Œç„¶åéå†çš„æ—¶å€™ç›´æ¥åŠ å…¥åˆ°å¯¹åº”çš„å±‚çº§åˆ—è¡¨ä¸­ï¼</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">levelOrder</span>(<span class="hljs-params">self, root</span>):<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> []<br><br>    ret = [[]]<br>    queue = [[root, <span class="hljs-number">1</span>]]<br>    <span class="hljs-keyword">while</span>(queue):<br>        node, depth = queue.pop(<span class="hljs-number">0</span>)<br>        ret[depth-<span class="hljs-number">1</span>].append(node.val)<br>        <span class="hljs-keyword">if</span> node.left:<br>            queue.append([node.left, depth+<span class="hljs-number">1</span>])<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ret) &lt; depth+<span class="hljs-number">1</span>:<br>                ret += [[]]<br>        <span class="hljs-keyword">if</span> node.right:<br>            queue.append([node.right, depth+<span class="hljs-number">1</span>])<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ret) &lt; depth+<span class="hljs-number">1</span>:<br>                ret += [[]]<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆ<code>BFS</code> æ¨¡æ¿çš„æ„æ€ï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">levelOrder</span>(<span class="hljs-params">self, root</span>):<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> []<br><br>    ret = []<br>    queue = [root]<br>    <span class="hljs-keyword">while</span>(queue):<br>        temp = []<br>        n = <span class="hljs-built_in">len</span>(queue)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            node = queue.pop(<span class="hljs-number">0</span>)<br>            temp.append(node.val)<br>            <span class="hljs-keyword">if</span> node.left:<br>                queue.append(node.left)<br>            <span class="hljs-keyword">if</span> node.right:<br>                queue.append(node.right)<br>        ret.append(temp)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>è¿­ä»£ç®—æ³•ï¼ˆç”¨é˜Ÿåˆ—å®ç°ï¼Œä¸åˆ†å±‚è¾“å‡ºï¼Œä¸é€‚ç”¨äºè§£æœ¬é¢˜ï¼Œä»…ä¾›å‚è€ƒï¼‰</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">levelOrder</span>(<span class="hljs-params">self, root</span>):<br>    ret = []<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> ret<br>    <br>    queue = [root]<br>    <span class="hljs-keyword">while</span>(queue):<br>        node = queue.pop(<span class="hljs-number">0</span>)<br>        ret.append(node.val)<br>        <span class="hljs-keyword">if</span> node.left:<br>            queue.append(node.left)<br>        <span class="hljs-keyword">if</span> node.right:<br>            queue.append(node.right)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h3 id="å“ˆå¤«æ›¼æ ‘"><a href="#å“ˆå¤«æ›¼æ ‘" class="headerlink" title="å“ˆå¤«æ›¼æ ‘"></a>å“ˆå¤«æ›¼æ ‘</h3><h3 id="å¹¶æŸ¥é›†"><a href="#å¹¶æŸ¥é›†" class="headerlink" title="å¹¶æŸ¥é›†"></a>å¹¶æŸ¥é›†</h3><hr><h2 id="å›¾"><a href="#å›¾" class="headerlink" title="å›¾"></a>å›¾</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>ï¼ˆ1ï¼‰é‚»æ¥çŸ©é˜µ<br>ï¼ˆ2ï¼‰é‚»æ¥è¡¨<br>ï¼ˆ3ï¼‰åå­—é“¾è¡¨<br>ï¼ˆ4ï¼‰é‚»æ¥å¤šé‡è¡¨</p><h3 id="å¹¿åº¦ä¼˜å…ˆéå†"><a href="#å¹¿åº¦ä¼˜å…ˆéå†" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆéå†"></a>å¹¿åº¦ä¼˜å…ˆéå†</h3><h3 id="æ·±åº¦ä¼˜å…ˆéå†"><a href="#æ·±åº¦ä¼˜å…ˆéå†" class="headerlink" title="æ·±åº¦ä¼˜å…ˆéå†"></a>æ·±åº¦ä¼˜å…ˆéå†</h3><h3 id="æœ€å°ç”Ÿæˆæ ‘"><a href="#æœ€å°ç”Ÿæˆæ ‘" class="headerlink" title="æœ€å°ç”Ÿæˆæ ‘"></a>æœ€å°ç”Ÿæˆæ ‘</h3><h3 id="æœ€çŸ­è·¯å¾„"><a href="#æœ€çŸ­è·¯å¾„" class="headerlink" title="æœ€çŸ­è·¯å¾„"></a>æœ€çŸ­è·¯å¾„</h3><h3 id="æ‹“æ‰‘æ’åº"><a href="#æ‹“æ‰‘æ’åº" class="headerlink" title="æ‹“æ‰‘æ’åº"></a>æ‹“æ‰‘æ’åº</h3><blockquote><p><strong>æ‹“æ‰‘æ’åºçš„å®ç°</strong>ï¼šå¯¹äºæœ‰å‘å›¾ <code>G</code>ï¼Œæ¯æ¬¡è®¿é—® <code>G</code> ä¸­å…¥åº¦ä¸º <code>0</code> çš„èŠ‚ç‚¹ï¼Œè®¿é—®å¾—åˆ°çš„åºåˆ—å³ä¸ºæ‹“æ‰‘æ’åºçš„ç»“æœã€‚<br>ï¼ˆ<strong>æ³¨æ„</strong>ï¼šæ¯ä¸€è½®ä¸­å…¥åº¦ä¸º <code>0</code> çš„èŠ‚ç‚¹ä¸å”¯ä¸€ï¼Œå› æ­¤æ‹“æ‰‘æ’åºçš„ç»“æœä¹Ÿä¸å”¯ä¸€ã€‚ï¼‰</p></blockquote><p><a href="https://leetcode.cn/problems/ur2n8P/">å‰‘æŒ‡ Offer II 115. é‡å»ºåºåˆ—</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">sequenceReconstruction</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], sequences: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        inDegrees = [<span class="hljs-number">0</span>]*(n+<span class="hljs-number">1</span>)<br>        dst = defaultdict(<span class="hljs-built_in">list</span>)<br><br>        <span class="hljs-keyword">for</span> sequence <span class="hljs-keyword">in</span> sequences:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(sequence)-<span class="hljs-number">1</span>):<br>                dst[sequence[i]].append(sequence[i+<span class="hljs-number">1</span>])<br>                inDegrees[sequence[i+<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br><br>        queue = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> inDegrees[i]]<br>        <span class="hljs-keyword">while</span> queue:<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(queue) &gt;= <span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>            u = queue.pop(<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> dst[u]:<br>                inDegrees[v] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> inDegrees[v]:<br>                    queue.append(v)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>æ‹“æ‰‘æ’åºçš„åº”ç”¨</strong>ï¼šè‹¥è®¿é—®ç»“æŸåè‹¥è¿˜<strong>å­˜åœ¨å…¥åº¦ä¸ä¸º <code>0</code> çš„èŠ‚ç‚¹</strong>ï¼Œåˆ™ <strong><code>G</code> ä¸­å¿…æœ‰ç¯</strong>ã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/longest-cycle-in-a-graph/">6135. å›¾ä¸­çš„æœ€é•¿ç¯</a></p><blockquote><p>ç¬¬ 304 åœºå‘¨èµ›çš„å‹è½´é¢˜ï¼Œé¢˜è§£ï¼š<a href="https://svyj.github.io/2022/07/10/032-Leetcode/">https://svyj.github.io/2022/07/10/032-Leetcode/</a></p></blockquote><h3 id="å…³é”®è·¯å¾„"><a href="#å…³é”®è·¯å¾„" class="headerlink" title="å…³é”®è·¯å¾„"></a>å…³é”®è·¯å¾„</h3><hr><h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><h3 id="é¡ºåºæŸ¥æ‰¾"><a href="#é¡ºåºæŸ¥æ‰¾" class="headerlink" title="é¡ºåºæŸ¥æ‰¾"></a>é¡ºåºæŸ¥æ‰¾</h3><h3 id="æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰"><a href="#æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰" class="headerlink" title="æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰"></a>æŠ˜åŠæŸ¥æ‰¾ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰</h3><p>ï¼ˆ<a href="#binary_search">äºŒåˆ†æŸ¥æ‰¾ä¾‹é¢˜ç‚¹è¿™é‡Œ</a>ï¼‰</p><h3 id="åˆ†å—æŸ¥æ‰¾"><a href="#åˆ†å—æŸ¥æ‰¾" class="headerlink" title="åˆ†å—æŸ¥æ‰¾"></a>åˆ†å—æŸ¥æ‰¾</h3><hr><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="Pythonå†…ç½®æ’åºæ–¹æ³•"><a href="#Pythonå†…ç½®æ’åºæ–¹æ³•" class="headerlink" title="Pythonå†…ç½®æ’åºæ–¹æ³•"></a>Pythonå†…ç½®æ’åºæ–¹æ³•</h3><p>ä¸€ç»´åˆ—è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">list</span>.sort(cmp=<span class="hljs-literal">None</span>, key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span>)<br><span class="hljs-comment"># æˆ–</span><br><span class="hljs-built_in">sorted</span>(<span class="hljs-built_in">list</span>, key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><p>äºŒç»´åˆ—è¡¨</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">list</span> = [[ <span class="hljs-string">&#x27;A&#x27;</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">99</span>], [ <span class="hljs-string">&#x27;J&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">86</span>], [ <span class="hljs-string">&#x27;T&#x27;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">65</span>], [ <span class="hljs-string">&#x27;S&#x27;</span>, -<span class="hljs-number">2</span>, <span class="hljs-number">100</span>], [<span class="hljs-string">&#x27;B&#x27;</span>, -<span class="hljs-number">4</span>, <span class="hljs-number">77</span>], [<span class="hljs-string">&#x27;L&#x27;</span>, <span class="hljs-number">2</span>, <span class="hljs-number">59</span>]]<br><br><span class="hljs-comment"># æŒ‰ç¬¬ä¸€ä¸ªå…ƒç´ æ’åº</span><br><span class="hljs-built_in">list</span>.sort(key=(<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">0</span>]), reverse=<span class="hljs-literal">False</span>)<br><br><span class="hljs-comment"># æŒ‰ç¬¬äºŒä¸ªå…ƒç´ çš„ç»å¯¹å€¼æ’åº</span><br><span class="hljs-built_in">list</span>.sort(key=<span class="hljs-keyword">lambda</span> x:(<span class="hljs-built_in">abs</span>(x[<span class="hljs-number">1</span>]),x[<span class="hljs-number">1</span>]), reverse=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># å…ˆæŒ‰ç»å¯¹å€¼ï¼ˆç¬¬ä¸€å…³é”®è¯ï¼‰ï¼Œå†æŒ‰æœ¬èº«å¤§å°ï¼ˆç¬¬äºŒå…³é”®è¯ï¼‰  å¦‚æœç»å¯¹å€¼ç›¸åŒï¼Œåˆ™æ­£æ•°åœ¨å‰é¢</span><br></code></pre></td></tr></table></figure><h3 id="å†…éƒ¨æ’åºå’Œå¤–éƒ¨æ’åº"><a href="#å†…éƒ¨æ’åºå’Œå¤–éƒ¨æ’åº" class="headerlink" title="å†…éƒ¨æ’åºå’Œå¤–éƒ¨æ’åº"></a>å†…éƒ¨æ’åºå’Œå¤–éƒ¨æ’åº</h3><blockquote><p><strong>æ’åºç®—æ³•ä¸­å„ç§ä¸åˆå§‹åºåˆ—æ— å…³</strong><br>ï¼ˆ1ï¼‰å…ƒç´ çš„ç§»åŠ¨æ¬¡æ•°ä¸å…³é”®å­—çš„åˆå§‹æ’åˆ—æ¬¡åºæ— å…³çš„æ˜¯ï¼šåŸºæ•°æ’åº<br>ï¼ˆ2ï¼‰å…ƒç´ çš„æ¯”è¾ƒæ¬¡æ•°ä¸åˆå§‹åºåˆ—æ— å…³æ˜¯ï¼šé€‰æ‹©æ’åºã€æŠ˜åŠæ’å…¥æ’åº<br>ï¼ˆ3ï¼‰ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸åˆå§‹åºåˆ—æ— å…³çš„æ˜¯ï¼šé€‰æ‹©æ’åºã€å †æ’åºã€å½’å¹¶æ’åºã€åŸºæ•°æ’åº<br>ï¼ˆ4ï¼‰ç®—æ³•çš„æ’åºè¶Ÿæ•°ä¸åˆå§‹åºåˆ—æ— å…³çš„æ˜¯ï¼šæ’å…¥æ’åºã€é€‰æ‹©æ’åºã€åŸºæ•°æ’åº</p></blockquote><h3 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h3><p>ï¼ˆ1ï¼‰ç›´æ¥æ’å…¥<br>ï¼ˆ2ï¼‰æŠ˜åŠæ’å…¥<br>ï¼ˆ3ï¼‰å¸Œå°”æ’åº</p><h3 id="äº¤æ¢æ’åº"><a href="#äº¤æ¢æ’åº" class="headerlink" title="äº¤æ¢æ’åº"></a>äº¤æ¢æ’åº</h3><p>ï¼ˆ1ï¼‰å†’æ³¡æ’åº<br>ï¼ˆ2ï¼‰å¿«é€Ÿæ’åº</p><h3 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h3><p>ï¼ˆ1ï¼‰ç®€å•é€‰æ‹©æ’åº<br>ï¼ˆ2ï¼‰å †æ’åº</p><h3 id="å½’å¹¶æ’åº"><a href="#å½’å¹¶æ’åº" class="headerlink" title="å½’å¹¶æ’åº"></a>å½’å¹¶æ’åº</h3><h3 id="åŸºæ•°æ’åº"><a href="#åŸºæ•°æ’åº" class="headerlink" title="åŸºæ•°æ’åº"></a>åŸºæ•°æ’åº</h3><hr><h1 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h1><h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><p>ï¼ˆ<a href="https://blog.csdn.net/qq_45978890/article/details/116094046">è¯¦ç»†å›¾è§£</a>ï¼‰ <a id="binary_search"></a></p><blockquote><p><strong>å¿…è¦æ¡ä»¶</strong>ï¼š<br>ï¼ˆ1ï¼‰æŸ¥æ‰¾çš„å†…å®¹é€»è¾‘æœ‰åºï¼›<br>ï¼ˆ2ï¼‰æŸ¥æ‰¾å…ƒç´ æ•°é‡ä¸º <code>1</code>ã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/binary-search/">704. äºŒåˆ†æŸ¥æ‰¾</a></p><blockquote><p>å·¦é—­å³é—­åŒºé—´æŸ¥æ‰¾</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, nums, target, n</span>):<br>    left, right = <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span>                <span class="hljs-comment"># rightåˆå§‹å€¼ä¸º n-1</span><br>    <span class="hljs-keyword">while</span>(left &lt;= right):               <span class="hljs-comment"># å–ç­‰å·, å½“ left==right æ—¶, åŒºé—´[left, right]æœ‰æ„ä¹‰</span><br>        mid = (left + right) // <span class="hljs-number">2</span><br>        <span class="hljs-keyword">if</span> nums[mid] &gt; target:<br>            right = mid - <span class="hljs-number">1</span>             <span class="hljs-comment"># target åœ¨å·¦åŒºé—´, å³ç«¯ç‚¹å‡ 1 ä»¥æ’é™¤</span><br>        <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>            left = mid + <span class="hljs-number">1</span>              <span class="hljs-comment"># target åœ¨å³åŒºé—´, å·¦ç«¯ç‚¹åŠ  1 ä»¥æ’é™¤</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> mid<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>                           <span class="hljs-comment"># æŸ¥æ‰¾å¤±è´¥</span><br></code></pre></td></tr></table></figure><blockquote><p>å·¦é—­å³å¼€åŒºé—´æŸ¥æ‰¾</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">search</span>(<span class="hljs-params">self, nums, target, n</span>):<br>    left, right = <span class="hljs-number">0</span>, n                  <span class="hljs-comment"># rightåˆå§‹å€¼ä¸º n</span><br>    <span class="hljs-keyword">while</span>(left &lt; right):                <span class="hljs-comment"># ä¸å–ç­‰å·, å½“ left==right æ—¶, åŒºé—´[left, right)æ— æ„ä¹‰</span><br>        mid = (left + right) // <span class="hljs-number">2</span>     <br>        <span class="hljs-keyword">if</span> nums[mid] &gt; target:        <br>            right = mid                 <span class="hljs-comment"># target åœ¨å·¦åŒºé—´, å³ç«¯ç‚¹è‡ªåŠ¨æ’é™¤, æ— éœ€å‡ 1 </span><br>        <span class="hljs-keyword">elif</span> nums[mid] &lt; target:<br>            left = mid + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> mid<br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>                           <span class="hljs-comment"># æŸ¥æ‰¾å¤±è´¥</span><br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/first-bad-version/">278. ç¬¬ä¸€ä¸ªé”™è¯¯çš„ç‰ˆæœ¬</a></p><hr><h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ "></a>åŒæŒ‡é’ˆ <a id="double_pointer"></a></h2><h3 id="ç®€å•åŒæŒ‡é’ˆ"><a href="#ç®€å•åŒæŒ‡é’ˆ" class="headerlink" title="ç®€å•åŒæŒ‡é’ˆ"></a>ç®€å•åŒæŒ‡é’ˆ</h3><p><a href="https://leetcode.cn/problems/rotate-array/">189. è½®è½¬æ•°ç»„</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">rotate</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Do not return anything, modify nums in-place instead.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    n = <span class="hljs-built_in">len</span>(nums)<br>    k = k % n<br>    count = gcd(k, n)<br>    <span class="hljs-keyword">for</span> start <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(count):<br>        cur = start<br>        pre = nums[start]<br>        <span class="hljs-keyword">while</span>(<span class="hljs-literal">True</span>):<br>            <span class="hljs-built_in">next</span> = (cur + k) % n<br>            nums[<span class="hljs-built_in">next</span>], pre = pre, nums[<span class="hljs-built_in">next</span>]<br>            cur = <span class="hljs-built_in">next</span><br>            <span class="hljs-keyword">if</span> start == cur:<br>                <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><h3 id="å¿«æ…¢åŒæŒ‡é’ˆ"><a href="#å¿«æ…¢åŒæŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢åŒæŒ‡é’ˆ"></a>å¿«æ…¢åŒæŒ‡é’ˆ</h3><p><a href="https://leetcode.cn/problems/linked-list-cycle/">141. ç¯å½¢é“¾è¡¨</a></p><blockquote><p>å¿«æŒ‡é’ˆ <code>fast</code> å…ˆèµ° <code>n</code> æ­¥ï¼Œæ…¢æŒ‡é’ˆ <code>slow</code> å†å¼€å§‹ç§»åŠ¨ï¼Œå½“å¿«æŒ‡é’ˆåˆ°è¾¾é“¾è¡¨æœ«å°¾æ—¶ï¼Œæ…¢æŒ‡é’ˆæ‰€åœ¨ä½ç½®å³ä¸ºæ‰€æ±‚</p></blockquote><p><a href="https://leetcode.cn/problems/remove-nth-node-from-end-of-list/">19. åˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬ N ä¸ªç»“ç‚¹</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">removeNthFromEnd</span>(<span class="hljs-params">self, head, n</span>):<br>    <span class="hljs-keyword">if</span> head == <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> head.<span class="hljs-built_in">next</span> == <span class="hljs-literal">None</span>:   <span class="hljs-comment"># é“¾è¡¨å…ƒç´ ä¸ªæ•°å°äºç­‰äº 1</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    fast, slow = head, head<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):                      <span class="hljs-comment"># å¿«æŒ‡é’ˆå…ˆç§»åŠ¨ n æ­¥</span><br>        fast = fast.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">if</span> fast == <span class="hljs-literal">None</span>:                        <span class="hljs-comment"># è‹¥å¿«æŒ‡é’ˆéå†è‡³é“¾è¡¨æœ«å°¾,å€’æ•°ç¬¬ n ä¸ªåˆ™ä¸ºé“¾è¡¨ç¬¬ä¸€ä¸ªå…ƒç´   </span><br>        <span class="hljs-keyword">return</span> head.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">while</span>(fast.<span class="hljs-built_in">next</span>):                       <span class="hljs-comment"># å¿«æ…¢æŒ‡é’ˆåŒæ—¶ç§»åŠ¨,ç›´è‡³å¿«æŒ‡é’ˆç§»åŠ¨åˆ°é“¾è¡¨æœ«å°¾</span><br>        fast = fast.<span class="hljs-built_in">next</span><br>        slow = slow.<span class="hljs-built_in">next</span><br>    slow.<span class="hljs-built_in">next</span> = slow.<span class="hljs-built_in">next</span>.<span class="hljs-built_in">next</span><br>    <span class="hljs-keyword">return</span> head<br></code></pre></td></tr></table></figure><h3 id="é€†å‘åŒæŒ‡é’ˆ"><a href="#é€†å‘åŒæŒ‡é’ˆ" class="headerlink" title="é€†å‘åŒæŒ‡é’ˆ"></a>é€†å‘åŒæŒ‡é’ˆ</h3><blockquote><p>ç”±äº <code>num1</code> ä¸­æœ«å°¾å‡ä¸º <code>0</code>ï¼Œå› æ­¤ä»åå¾€å‰å¡«</p></blockquote><p><a href="https://leetcode.cn/problems/merge-sorted-array/">88. åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">self, nums1: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], m: <span class="hljs-built_in">int</span>, nums2: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    Do not return anything, modify nums1 in-place instead.</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    i, j, index = m-<span class="hljs-number">1</span>, n-<span class="hljs-number">1</span>, m+n-<span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span>(index &gt;= <span class="hljs-number">0</span>):<br>        <span class="hljs-keyword">if</span> i == -<span class="hljs-number">1</span>:<br>            nums1[index] = nums2[j]<br>            j -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> j == -<span class="hljs-number">1</span>:<br>            nums1[index] = nums1[i]<br>            i -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> nums1[i] &gt; nums2[j]:<br>            nums1[index] = nums1[i]<br>            i -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">elif</span> nums1[i] &lt;= nums2[j]:<br>            nums1[index] = nums2[j]<br>            j -= <span class="hljs-number">1</span><br>        index -= <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> nums1<br></code></pre></td></tr></table></figure><h3 id="é¦–å°¾æŒ‡é’ˆ"><a href="#é¦–å°¾æŒ‡é’ˆ" class="headerlink" title="é¦–å°¾æŒ‡é’ˆ"></a>é¦–å°¾æŒ‡é’ˆ</h3><p><a href="https://leetcode.cn/problems/two-sum-ii-input-array-is-sorted/">167. ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</a></p><blockquote><p>åŒæŒ‡é’ˆä»å·¦å³ä¸¤ä¾§ç§»åŠ¨ï¼Œè‹¥å½“å‰å’Œå€¼åå¤§åˆ™å³æŒ‡é’ˆå·¦ç§»ï¼Œåå°åˆ™å·¦æŒ‡é’ˆå³ç§»</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">twoSum</span>(<span class="hljs-params">self, numbers, target:</span>):<br>    i, j = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(numbers)-<span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span>(i &lt; j):<br>        <span class="hljs-keyword">if</span> numbers[i] + numbers[j] == target:<br>            <span class="hljs-keyword">return</span> [i+<span class="hljs-number">1</span>, j+<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">elif</span> numbers[i] + numbers[j] &gt; target:<br>            j -= <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            i += <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><hr><h2 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h2><p><a href="https://leetcode.cn/problems/permutation-in-string/">567. å­—ç¬¦ä¸²çš„æ’åˆ—</a></p><blockquote><p>è§£é¢˜æ€è·¯ï¼šè®¾å®šä¸€ä¸ªå›ºå®šé•¿åº¦ï¼ˆä¸ <code>s1</code> ç­‰é•¿ï¼‰çš„çª—å£åœ¨ <code>s2</code> ä¸Šç§»åŠ¨ï¼Œåˆ©ç”¨å“ˆå¸Œè¡¨è®°å½• <code>s1</code> å’Œè¯¥æ»‘åŠ¨çª—å£å†…å„å­—æ¯çš„æ•°é‡ã€‚<br>çª—å£æ¯å‘å³ç§»åŠ¨ä¸€æ¬¡ï¼Œå·¦ä¾§æŠ›å¼ƒä¸€ä¸ªå­—æ¯ï¼Œå³ä¾§ä¸€ä¸ªå­—æ¯ï¼Œç»´æŠ¤ç»Ÿè®¡æ»‘åŠ¨çª—å£çš„å“ˆå¸Œè¡¨ï¼Œç§»åŠ¨è¿‡ç¨‹ä¸­åˆ¤æ–­ä¸¤ä¸ªå“ˆå¸Œè¡¨æ˜¯å¦ç›¸åŒå³å¯ã€‚</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š $O(M \times N)$ï¼Œ$M&#x3D;26$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š $O(M)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">checkInclusion</span>(<span class="hljs-params">self, s1: <span class="hljs-built_in">str</span>, s2: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    n, m = <span class="hljs-built_in">len</span>(s1), <span class="hljs-built_in">len</span>(s2)<br>    cnt1 = [<span class="hljs-number">0</span>]*<span class="hljs-number">26</span><br>    cnt2 = [<span class="hljs-number">0</span>]*<span class="hljs-number">26</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>        cnt1[<span class="hljs-built_in">ord</span>(s1[i])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)] += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m-n+<span class="hljs-number">1</span>):<br>        <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                cnt2[<span class="hljs-built_in">ord</span>(s2[i+j])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)] += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cnt1 == cnt2:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">else</span>:<br>            cnt2[<span class="hljs-built_in">ord</span>(s2[i-<span class="hljs-number">1</span>])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)] -= <span class="hljs-number">1</span><br>            cnt2[<span class="hljs-built_in">ord</span>(s2[i+n-<span class="hljs-number">1</span>])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)] += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> cnt1 == cnt2:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/">209. é•¿åº¦æœ€å°çš„å­æ•°ç»„</a></p><blockquote><p>ç©¶ææ¨¡æ¿é¢˜ï¼ï¼ï¼</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># æ¨¡æ¿é¢˜</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">minSubArrayLen</span>(<span class="hljs-params">self, target, nums</span>)<br>    left, right, curSum, maxlen = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(nums)+<span class="hljs-number">1</span> <span class="hljs-comment"># åˆå§‹åŒ–å·¦å³ç«¯ç‚¹</span><br>    <span class="hljs-keyword">while</span>(right &lt; <span class="hljs-built_in">len</span>(nums)):                          <span class="hljs-comment"># while(å³ç«¯ç‚¹å¯ç§»åŠ¨): ç§»åŠ¨å³ç«¯ç‚¹</span><br>        curSum += nums[right]                          <span class="hljs-comment"># çª—å£åŠ å…¥å³ç«¯ç‚¹å…ƒç´ </span><br>        <span class="hljs-keyword">while</span>(curSum &gt;= target):                       <span class="hljs-comment"># while(æ»¡è¶³é¢˜ç›®æ¡ä»¶): ç§»åŠ¨å·¦ç«¯ç‚¹</span><br>            <span class="hljs-keyword">if</span> right - left + <span class="hljs-number">1</span> &lt; maxlen:                 <span class="hljs-comment"># æ›´æ–°çª—å£å€¼</span><br>                maxlen = right - left + <span class="hljs-number">1</span><br>            curSum -= nums[left]                       <span class="hljs-comment"># çª—å£åˆ é™¤å·¦ç«¯ç‚¹å…ƒç´ </span><br>            left += <span class="hljs-number">1</span>                                  <span class="hljs-comment"># å·¦ç«¯ç‚¹å³ç§»</span><br>        right += <span class="hljs-number">1</span>                                     <span class="hljs-comment"># å³ç«¯ç‚¹å³ç§»</span><br>    <span class="hljs-keyword">return</span> maxlen<br></code></pre></td></tr></table></figure><blockquote><p>æŒ‰ç…§ä¸Šé¢çš„æ¨¡æ¿ ğŸ‘†ğŸ‘†ğŸ‘†ï¼Œ åšä¸‹é¢è¿™é¢˜ ğŸ‘‡ğŸ‘‡ğŸ‘‡ï¼Œå°å°ç§’è§£çš„å¿«æ„Ÿâ€¦â€¦ï¼ˆç…§ç€æ¨¡æ¿å¾€é‡Œå¥—å†…å®¹å³å¯ï¼‰<br><strong>æ³¨</strong>ï¼šç¿»äº†ç¿» <code>ASCII</code> ç è¡¨ï¼ˆ<a href="https://www.habaijian.com/">ASCIIç ä¸­æ–‡ç«™</a>ï¼‰ï¼Œæœ‰ä¸€ä¸ªåšå­—ç¬¦ä¸²é¢˜ç›®éƒ½èƒ½ç”¨çš„å° <code>trick</code>ï¼Œæ¯”å¦‚è¿™é“é¢˜ï¼Œæ¶‰åŠåˆ°çš„æ‰“å°å­—ç¬¦ä¸€å…± <code>95</code> ä¸ªï¼ˆå·²ç»ç®—æ˜¯æœ€å¤šçš„æƒ…å†µäº†ï¼‰ï¼Œæ­¤æ—¶ç”¨æ•°ç»„æ¥æ ‡è®°å‡ºç°è¿‡çš„å­—ç¬¦æ¯”å®˜æ–¹é¢˜è§£çš„å“ˆå¸Œè¡¨ <code>set()</code> æ•ˆç‡é«˜å¾ˆå¤šã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/longest-substring-without-repeating-characters/">3. æ— é‡å¤å­—ç¬¦çš„æœ€é•¿å­ä¸²</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLongestSubstring</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>    n = <span class="hljs-built_in">len</span>(s)<br>    dicts = [<span class="hljs-number">0</span>]*<span class="hljs-number">95</span><br>    left, right = <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br>    maxLen = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> right &lt; n:<br>        dicts[<span class="hljs-built_in">ord</span>(s[right])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27; &#x27;</span>)] += <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">if</span> dicts[<span class="hljs-built_in">ord</span>(s[right])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27; &#x27;</span>)] &gt; <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">while</span>(left &lt;= right):<br>                <span class="hljs-keyword">if</span> s[left] == s[right]:<br>                    dicts[<span class="hljs-built_in">ord</span>(s[left])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27; &#x27;</span>)] -= <span class="hljs-number">1</span><br>                    left += <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">break</span><br>                dicts[<span class="hljs-built_in">ord</span>(s[left])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27; &#x27;</span>)] -= <span class="hljs-number">1</span><br>                left += <span class="hljs-number">1</span><br><br>        curLen = right - left + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> curLen &gt; maxLen:<br>            maxLen = curLen<br>        right += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> maxLen<br></code></pre></td></tr></table></figure><hr><h2 id="æ·±åº¦ä¼˜å…ˆæœç´¢"><a href="#æ·±åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="æ·±åº¦ä¼˜å…ˆæœç´¢"></a>æ·±åº¦ä¼˜å…ˆæœç´¢</h2><p><a href="https://leetcode.cn/problems/most-frequent-subtree-sum/">508. å‡ºç°æ¬¡æ•°æœ€å¤šçš„å­æ ‘å…ƒç´ å’Œ</a></p><blockquote><p>å¾ˆåŸºæœ¬çš„ <code>DFS</code> æ¨¡æ¿é¢˜â€¦â€¦<strong><code>DFS</code> å¾€å¾€é€šè¿‡é€’å½’è°ƒç”¨å®ç°</strong></p></blockquote><p><a href="https://leetcode.cn/problems/find-bottom-left-tree-value/">513. æ‰¾æ ‘å·¦ä¸‹è§’çš„å€¼</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># é€’å½’æ·±åº¦æœç´¢</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">findBottomLeftValue</span>(<span class="hljs-params">self, root</span>):<br>    ret = maxdep = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">dfs</span>(<span class="hljs-params">node, depth</span>):<br>        <span class="hljs-keyword">if</span> node <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>            <span class="hljs-keyword">return</span><br>        <span class="hljs-keyword">nonlocal</span> ret, maxdep<br>        <span class="hljs-keyword">if</span> depth &gt; maxdep:<br>            ret = node.val<br>            maxdep = depth<br>        dfs(node.left, depth+<span class="hljs-number">1</span>)   <span class="hljs-comment"># é€’å½’æœç´¢å·¦å­æ ‘</span><br>        dfs(node.right, depth+<span class="hljs-number">1</span>)  <span class="hljs-comment"># é€’å½’æœç´¢å³å­æ ‘</span><br>    dfs(root, <span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/find-largest-value-in-each-tree-row/">515. åœ¨æ¯ä¸ªæ ‘è¡Œä¸­æ‰¾æœ€å¤§å€¼</a></p><hr><h2 id="å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>å¹¿åº¦ä¼˜å…ˆæœç´¢</h2><blockquote><p>åˆæ˜¯ä¸€ä¸ªæ¨¡æ¿é¢˜ï¼Œ<code>BFS</code> ä¸­æœ€å¸¸è§çš„æ±‚æœ€å¤§è¿é€šåŒºåŸŸé—®é¢˜ï¼Œ**<code>BFS</code> é€šå¸¸ç”¨é˜Ÿåˆ—å®ç°**</p></blockquote><p><a href="https://leetcode.cn/problems/max-area-of-island/">695. å²›å±¿çš„æœ€å¤§é¢ç§¯</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">maxAreaOfIsland</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>    self.m, self.n = <span class="hljs-built_in">len</span>(grid), <span class="hljs-built_in">len</span>(grid[<span class="hljs-number">0</span>])<br>    self.dire = [[-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">1</span>, <span class="hljs-number">0</span>], [<span class="hljs-number">0</span>, -<span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]]<br>    self.flag = [[<span class="hljs-number">0</span>]*self.n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.m)]<br>    self.grid = grid<br>    ret = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.m):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.n):<br>            <span class="hljs-keyword">if</span> self.grid[i][j] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> self.flag[i][j] == <span class="hljs-number">0</span>:<br>                area = self.bfs(i, j)<br>                <span class="hljs-keyword">if</span> area &gt; ret:<br>                    ret = area<br>    <span class="hljs-keyword">return</span> ret<br>    <br><span class="hljs-keyword">def</span> <span class="hljs-title function_">bfs</span>(<span class="hljs-params">self, x, y</span>):<br>    area = <span class="hljs-number">0</span><br>    queue = [[x, y]]<br>    <span class="hljs-keyword">while</span> queue:<br>        x, y = queue.pop(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            dstX = x + self.dire[i][<span class="hljs-number">0</span>]<br>            dstY = y + self.dire[i][<span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">if</span> dstX &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dstX &lt; self.m <span class="hljs-keyword">and</span> dstY &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dstY &lt; self.n:<br>                <span class="hljs-keyword">if</span> self.grid[dstX][dstY] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> self.flag[dstX][dstY] == <span class="hljs-number">0</span>:<br>                    area += <span class="hljs-number">1</span><br>                    queue.append([dstX, dstY])<br>                    self.flag[dstX][dstY] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">return</span> area <span class="hljs-keyword">if</span> area <span class="hljs-keyword">else</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><blockquote><p><strong>ä¼˜åŒ–ä¸€ä¸‹</strong>ï¼šä¸ç”¨ <code>HashTable</code>ï¼Œç›´æ¥å°† <code>grid</code> ä¸­æœç´¢åˆ°è¿‡çš„ä½ç½®ç½® <code>0</code> å³å¯ ğŸ‘‡ğŸ‘‡ğŸ‘‡<br>å†…å­˜æ¶ˆè€—ï¼š15 MB, åœ¨æ‰€æœ‰ Python3 æäº¤ä¸­å‡»è´¥äº†99.14%çš„ç”¨æˆ·</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">bfs</span>(<span class="hljs-params">self, x, y</span>):<br>    area = <span class="hljs-number">0</span><br>    queue = [[x, y]]<br>    <span class="hljs-keyword">while</span> queue:<br>        x, y = queue.pop(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>            dstX = x + self.dire[i][<span class="hljs-number">0</span>]<br>            dstY = y + self.dire[i][<span class="hljs-number">1</span>]<br>            <span class="hljs-keyword">if</span> dstX &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dstX &lt; self.m <span class="hljs-keyword">and</span> dstY &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dstY &lt; self.n <span class="hljs-keyword">and</span> self.grid[dstX][dstY] == <span class="hljs-number">1</span>:<br>                area += <span class="hljs-number">1</span><br>                queue.append([dstX, dstY])<br>                self.grid[dstX][dstY] = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">return</span> area <span class="hljs-keyword">if</span> area <span class="hljs-keyword">else</span> <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><blockquote><p>ä¸‹é¢æ˜¯ä¸€é“ç»å…¸çš„é¢˜ç›®ï¼Œå¯ä»¥å‚è€ƒ<a href="https://leetcode.cn/problems/rotting-oranges/">994. è…çƒ‚çš„æ©˜å­</a> ğŸ‘‡ğŸ‘‡ğŸ‘‡<br><code>BFS</code> è§£æ³•ä¸æ˜¯è¯¥é¢˜çš„æœ€ä¼˜è§£ï¼Œä½† <code>BFS</code> çš„æ€æƒ³éå¸¸ç»å…¸</p></blockquote><blockquote><p>è§£é¢˜æ€è·¯ï¼šå°†æ‰€æœ‰ <code>0</code> è§†ä½œè…çƒ‚çš„æ©˜å­ï¼Œ<code>1</code> è§†ä½œæ­£å¸¸çš„æ©˜å­ï¼Œæ¯ä¸ªè…çƒ‚çš„æ©˜å­æ¯å¤©ä¼šå¯¼è‡´å…¶å‘¨å›´å››ä¸ªæ–¹å‘çš„æ©˜å­è…çƒ‚ï¼Œåˆ™æ±‚æ¯ä¸€ä¸ª <code>1</code> åˆ°æœ€è¿‘çš„ <code>0</code> çš„è·ç¦»ï¼Œç­‰ä»·äºæ±‚è¯¥ä½ç½®çš„æ©˜å­ä¼šåœ¨ç¬¬å‡ å¤©è…çƒ‚ï¼Ÿå°†æ‰€æœ‰ <code>0</code> å½“ä½œä¸€ä¸ªæ•´ä½“ <code>0</code>ï¼Œæ¯ä¸€è½®å¾€å¤–æ‰©æ•£ï¼Œæœç´¢ä¸è¯¥æ•´ä½“ <code>0</code> ç›¸é‚»çš„ <code>1</code>ï¼Œ åˆå§‹ <code>step = 0</code>ï¼Œæ¯ä¸€è½® <code>BFS</code> å <code>step</code> åŠ  <code>1</code>ï¼Œå³<strong>â€œå¤©æ•°åŠ 1â€</strong>ã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/01-matrix/">542. 01 çŸ©é˜µ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">updateMatrix</span>(<span class="hljs-params">self, mat: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>    m, n = <span class="hljs-built_in">len</span>(mat), <span class="hljs-built_in">len</span>(mat[<span class="hljs-number">0</span>])<br>    ret = [[-<span class="hljs-number">1</span>]*n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m)]<br>    queue = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> mat[i][j] == <span class="hljs-number">0</span>:<br>                queue.append([i, j])<br>                ret[i][j] = <span class="hljs-number">0</span><br><br>    step = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">while</span> queue:<br>        k = <span class="hljs-built_in">len</span>(queue)<br>        temp = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(k):<br>            x, y = queue.pop(<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">for</span> dx, dy <span class="hljs-keyword">in</span> [[x, y-<span class="hljs-number">1</span>], [x, y+<span class="hljs-number">1</span>], [x-<span class="hljs-number">1</span>, y], [x+<span class="hljs-number">1</span>, y]]:<br>                <span class="hljs-keyword">if</span> dx &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dx &lt; m <span class="hljs-keyword">and</span> dy &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dy &lt; n:<br>                    <span class="hljs-keyword">if</span> mat[dx][dy] == <span class="hljs-number">1</span>:<br>                        ret[dx][dy] = step<br>                        mat[dx][dy] = <span class="hljs-number">0</span><br>                        temp.append([dx, dy])<br>        queue = temp<br>        step += <span class="hljs-number">1</span><br><br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><hr><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><blockquote><p>é€’å½’çš„é¢˜ç›®ä¸€èˆ¬å¾ˆç®€å•ï¼Œå…³é”®æ˜¯æ‰¾å‡ºæ­£ç¡®çš„é€’æ¨å…¬å¼â€¦â€¦æ¯”å¦‚<strong>æ–æ³¢é‚£å¥‘æ•°åˆ—</strong>ï¼ˆ<a href="https://leetcode.cn/problems/fei-bo-na-qi-shu-lie-lcof/">å‰‘æŒ‡ Offer 10- I. æ–æ³¢é‚£å¥‘æ•°åˆ—</a>ï¼‰ã€<strong>æ±‰è¯ºå¡”é—®é¢˜</strong>ï¼ˆ<a href="https://leetcode.cn/problems/hanota-lcci/">é¢è¯•é¢˜ 08.06. æ±‰è¯ºå¡”é—®é¢˜</a>ï¼‰ã€<strong>é’è›™è·³å°é˜¶é—®é¢˜</strong>ï¼ˆ<a href="https://leetcode.cn/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/">å‰‘æŒ‡ Offer 10- II. é’è›™è·³å°é˜¶é—®é¢˜</a>ï¼‰<br>äºŒå‰æ ‘ä¸­ä¹Ÿå¸¸è§ ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><p><a href="https://leetcode.cn/problems/evaluate-boolean-binary-tree/">6116. è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼</a></p><blockquote><p>ä¸Šæ¥å°±æƒ³ç€ç”¨è¿­ä»£æ³•ï¼Œå‚»å‚»çš„ç”¨æ ˆå®ç°ï¼Œç»“æœä¸ç†Ÿç»ƒæåŠå¤©ç¡¬æ˜¯æ²¡è¿‡â€¦â€¦è¿˜æ˜¯è€è€å®å®ç”¨é€’å½’å†™å§</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluateTree</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    <span class="hljs-keyword">if</span> root.val == <span class="hljs-number">0</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">elif</span> root.val == <span class="hljs-number">1</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>    <span class="hljs-keyword">elif</span> root.val == <span class="hljs-number">2</span>:<br>        <span class="hljs-keyword">return</span> self.evaluateTree(root.left) <span class="hljs-keyword">or</span> self.evaluateTree(root.right)<br>    <span class="hljs-keyword">elif</span> root.val == <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">return</span> self.evaluateTree(root.left) <span class="hljs-keyword">and</span> self.evaluateTree(root.right)<br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/path-sum/">112. è·¯å¾„æ€»å’Œ</a></p><blockquote><p>é€’å½’æ€è·¯ï¼šå‡å»å½“å‰èŠ‚ç‚¹çš„å€¼ï¼Œé€’å½’æŸ¥è¯¢å·¦å­æ ‘æˆ–å³å­æ ‘</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">hasPathSum</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode], targetSum: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <span class="hljs-keyword">if</span> root.left == <span class="hljs-literal">None</span> <span class="hljs-keyword">and</span> root.right == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> targetSum == root.val<br>    <span class="hljs-keyword">return</span> self.hasPathSum(root.left, targetSum-root.val) <span class="hljs-keyword">or</span> self.hasPathSum(root.right, targetSum-root.val)<br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/invert-binary-tree/">226. ç¿»è½¬äºŒå‰æ ‘</a></p><blockquote><p>ä¸€çœ¼é€’å½’ï¼šè°ƒæ¢æ‰€æœ‰èŠ‚ç‚¹çš„å·¦å³å­æ ‘å³å¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">invertTree</span>(<span class="hljs-params">self, root: TreeNode</span>) -&gt; TreeNode:<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> root<br>    temp = root.right<br>    root.right = root.left<br>    root.left = temp<br>    self.invertTree(root.left)<br>    self.invertTree(root.right)<br>    <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><blockquote><p>ä¼˜åŒ–ä¸€ä¸‹ï¼Œåˆ©ç”¨ <code>Python</code> çš„å¤šå…ƒèµ‹å€¼ç‰¹æ€§ ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">invertTree</span>(<span class="hljs-params">self, root: TreeNode</span>) -&gt; TreeNode:<br>    <span class="hljs-keyword">if</span> root == <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">return</span> root<br>    root.right, root.left = self.invertTree(root.left), self.invertTree(root.right)<br>    <span class="hljs-keyword">return</span> root<br></code></pre></td></tr></table></figure><hr><h2 id="å›æº¯"><a href="#å›æº¯" class="headerlink" title="å›æº¯"></a>å›æº¯</h2><blockquote><p>ä»¥ä¸‹ä¸ºå›æº¯æ³•çš„æ¨¡æ¿</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">result = []<br>def backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨):<br>    if æ»¡è¶³ç»“æŸæ¡ä»¶:<br>        result.add(è·¯å¾„)<br>        return<br>    <br>    for é€‰æ‹© in é€‰æ‹©åˆ—è¡¨:<br>        åšé€‰æ‹©<br>        backtrack(è·¯å¾„, é€‰æ‹©åˆ—è¡¨)<br>        æ’¤é”€é€‰æ‹©<br></code></pre></td></tr></table></figure><blockquote><p>ç…§ç€æ¨¡æ¿å†™é¢˜ ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><p><a href="https://leetcode.cn/problems/permutations/">46. å…¨æ’åˆ—</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">permute</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>    self.ret = []<br>    self.backtrack(nums, [])<br>    <span class="hljs-keyword">return</span> self.ret<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">backtrack</span>(<span class="hljs-params">self, nums, path</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> nums:<br>        self.ret.append(path)  <span class="hljs-comment"># nums å·²è¢«é€‰æ‹©å®Œï¼Œåˆ™è¿”å›ç»“æœ</span><br>        <span class="hljs-keyword">return</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)): <span class="hljs-comment"># åˆ©ç”¨ for å¾ªç¯æ¥è¿›è¡Œé€‰æ‹©å’Œæ’¤é”€é€‰æ‹©çš„æ“ä½œ</span><br>    <span class="hljs-comment"># è¿›å…¥å¾ªç¯ï¼Œé€‰æ‹© nums[i]ï¼Œä» nums ä¸­ç§»é™¤å¹¶åŠ å…¥ path</span><br>        self.backtrack(nums[:i]+nums[i+<span class="hljs-number">1</span>:], path+[nums[i]])<br>        <span class="hljs-comment"># è·³å‡ºå¾ªç¯ï¼Œå¯¹ä¸‹ä¸€ä¸ªå…ƒç´ è¿›è¡Œé€‰æ‹©æ“ä½œ</span><br></code></pre></td></tr></table></figure><blockquote><p>ä¼šäº†æ¨¡æ¿é¢˜ç›®å†å†™å…¶ä»–é¢˜ç›®å°±å¾ˆå°±å¾ˆç®€å•äº†<br><strong>å›æº¯ä¸‰è¦ç´ ï¼šè·¯å¾„ã€é€‰æ‹©åˆ—è¡¨ã€ç»“æŸæ¡ä»¶</strong>ï¼ï¼ï¼</p></blockquote><p><a href="https://leetcode.cn/problems/combinations/">77. ç»„åˆ</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">combine</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>    self.nums = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>)]<br>    self.k = k<br>    self.ret = []<br>    self.backtrack(self.nums, [])<br>    <span class="hljs-keyword">return</span> self.ret<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">backtrack</span>(<span class="hljs-params">self, nums, path</span>):<br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(path) == self.k:<br>        self.ret.append(path)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>        self.backtrack(nums[i+<span class="hljs-number">1</span>:], path+[nums[i]])<br></code></pre></td></tr></table></figure><blockquote><p>ä¼˜åŒ–ä¸€ä¸‹ï¼Œå…¶å®ç”Ÿæˆ <code>nums</code> æ•°ç»„æ˜¯å¤šæ­¤ä¸€ä¸¾ï¼Œå› ä¸ºæœ¬é¢˜å›æº¯ç”¨ä¸åˆ°åˆ—è¡¨ä¸­è¢«é€‰æ‹©å…ƒç´ ä¹‹å‰çš„å…ƒç´ <br>ç„¶åå†å‰ªæï¼Œ <code>path</code> ä¸­ç»„åˆæ•°ä¸ªæ•°è¶³å¤Ÿåˆ™åœæ­¢</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">combine</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        self.n = n<br>        self.k = k<br>        self.ret = []<br>        self.backtrack(<span class="hljs-number">1</span>, [])<br>        <span class="hljs-keyword">return</span> self.ret<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">backtrack</span>(<span class="hljs-params">self, num, path</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(path) == self.k:<br>            self.ret.append(path)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(num, self.n+<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(path) &lt; self.k:            <span class="hljs-comment"># å½“å‰ç»„åˆæ•°ä¸ªæ•°å°äº k åˆ™ç»§ç»­</span><br>                self.backtrack(i+<span class="hljs-number">1</span>, path+[i])<br></code></pre></td></tr></table></figure><hr><h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><p><a href="https://leetcode.cn/problems/advantage-shuffle/">870. ä¼˜åŠ¿æ´—ç‰Œ</a></p><blockquote><p>è¿™æ˜¯ä¸€é“å‘¨èµ›é¢˜ï¼Œæ‹¿åˆ°æ‰‹æ²¡æ€è·¯ï¼Œè¿˜æ˜¯è´ªå¿ƒå†™å°‘äº†ï¼Œä¹Ÿå¯ä»¥è¯´æ²¡æ€ä¹ˆç»ƒè¿‡ï¼Œçœ‹äº†é¢˜è§£æ‰ä¼šâ€¦â€¦é¢˜ç›®çš„æ„æ€æœ‰ç‚¹ç”°å¿Œèµ›é©¬çš„å‘³é“ï¼Œç›®çš„æ˜¯ä½¿ <code>nums1</code> ä¸­çš„å…ƒç´ å°½æœ€å¯èƒ½å¤šçš„å¤§äº <code>nums2</code> ä¸­åŒä½ç½®çš„å…ƒç´ ã€‚</p></blockquote><blockquote><p>è§£é¢˜æ€è·¯ï¼š<br><code>1</code>ã€å°†  <code>nums1</code> å’Œ <code>nums2</code> æ’å¥½åºï¼›<br><code>2</code>ã€ä»å°åˆ°å¤§éå† <code>nums1</code>ï¼Œå¯¹äºä»»æ„æœ€å°å…ƒç´  <code>nums1[i]</code>ï¼Œæœ‰ä»¥ä¸‹æƒ…å†µï¼š<br>ï¼ˆ1ï¼‰è‹¥ <code>nums1[i]</code> æ¯” <code>nums2</code> ä¸­çš„å½“å‰æœ€å°å…ƒç´  <code>nums2[j]</code> æ›´å¤§ï¼Œåˆ™ä»£è¡¨ <code>nums1</code> ä¸­æ‰€æœ‰æœªåŒ¹é…å…ƒç´ éƒ½æ¯” <code>nums2[j]</code> å¤§ï¼Œæ­¤æ—¶å°† <code>nums1[i]</code> è§†ä¸º <code>â€œä¸Šç­‰é©¬â€</code>ï¼Œå°†å…¶åŒ¹é…è‡³ <code>nums2[j]</code> å³å¯ï¼Œå†æ›´æ–° <code>nums2</code> ä¸­çš„æœ€å°å…ƒç´ ä¸ºå½“ä¸­çš„æ¬¡å°å…ƒç´ ã€‚<br>ï¼ˆ2ï¼‰è‹¥ <code>nums1[i]</code> æ¯” <code>nums2</code> ä¸­çš„ä»»æ„å…ƒç´ éƒ½è¦å°ï¼Œåˆ™å°†å…¶è§†ä¸º <code>â€œä¸‹ç­‰é©¬â€</code>ï¼Œåæ­£éƒ½æ¯”ä¸è¿‡ï¼Œå¾…åç»­éšæœºåŒ¹é…å³å¯ã€‚<br><code>3</code>ã€éå†åŒ¹é…çš„é›†åˆï¼Œè‹¥å­˜åœ¨ <code>nums2</code> ä¸­å…ƒç´ æœªè¢«åŒ¹é…æˆåŠŸçš„ï¼Œå°† <code>â€œä¸‹ç­‰é©¬â€</code> æ•°ç»„çš„å…ƒç´ å¼¹å‡ºä¸å…¶åŒ¹é…å³å¯ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">advantageCount</span>(<span class="hljs-params">self, nums1, nums2</span>):<br>    n = <span class="hljs-built_in">len</span>(nums1)<br>    nums1.sort()<br>    sort2 = <span class="hljs-built_in">sorted</span>(nums2)                     <span class="hljs-comment"># nums2éœ€è¦ç”¨å¦å¤–ç©ºé—´æ’åºï¼Œå› ä¸ºè¦ä¿æŒå…¶é¡ºåºç”¨äºå¯¹åº”</span><br><br>    good = &#123;num: [] <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums2&#125;         <span class="hljs-comment"># ä¸Šç­‰é©¬å‡ºæˆ˜å¯¹åº”~</span><br>    inferior = []                             <span class="hljs-comment"># ä¸‹ç­‰é©¬é›†åˆï¼</span><br>    index = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> num1 <span class="hljs-keyword">in</span> nums1:<br>        <span class="hljs-keyword">if</span> num1 &gt; sort2[index]:               <span class="hljs-comment"># æ‰¾åˆ°æœ€å°çš„â€œä¸Šç­‰é©¬â€</span><br>            good[sort2[index]].append(num1)   <span class="hljs-comment"># ç”¨æ•°ç»„å­˜å‚¨é¿å… num2 ä¸­æœ‰ç›¸åŒå…ƒç´ </span><br>            index += <span class="hljs-number">1</span>                        <span class="hljs-comment"># æ›´æ–° num2 çš„æœ€å°å…ƒç´ </span><br>        <span class="hljs-keyword">else</span>:<br>            inferior.append(num1)             <span class="hljs-comment"># å¦åˆ™è§†ä¸ºâ€œä¸‹ç­‰é©¬â€</span><br><br>    <span class="hljs-keyword">for</span> key <span class="hljs-keyword">in</span> good.keys():<br>        <span class="hljs-keyword">if</span> good[key] == []:<br>            good[key].append(inferior.pop(<span class="hljs-number">0</span>)) <span class="hljs-comment"># ä¸‹ç­‰é©¬æŒ‰é¡ºåºå¼¹å‡ºåŒ¹é…</span><br>            <br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):                        <span class="hljs-comment"># æŒ‰ç…§åŒ¹é…ç»“æœæ›´æ–° num1 çš„æ’åº</span><br>        <span class="hljs-keyword">if</span> good[nums2[i]]:                   <br>            nums1[i] = good[nums2[i]].pop(<span class="hljs-number">0</span>)<br>        <span class="hljs-keyword">else</span>:<br>            nums1[i] = inferior.pop(<span class="hljs-number">0</span>)<br><br>    <span class="hljs-keyword">return</span> nums1<br></code></pre></td></tr></table></figure><hr><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><h3 id="åŸºç¡€åŠ¨æ€è§„åˆ’"><a href="#åŸºç¡€åŠ¨æ€è§„åˆ’" class="headerlink" title="åŸºç¡€åŠ¨æ€è§„åˆ’"></a>åŸºç¡€åŠ¨æ€è§„åˆ’</h3><p>ï¼ˆ1ï¼‰åºåˆ—å‹<br><a href="https://leetcode.cn/problems/longest-increasing-subsequence/">300. æœ€é•¿é€’å¢å­åºåˆ—</a></p><blockquote><p>çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br>è‹¥ $num[j] &gt; num[i]$ï¼Œåˆ™ $L_{i} &#x3D; \max \limits_{1&lt;&#x3D;j&lt; i}(L_{j}+1, L_{i})$</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">lengthOfLIS</span>(<span class="hljs-params">self, nums</span>):<br>    dp = [<span class="hljs-number">0</span>]*(<span class="hljs-built_in">len</span>(nums))<br>    ret = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>        dp[i] = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i):<br>            <span class="hljs-keyword">if</span> nums[i] &gt; nums[j]:<br>                dp[i] = <span class="hljs-built_in">max</span>(dp[j]+<span class="hljs-number">1</span>, dp[i])<br>                <span class="hljs-keyword">if</span> dp[i] &gt; ret:<br>                    ret = dp[i]<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åŒåºåˆ—å‹<br>ï¼ˆ3ï¼‰åˆ’åˆ†å‹<br>ï¼ˆ4ï¼‰åŒºé—´å‹<br>ï¼ˆ5ï¼‰èƒŒåŒ…å‹</p><blockquote><p>ä»¥ä¸Šä¸ºå¸¸è§ç±»å‹</p></blockquote><p>ï¼ˆ6ï¼‰çŠ¶æ€å‹ç¼©å‹<br>ï¼ˆ7ï¼‰æ ‘å‹</p><h3 id="è®°å¿†åŒ–æœç´¢"><a href="#è®°å¿†åŒ–æœç´¢" class="headerlink" title="è®°å¿†åŒ–æœç´¢"></a>è®°å¿†åŒ–æœç´¢</h3><p><a href="https://leetcode.cn/problems/number-of-people-aware-of-a-secret/">2327. çŸ¥é“ç§˜å¯†çš„äººæ•°</a></p><blockquote><p>å¸¸è§„çš„åŠ¨æ€è§„åˆ’æ€æƒ³æ˜¯ï¼šç›´æ¥ç”¨ <code>dp</code> æ•°ç»„è®°å½•æ¯å¤©çŸ¥é“ç§˜å¯†çš„äººæ•°ï¼Œæœ€åè¿”å› <code>dp[n]</code>ï¼Œä½†ç”±äº <code>forget</code> çš„å­˜åœ¨å®ç°èµ·æ¥æœ‰ç‚¹å›°éš¾ã€‚</p></blockquote><blockquote><p>å°è¯•æ”¹å˜æ€è·¯ï¼šç”¨ <code>dp</code> æ•°ç»„ <strong>è®°å½•æ¯å¤©æ–°å¢çš„äººæ•°</strong>ï¼Œæœ€åå†ç»Ÿè®¡ç¬¬ <code>n</code> å¤©çŸ¥é“ç§˜å¯†çš„äººæ•°ã€‚ç”±æ­¤å¯å¾—çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š<br>ç¬¬ i å¤©æ–°å¢å¾—çŸ¥ç§˜å¯†çš„äººæ•°: $N_{i} &#x3D; \sum\limits_{j&#x3D;i-forget+1}^{i-delay}N_j$</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">peopleAwareOfSecret</span>(<span class="hljs-params">self, n, delay, forget</span>):<br>    dp = [<span class="hljs-number">0</span>]*(n+<span class="hljs-number">1</span>) <span class="hljs-comment"># è®°å½•ç¬¬indexå¤©èƒ½å¤Ÿå¾—çŸ¥ç§˜å¯†çš„äººæ•°</span><br>    ret = <span class="hljs-number">0</span><br>    dp[<span class="hljs-number">1</span>] = <span class="hljs-number">1</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>):<br>    <span class="hljs-comment"># ç¬¬ i å¤©çŸ¥é“ç§˜å¯†çš„äººåªèƒ½åœ¨[i+delay, i+forget)çš„åŒºé—´å†…ä¼ æ’­ç§˜å¯†</span><br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+delay, i+forget):  <br>            <span class="hljs-keyword">if</span> j &lt;= n:<br>                dp[j] += dp[i]<br>                dp[j] %= (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br>    <br>    <span class="hljs-comment"># ç»Ÿè®¡åœ¨ç¬¬ n å¤©è¿˜æ²¡æœ‰å¿˜è®°çš„äººçš„æ•°é‡å³å¯</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n+<span class="hljs-number">1</span>-forget, n+<span class="hljs-number">1</span>):<br>        ret += dp[i]<br>        ret %= (<span class="hljs-number">10</span> ** <span class="hljs-number">9</span> + <span class="hljs-number">7</span>)<br>    <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h3 id="å…¶ä»–åŠ¨æ€è§„åˆ’"><a href="#å…¶ä»–åŠ¨æ€è§„åˆ’" class="headerlink" title="å…¶ä»–åŠ¨æ€è§„åˆ’"></a>å…¶ä»–åŠ¨æ€è§„åˆ’</h3><p><a href="https://leetcode.cn/problems/maximum-subarray/">53. æœ€å¤§å­æ•°ç»„å’Œ</a> ï¼ˆçœ‹æ¸…æ¥šè¿™é“é¢˜ä¸æ»‘åŠ¨çª—å£çš„åŒºåˆ«ï¼‰</p><hr><h2 id="ä½è¿ç®—"><a href="#ä½è¿ç®—" class="headerlink" title="ä½è¿ç®—"></a>ä½è¿ç®—</h2><h3 id="äºŒè¿›åˆ¶è¡¨ç¤º"><a href="#äºŒè¿›åˆ¶è¡¨ç¤º" class="headerlink" title="äºŒè¿›åˆ¶è¡¨ç¤º"></a>äºŒè¿›åˆ¶è¡¨ç¤º</h3><p>ä»»æ„æ•´æ•° $n$ éƒ½å¯ä»¥è¡¨ç¤ºæˆ $(a_{1}a_{2}Â·Â·Â·a_{k})_{2}$çš„å½¢å¼ï¼Œå…¶ä¸­ $a_{i}&#x3D;{0, 1}$, $(1 \leq i \leq k)$ </p><blockquote><p>ä¸å¦¨è®¾ $n$ çš„äºŒè¿›åˆ¶ä¸²ä¸º<br>$$n &#x3D; (a10Â·Â·Â·0)_{2} \tag{1}$$<br>å…¶ä¸­ $a$ è¡¨ç¤ºè‹¥å¹²ä¸ªé«˜ä½ï¼Œ$1$ è¡¨ç¤ºæœ€ä½ä½çš„ $1$ï¼Œå…¶åä¸ºè‹¥å¹²ä¸ª $0$ã€‚</p></blockquote><ul><li><strong>ä¸è¿ç®—ï¼ˆ&amp;ï¼‰</strong>ï¼šé‡ <code>0</code> å¾— <code>0</code></li></ul><blockquote><p>ï¼ˆ1ï¼‰$n-1$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸ºï¼š<br>$$n-1 &#x3D; (a01Â·Â·Â·1)_{2}, \tag{2}$$<br>è¯¥äºŒè¿›åˆ¶ä¸²åœ¨å¼ $(1)$ çš„åŸºç¡€ä¸Šå°†æœ€ä½ä½çš„ $1$ åŠå…¶åçš„ $0$ è¿›è¡Œäº†åè½¬ï¼Œå°† $n$ å’Œ $n-1$ æŒ‰ä½ä¸è¿ç®—ï¼Œå³å°† $(a10Â·Â·Â·0)_{2}$ å’Œ $(a01Â·Â·Â·1)_{2}$ æŒ‰ä½ä¸ï¼Œå¯ä»¥å¾—åˆ°:<br>$$n \And (n-1) &#x3D; (a00Â·Â·Â·0)_{2}, \tag{3}$$<br>å…¶ä¸­ $n$ çš„äºŒè¿›åˆ¶ä¸²ä¸­æœ€ä½ä½çš„ $1$ è¢«ç§»é™¤ã€‚<br><strong>è‹¥ $n$ æ˜¯æ­£æ•´æ•°ï¼Œä¸” $n \And (n-1) &#x3D; 0$ï¼Œåˆ™ $n$ ä¸º $2$ çš„å¹‚</strong>ã€‚<br>ï¼ˆ2ï¼‰$-n$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºï¼šï¼ˆåœ¨è®¡ç®—æœºä¸­ï¼Œè´Ÿæ•°æŒ‰ç…§è¡¥ç è§„åˆ™å­˜å‚¨ï¼Œ$-n$ ä¸º $n$ çš„äºŒè¿›åˆ¶è¡¨ç¤ºçš„æ¯ä¸€ä½å–åå†åŠ ä¸Š $1$ï¼‰<br>$$-n &#x3D; (\overline{a}01Â·Â·Â·1)_{2} + (1)_{2} &#x3D; (\overline{a}10Â·Â·Â·0)_{2}, \tag{4}$$<br>å…¶ä¸­ $\overline{a}$ ä¸ºå–åæ“ä½œã€‚å°† $n$ å’Œ $n-1$ æŒ‰ä½ä¸è¿ç®—ï¼Œå³å°† $(a10Â·Â·Â·0)_{2}$ å’Œ $(a01Â·Â·Â·1)_{2}$ æŒ‰ä½ä¸ï¼Œåˆ™å¯ä»¥å¾—åˆ°:<br>$$n \And (-n) &#x3D; (b10Â·Â·Â·0)_{2}, \tag{5}$$<br>å…¶ä¸­ $a \And \overline{a} &#x3D; b &#x3D; 0$ã€‚<br><strong>è‹¥ $n$ æ˜¯æ­£æ•´æ•°ï¼Œä¸” $b &#x3D; 0$ï¼Œä¹Ÿå³ $n \And (-n) &#x3D; n$ï¼Œåˆ™ $n$ ä¸º $2$ çš„å¹‚</strong>ã€‚</p></blockquote><p><a href="https://leetcode.cn/problems/number-of-1-bits/">191. ä½1çš„ä¸ªæ•°</a></p><blockquote><p>å®¹æ˜“æƒ³åˆ°çš„æ˜¯åˆ©ç”¨ $2$ çš„<strong>å¹‚</strong>å¯¹è¯¥32ä½äºŒè¿›åˆ¶ä¸²è¿›è¡ŒæŒ‰ä½ä¸ï¼Œè‹¥æŸä¸€ä½ä¸º $1$ï¼Œåˆ™æŒ‰ä½ä¸çš„ç»“æœå¿…ä¸ä¸º $0$ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>            <span class="hljs-keyword">if</span> n &amp; (<span class="hljs-number">1</span> &lt;&lt; i):<br>                ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br><br></code></pre></td></tr></table></figure><blockquote><p>ä¼˜åŒ–ä¸€ä¸‹ï¼Œç”±äº $n-1$ ä¸ $n$ çš„äºŒè¿›åˆ¶ä¸²æŒ‰ä½ä¸è¿ç®—å¯ä»¥ç§»é™¤æœ€ä½ä½çš„ $0$ï¼Œæ ¹æ®è¿™ä¸€è¿ç®—ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š<br>ï¼ˆ1ï¼‰å°† $n$ ä¸ $n-1$ è¿›è¡Œå¼ $(3)$ ä¸­çš„ä¸è¿ç®—æ“ä½œï¼›<br>ï¼ˆ2ï¼‰æ¶ˆé™¤æœ€ä½ä½åå°†å€¼é‡æ–°èµ‹ç»™ $n$ï¼›<br>ï¼ˆ3ï¼‰é‡å¤ä»¥ä¸Šæ­¥éª¤ç›´è‡³ $n$ ä¸º $0$ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">hammingWeight</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> n:<br>            n = n &amp; n-<span class="hljs-number">1</span><br>            ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><p><a href="https://leetcode.cn/problems/reverse-bits/">190. é¢ å€’äºŒè¿›åˆ¶ä½</a></p><blockquote><p>å¯¹äºäºŒè¿›åˆ¶ä¸² <code>n = 11000010100101000001111010011101</code>ï¼Œå¯¹ <code>n</code> çš„æ¯ä¸€ä½è¿›è¡Œä»¥ä¸‹æ“ä½œï¼š<br>1ï¼‰åˆå§‹åŒ– <code>ret = 0</code>ï¼›<br>2ï¼‰å°† <code>ret</code> å·¦ç§»ç©ºå‡ºæœ€åä¸€ä½ï¼›<br>3ï¼‰é€šè¿‡æŒ‰ä½ <strong>æˆ–</strong> è¿ç®—å°† <code>n</code> çš„æœ€åä¸€ä½ï¼ˆ<code>n &amp; 1</code>ï¼‰åŠ åˆ° <code>ret</code> çš„æœ€åä¸€ä½ä¸Šï¼›<br>4ï¼‰å†å°† <code>n</code> å³ç§»å»æ‰æœ€åä¸€ä½ã€‚<br>0000000000000000000000000000000<strong>0</strong> or <strong>1</strong> &#x3D; 0000000000000000000000000000000<strong>1</strong><br>000000000000000000000000000000<strong>10</strong> or <strong>0</strong> &#x3D; 000000000000000000000000000000<strong>10</strong><br>00000000000000000000000000000<strong>100</strong> or <strong>1</strong> &#x3D; 00000000000000000000000000000<strong>101</strong><br>0000000000000000000000000000<strong>1010</strong> or <strong>1</strong> &#x3D; 0000000000000000000000000000<strong>1011</strong><br>000000000000000000000000000<strong>10110</strong> or <strong>1</strong> &#x3D; 000000000000000000000000000<strong>10111</strong><br>â€¦â€¦<br>0<strong>1011100101111000001010010100000</strong> or <strong>1</strong> &#x3D; 0<strong>1011100101111000001010010100001</strong><br><strong>10111001011110000010100101000010</strong> or <strong>1</strong> &#x3D; <strong>10111001011110000010100101000011</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseBits</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">32</span>):<br>            lastBit = n &amp; <span class="hljs-number">1</span><br>            ret = ret &lt;&lt; <span class="hljs-number">1</span> | lastBit<br>            n = n &gt;&gt; <span class="hljs-number">1</span>                <br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p><strong>åˆ†æ²»æ³•</strong><br>æ³¨ï¼šåœ¨ <code>Python3</code> ä¸­ï¼Œ<code>int</code> å…·æœ‰ä»»æ„é•¿åº¦ã€‚ å› æ­¤ï¼Œå¦‚æœè¦è·å– <code>32</code> ä½æ•°å­—ï¼Œåˆ™å¿…é¡»ä½¿ç”¨ <code>0xffffffff</code>ï¼ˆå³ <code>32</code> ä¸ªè®¾ç½®ä½ï¼Œå› æ­¤æ˜¯ <code>0b11111111111111111111111111111111</code>ï¼‰è¿›è¡Œæ©ç ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reverseBits</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        M1 = <span class="hljs-number">1431655765</span> <span class="hljs-comment"># 01010101010101010101010101010101</span><br>        M2 = <span class="hljs-number">858993459</span>  <span class="hljs-comment"># 00110011001100110011001100110011</span><br>        M4 = <span class="hljs-number">252645135</span>  <span class="hljs-comment"># 00001111000011110000111100001111</span><br>        M8 = <span class="hljs-number">16711935</span>   <span class="hljs-comment"># 00000000111111110000000011111111</span><br><br>        n = n &gt;&gt; <span class="hljs-number">1</span> &amp; M1 &amp; <span class="hljs-number">0xffffffff</span> | (n &amp; M1) &lt;&lt; <span class="hljs-number">1</span> &amp; <span class="hljs-number">0xffffffff</span><br>        n = n &gt;&gt; <span class="hljs-number">2</span> &amp; M2 &amp; <span class="hljs-number">0xffffffff</span> | (n &amp; M2) &lt;&lt; <span class="hljs-number">2</span> &amp; <span class="hljs-number">0xffffffff</span><br>        n = n &gt;&gt; <span class="hljs-number">4</span> &amp; M4 &amp; <span class="hljs-number">0xffffffff</span> | (n &amp; M4) &lt;&lt; <span class="hljs-number">4</span> &amp; <span class="hljs-number">0xffffffff</span><br>        n = n &gt;&gt; <span class="hljs-number">8</span> &amp; M8 &amp; <span class="hljs-number">0xffffffff</span> | (n &amp; M8) &lt;&lt; <span class="hljs-number">8</span> &amp; <span class="hljs-number">0xffffffff</span><br><br>        <span class="hljs-keyword">return</span> n &gt;&gt; <span class="hljs-number">16</span> &amp; <span class="hljs-number">0xffffffff</span> | n &lt;&lt; <span class="hljs-number">16</span> &amp; <span class="hljs-number">0xffffffff</span><br></code></pre></td></tr></table></figure><ul><li><p><strong>æˆ–ï¼ˆ|ï¼‰è¿ç®—</strong>ï¼šé‡ <code>1</code> å¾— <code>1</code></p></li><li><p><strong>å¼‚æˆ–ï¼ˆ^ï¼‰è¿ç®—</strong>ï¼šåŒå¾— <code>0</code>ï¼Œå¼‚å¾— <code>1</code></p></li></ul><blockquote><p>ï¼ˆ1ï¼‰n ^ n &#x3D; 0<br>ï¼ˆ2ï¼‰m ^ n &#x3D; n ^ m<br>ï¼ˆ3ï¼‰0 ^ n &#x3D; n<br>ç”±ä»¥ä¸Šå¯æ¨çŸ¥ï¼ˆ4ï¼‰n ^ n ^ n &#x3D; n</p></blockquote><p><a href="https://leetcode.cn/problems/single-number/">136. åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</a></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">singleNumber</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:<br>            ret ^= num<br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><hr><h1 id="å‚è€ƒé“¾æ¥"><a href="#å‚è€ƒé“¾æ¥" class="headerlink" title="å‚è€ƒé“¾æ¥"></a>å‚è€ƒé“¾æ¥</h1><p>[1] <a href="http://data.biancheng.net/view/5.html">é“¾è¡¨ï¼ˆå•é“¾è¡¨ï¼‰çš„åŸºæœ¬æ“ä½œåŠCè¯­è¨€å®ç°</a> <a id="cite_link_list"></a></p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> ç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>For Offersssss! ï¼ˆæœºå™¨å­¦ä¹ ç¯‡ï¼‰</title>
      <link href="/2022/09/25/026-InterviewQs_ML/"/>
      <url>/2022/09/25/026-InterviewQs_ML/</url>
      
        <content type="html"><![CDATA[<p><strong>ä¸é‡å¤é€ è½®å­äº†ï¼Œç›´æ¥æ”¾é“¾æ¥å­¦ä¹ â€¦â€¦ç›¸å…³æè¿°ä¸ºç›´æ¥è½¬è½½</strong></p><hr><h1 id="æ¨¡å‹è¯„ä¼°"><a href="#æ¨¡å‹è¯„ä¼°" class="headerlink" title="æ¨¡å‹è¯„ä¼°"></a><strong>æ¨¡å‹è¯„ä¼°</strong></h1><h2 id="æ€§èƒ½åº¦é‡"><a href="#æ€§èƒ½åº¦é‡" class="headerlink" title="æ€§èƒ½åº¦é‡"></a>æ€§èƒ½åº¦é‡</h2><h3 id="å‡†ç¡®ç‡ï¼ˆæŸ¥å‡†ç‡ï¼‰"><a href="#å‡†ç¡®ç‡ï¼ˆæŸ¥å‡†ç‡ï¼‰" class="headerlink" title="å‡†ç¡®ç‡ï¼ˆæŸ¥å‡†ç‡ï¼‰"></a>å‡†ç¡®ç‡ï¼ˆæŸ¥å‡†ç‡ï¼‰</h3><p>æ‰€æœ‰ <strong>é¢„æµ‹ä¸ºæ­£ä¾‹</strong> çš„æ ·æœ¬ä¸­ <strong>çœŸæ­£ä¾‹çš„å æ¯”</strong>ï¼Œ**<code>æŸ¥å‡†ç‡</code>**ï¼Œ$$Precision&#x3D;\frac{TP}{TP+FP}$$</p><h3 id="å¬å›ç‡ï¼ˆæŸ¥å…¨ç‡ï¼‰"><a href="#å¬å›ç‡ï¼ˆæŸ¥å…¨ç‡ï¼‰" class="headerlink" title="å¬å›ç‡ï¼ˆæŸ¥å…¨ç‡ï¼‰"></a>å¬å›ç‡ï¼ˆæŸ¥å…¨ç‡ï¼‰</h3><p>æ‰€æœ‰ <strong>å®é™…ä¸ºæ­£ä¾‹</strong> çš„æ ·æœ¬ä¸­ <strong>çœŸæ­£ä¾‹çš„å æ¯”</strong>ï¼Œ**<code>æŸ¥å…¨ç‡</code>**ï¼Œ$$Recall&#x3D;\frac{TP}{TP+FN}$$</p><h3 id="F-score"><a href="#F-score" class="headerlink" title="F-score"></a>F-score</h3><p>åŸºäºæŸ¥å…¨ç‡å’ŒæŸ¥å‡†ç‡çš„ <strong>è°ƒå’Œå¹³å‡</strong>ï¼Œ$$\frac{1}{F1}&#x3D;\frac{1}{2}(\frac{1}{P}+\frac{1}{R}) \Rightarrow F1&#x3D;\frac{2 \times P \times R}{P+R}$$</p><h3 id="çœŸæ­£ä¾‹ç‡"><a href="#çœŸæ­£ä¾‹ç‡" class="headerlink" title="çœŸæ­£ä¾‹ç‡"></a>çœŸæ­£ä¾‹ç‡</h3><p><strong>æ­£æ ·æœ¬ä¸­é¢„æµ‹ä¸ºæ­£ä¾‹</strong>ï¼ˆé¢„æµ‹å¯¹çš„æ­£æ ·æœ¬ï¼‰çš„å æ¯”ï¼Œ$$TPR&#x3D;\frac{TP}{TP+FN}&#x3D;Recall$$</p><h3 id="å‡æ­£ä¾‹ç‡"><a href="#å‡æ­£ä¾‹ç‡" class="headerlink" title="å‡æ­£ä¾‹ç‡"></a>å‡æ­£ä¾‹ç‡</h3><p><strong>è´Ÿæ ·æœ¬ä¸­é¢„æµ‹ä¸ºæ­£ä¾‹</strong>ï¼ˆé¢„æµ‹é”™çš„æ­£æ ·æœ¬ï¼‰çš„å æ¯”ï¼Œ$$FPR&#x3D;\frac{FP}{TN+FP}$$</p><h3 id="P-Ræ›²çº¿ä¸ROCæ›²çº¿çš„åŒºåˆ«"><a href="#P-Ræ›²çº¿ä¸ROCæ›²çº¿çš„åŒºåˆ«" class="headerlink" title="P-Ræ›²çº¿ä¸ROCæ›²çº¿çš„åŒºåˆ«"></a>P-Ræ›²çº¿ä¸ROCæ›²çº¿çš„åŒºåˆ«</h3><p><a href="https://blog.csdn.net/Mr_health/article/details/96600580">ROCæ›²çº¿å’ŒP-Ræ›²çº¿é€‰æ‹©</a></p><blockquote><p><strong>P-Ræ›²çº¿ä¸ROCæ›²çº¿çš„åŒºåˆ«ä¸é€‰æ‹©</strong><br><strong>ï¼ˆ1ï¼‰åº”ç”¨åœºæ™¯</strong><br><strong>ROCæ›²çº¿</strong>ï¼šä¸€èˆ¬ç”¨äºåˆ†ç±»çš„åœºæ™¯ï¼ŒäºŒåˆ†ç±»å¤šåˆ†ç±»çš†å¯ã€‚æ¯”å¦‚æˆ‘ä»¬çš„æµ‹è¯•é›†å³æ­£æ ·æœ¬å’Œè´Ÿæ ·æœ¬ï¼Œé€šè¿‡æµ‹è¯•å°±å¯ä»¥å¾—åˆ° <code>TPR</code> å’Œ <code>FPR</code>ã€‚<br><strong>P-Ræ›²çº¿</strong>ï¼šä¸€èˆ¬ç”¨äºç›®æ ‡æ£€æµ‹é¢†åŸŸã€‚é€šè¿‡æˆ‘ä»¬å‰é¢çš„ä»‹ç»ï¼Œå¯ä»¥çœ‹åˆ° <code>precision</code> è¡¨ç¤ºé¢„æµ‹ä¸ºæ­£ä¾‹ä¸­æœ‰å¤šå°‘æ˜¯çœŸæ­£çš„æ­£ä¾‹ï¼Œå³è¡¨ç¤ºå‡ºäº†é¢„æµ‹çš„å‡†ä¸å‡†ã€‚åœ¨ç›®æ ‡æ£€æµ‹é¢†åŸŸï¼Œä¾‹å¦‚å…¸å‹çš„é£æœºã€èˆ¹æ£€æµ‹ï¼Œéƒ½æ˜¯ä»å›¾åƒä¸­æ£€æµ‹å‡ºä¸Šè¿°ç›®æ ‡ï¼Œé‚£ä¹ˆä¸å¯é¿å…çš„å°±ä¼šæœ‰èƒŒæ™¯ <code>(FP)</code> å‡ºç°ï¼Œè¿›è€Œå¯ä»¥è®¡ç®— <code>precision</code>ã€‚ä¸€ä¸ªå¥½çš„ç›®æ ‡æ£€æµ‹æ¨¡å‹ï¼Œ<code>P-R</code> æ›²çº¿ä¸‹çš„é¢ç§¯ <code>(AUC)</code> è¶Šå¤§ã€‚<br><strong>ï¼ˆ2ï¼‰æ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡ä¸‹çš„é²æ£’æ€§</strong><br><strong>ROCæ›²çº¿</strong>ï¼šæ­£è´Ÿæ ·æœ¬ä¸å‡è¡¡ä¸‹æ›´ç¨³å®šã€‚åœ¨å®é™…çš„æ•°æ®é›†ä¸­ç»å¸¸ä¼šå‡ºç°ç±»ä¸å¹³è¡¡ <code>(class imbalance)</code> ç°è±¡ï¼Œå³è´Ÿæ ·æœ¬æ¯”æ­£æ ·æœ¬å¤šå¾ˆå¤š(æˆ–è€…ç›¸å)ï¼Œè€Œä¸”æµ‹è¯•æ•°æ®ä¸­çš„æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒä¹Ÿå¯èƒ½éšç€æ—¶é—´å˜åŒ–ã€‚ä¾‹å¦‚å½“è´Ÿæ ·æœ¬å¢åŠ æ—¶ï¼Œ<code>TPR</code> æ˜¯ä¸å˜çš„ï¼Œæ ¹æ®ä¸‹å¼å¯çŸ¥ï¼Œ<code>FP</code> åŒåœ¨åˆ†å­å’Œåˆ†æ¯ï¼Œåˆ™å˜åŒ–ä¹Ÿä¸å¤§ï¼Œå› æ­¤ <code>ROC</code> çš„æ›²çº¿å˜åŒ–ä¸å¤§ã€‚<br><strong>P-Ræ›²çº¿</strong>ï¼šå—åˆ°æ­£è´Ÿæ ·æœ¬åˆ†å¸ƒå½±å“è¾ƒå¤§ã€‚ä»ä»¥ä¸Šé¢çš„ä¾‹å­ä¸ºä¾‹ï¼Œå½“è´Ÿæ ·æœ¬å¢åŠ æ—¶ï¼Œ<code>recall</code> æ˜¯ä¸å˜çš„ï¼Œæ ¹æ®ä¸‹å¼å¯çŸ¥ï¼Œ<code>FP</code> åœ¨åˆ†æ¯ï¼Œåˆ™ <code>precision</code> ä¼šæ˜æ˜¾çš„é™ä½ã€‚</p></blockquote><blockquote><p><strong>æ€»ç»“</strong>ï¼š<br>ï¼ˆ1ï¼‰ä¸€èˆ¬çš„åˆ†ç±»ä»»åŠ¡ï¼Œé‡‡ç”¨ <code>ROC</code> æ›²çº¿ï¼›<br>ï¼ˆ2ï¼‰å½“æ­£è´Ÿæ ·æœ¬æ¯”ä¾‹å¤±è°ƒæ—¶ï¼Œåˆ™ <code>ROC</code> æ›²çº¿å˜åŒ–ä¸å¤§ï¼Œæ­¤æ—¶ç”¨ <code>PR</code> æ›²çº¿æ›´åŠ èƒ½åæ˜ å‡ºåˆ†ç±»å™¨æ€§èƒ½çš„å¥½åã€‚</p></blockquote><h2 id="æ¨¡å‹æ£€éªŒæ–¹æ³•"><a href="#æ¨¡å‹æ£€éªŒæ–¹æ³•" class="headerlink" title="æ¨¡å‹æ£€éªŒæ–¹æ³•"></a>æ¨¡å‹æ£€éªŒæ–¹æ³•</h2><p><a href="https://blog.csdn.net/qq_40006058/article/details/121548565">æ¨¡å‹è¯„ä¼°æ—¶å¸¸ç”¨çš„éªŒè¯æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</a></p><blockquote><p>ï¼ˆ1ï¼‰Holdout<br>ï¼ˆ2ï¼‰K-Fold<br>ï¼ˆ3ï¼‰è‡ªåŠ©æ³•</p></blockquote><hr><h1 id="çº¿æ€§æ¨¡å‹"><a href="#çº¿æ€§æ¨¡å‹" class="headerlink" title="çº¿æ€§æ¨¡å‹"></a><strong>çº¿æ€§æ¨¡å‹</strong></h1><h2 id="Logisticå›å½’"><a href="#Logisticå›å½’" class="headerlink" title="Logisticå›å½’"></a>Logisticå›å½’</h2><p><a href="https://zhuanlan.zhihu.com/p/56900935">é€»è¾‘å›å½’ï¼ˆLogistic Regressionï¼‰è¯¦è§£</a></p><blockquote><p><strong>ï¼ˆ1ï¼‰é€»è¾‘å›å½’å’Œçº¿æ€§å›å½’çš„åŒºåˆ«ï¼Ÿ</strong><br>è§£æï¼š<br><img src="https://s2.loli.net/2022/09/12/1uEjlFBT4NAwXCd.png"><br>ï¼ˆ2ï¼‰<strong>é€»è¾‘å›å½’ä¸ºä»€ä¹ˆé€‰æ‹©å¯¹æ•°æŸå¤±å‡½æ•°ï¼Ÿ</strong><br>è§£æï¼šä¸ºäº†ä¼˜åŒ–è¿‡ç¨‹ä¸­å¾—åˆ°çš„æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œä¸€èˆ¬è¦æ±‚<strong>é€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°ä¸ºå‡¸å‡½æ•°</strong>ï¼Œè€Œç›¸æ¯”äºå¹³æ–¹æŸå¤±ï¼Œå¯¹æ•°å‡½æ•°çš„äºŒé˜¶å¯¼æ’å¤§äº $0$ï¼ˆå¯ä¸¥æ ¼ <a href="https://blog.csdn.net/weixin_42486139/article/details/106018410">è¯æ˜</a>ï¼‰ã€‚</p></blockquote><h2 id="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰"><a href="#çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰" class="headerlink" title="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰"></a>çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆ<a id="LDA">LDA</a>ï¼‰</h2><p><code>Linear Discriminant Analysis, LDA</code> </p><p>é€šä¿—æ˜“æ‡‚çš„æè¿°ï¼šé‡‡ç”¨ <strong>â€œæŠ•å½±åç±»å†…æ–¹å·®æœ€å°ï¼Œç±»é—´æ–¹å·®æœ€å¤§â€</strong> çš„æ€æƒ³å°†é«˜ç»´ç©ºé—´çš„æ•°æ® <strong>é™ä¸€ç»´</strong> æŠ•å½±åˆ°ä¸€æ¡ç›´çº¿ä¸Šï¼ˆæˆ–è¶…å¹³é¢ï¼‰ã€‚</p><blockquote><p><strong>ä¸ <code>PCA</code> é™ç»´çš„åŒºåˆ«</strong><br><img src="https://s2.loli.net/2022/09/12/Fo1dPnZJHjWqT3M.png"></p></blockquote><hr><h1 id="ä¼˜åŒ–æ–¹æ³•"><a href="#ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¼˜åŒ–æ–¹æ³•"></a><strong>ä¼˜åŒ–æ–¹æ³•</strong></h1><h2 id="å‡¸å‡½æ•°"><a href="#å‡¸å‡½æ•°" class="headerlink" title="å‡¸å‡½æ•°"></a>å‡¸å‡½æ•°</h2><h2 id="æ¢¯åº¦ä¸‹é™æ³•ä¸ç‰›é¡¿æ³•"><a href="#æ¢¯åº¦ä¸‹é™æ³•ä¸ç‰›é¡¿æ³•" class="headerlink" title="æ¢¯åº¦ä¸‹é™æ³•ä¸ç‰›é¡¿æ³•"></a>æ¢¯åº¦ä¸‹é™æ³•ä¸ç‰›é¡¿æ³•</h2><p>æ¢¯åº¦ä¸‹é™çš„ä¸‰ç§æ–¹å¼ï¼šæ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆBGDï¼‰ã€éšæœºæ¢¯åº¦ä¸‹é™æ³•ï¼ˆSGDï¼‰ã€å°æ‰¹é‡æ¢¯åº¦ä¸‹é™ï¼ˆMBGDï¼‰</p><p><a href="https://www.cnblogs.com/lyr2015/p/9010532.html">æ¢¯åº¦ä¸‹é™æ³•å’Œç‰›é¡¿æ³•çš„æ€»ç»“ä¸æ¯”è¾ƒ</a></p><blockquote><p><strong>æ¢¯åº¦ä¸‹é™æ³•ä¸ç‰›é¡¿æ³•çš„å¯¹æ¯”</strong><br><strong>ï¼ˆ1ï¼‰ç‰›é¡¿æ³•</strong>ï¼šæ˜¯é€šè¿‡æ±‚è§£ç›®æ ‡å‡½æ•°çš„ä¸€é˜¶å¯¼æ•°ä¸º0æ—¶çš„å‚æ•°ï¼Œè¿›è€Œæ±‚å‡ºç›®æ ‡å‡½æ•°æœ€å°å€¼æ—¶çš„å‚æ•°ã€‚<br><strong>ä¼˜ç‚¹</strong>ï¼šæ”¶æ•›é€Ÿåº¦å¾ˆå¿«ã€‚æµ·æ£®çŸ©é˜µçš„é€†åœ¨è¿­ä»£è¿‡ç¨‹ä¸­ä¸æ–­å‡å°ï¼Œå¯ä»¥èµ·åˆ°é€æ­¥å‡å°æ­¥é•¿çš„æ•ˆæœã€‚<br><strong>ç¼ºç‚¹</strong>ï¼šæµ·æ£®çŸ©é˜µçš„é€†è®¡ç®—å¤æ‚ï¼Œä»£ä»·æ¯”è¾ƒå¤§ï¼Œå› æ­¤æœ‰äº†æ‹Ÿç‰›é¡¿æ³•ï¼ˆ<a href="https://zhuanlan.zhihu.com/p/65987457">æ‹Ÿç‰›é¡¿æ³•</a>ï¼‰ã€‚<br><strong>ï¼ˆ2ï¼‰æ¢¯åº¦ä¸‹é™æ³•</strong>ï¼šæ˜¯é€šè¿‡æ¢¯åº¦æ–¹å‘å’Œæ­¥é•¿ï¼Œç›´æ¥æ±‚è§£ç›®æ ‡å‡½æ•°çš„æœ€å°å€¼æ—¶çš„å‚æ•°ã€‚<br>è¶Šæ¥è¿‘æœ€ä¼˜å€¼æ—¶ï¼Œæ­¥é•¿åº”è¯¥ä¸æ–­å‡å°ï¼Œå¦åˆ™ä¼šåœ¨æœ€ä¼˜å€¼é™„è¿‘æ¥å›éœ‡è¡ã€‚<br><img src="https://s2.loli.net/2022/09/12/IxFtrzK5sfXAqPo.png"></p></blockquote><h2 id="æ¬ æ‹Ÿåˆï¼ˆé«˜åå·®ï¼‰å’Œè¿‡æ‹Ÿåˆï¼ˆé«˜æ–¹å·®ï¼‰"><a href="#æ¬ æ‹Ÿåˆï¼ˆé«˜åå·®ï¼‰å’Œè¿‡æ‹Ÿåˆï¼ˆé«˜æ–¹å·®ï¼‰" class="headerlink" title="æ¬ æ‹Ÿåˆï¼ˆé«˜åå·®ï¼‰å’Œè¿‡æ‹Ÿåˆï¼ˆé«˜æ–¹å·®ï¼‰"></a>æ¬ æ‹Ÿåˆï¼ˆé«˜åå·®ï¼‰å’Œè¿‡æ‹Ÿåˆï¼ˆé«˜æ–¹å·®ï¼‰</h2><p>ä»¥ä¸‹æ¬è¿è‡ªï¼š<a href="https://juejin.cn/post/7130571832490459143">å…¥å‘æœºå™¨å­¦ä¹ ï¼šå…­ï¼Œé€»è¾‘å›å½’</a></p><blockquote><p><strong>ä»å·¦è‡³å³ä¸ºï¼š</strong><br>ï¼ˆ1ï¼‰çº¿æ€§æ¨¡å‹ï¼Œæ¬ æ‹Ÿåˆï¼Œä¸èƒ½å¾ˆå¥½åœ°é€‚åº”æˆ‘ä»¬çš„è®­ç»ƒé›†ï¼›<br>ï¼ˆ2ï¼‰ä¼¼ä¹æœ€åˆé€‚ï¼›<br>ï¼ˆ3ï¼‰å››æ¬¡æ–¹çš„æ¨¡å‹ï¼Œè¿‡äºå¼ºè°ƒæ‹ŸåˆåŸå§‹æ•°æ®ï¼Œè€Œä¸¢å¤±äº†<strong>ç®—æ³•çš„æœ¬è´¨ï¼šé¢„æµ‹æ–°æ•°æ®</strong>ã€‚å¯ä»¥çœ‹å‡ºï¼Œè‹¥ç»™å‡ºä¸€ä¸ªæ–°çš„å€¼ä½¿ä¹‹é¢„æµ‹ï¼Œå®ƒå°†è¡¨ç°çš„å¾ˆå·®ï¼Œå³è¿‡æ‹Ÿåˆã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/13/f5zLBMKhJAEC6bj.jpg"></p><blockquote><p><strong>å¦‚ä½•å¤„ç†è¿‡æ‹Ÿåˆé—®é¢˜?</strong><br>ï¼ˆ1ï¼‰<strong>ç‰¹å¾é€‰æ‹©</strong>ã€‚ä¸¢å¼ƒä¸€äº›ä¸èƒ½å¸®åŠ©æˆ‘ä»¬æ­£ç¡®é¢„æµ‹çš„ç‰¹å¾ã€‚å¯ä»¥æ˜¯æ‰‹å·¥é€‰æ‹©ä¿ç•™å“ªäº›ç‰¹å¾ï¼Œæˆ–è€…ä½¿ç”¨ä¸€ äº›æ¨¡å‹é€‰æ‹©çš„ç®—æ³•æ¥å¸®å¿™ï¼ˆä¾‹å¦‚ PCAï¼‰ï¼›<br>ï¼ˆ2ï¼‰<strong>æ­£åˆ™åŒ–</strong>ã€‚ä¿ç•™æ‰€æœ‰çš„ç‰¹å¾ï¼Œä½†æ˜¯å‡å°‘å‚æ•°çš„å¤§å°ï¼ˆMagnitudeï¼ŒæŒ‡å‚æ•°çš„æ•°å€¼å¤§å°ï¼‰ã€‚é«˜æ¬¡é¡¹å¯¼è‡´äº†è¿‡æ‹Ÿåˆçš„äº§ç”Ÿï¼Œä½¿é«˜æ¬¡é¡¹çš„ç³»æ•°æ¥è¿‘äº 0 å³å¯ã€‚</p></blockquote><h2 id="ä»£ä»·å‡½æ•°"><a href="#ä»£ä»·å‡½æ•°" class="headerlink" title="ä»£ä»·å‡½æ•°"></a>ä»£ä»·å‡½æ•°</h2><p>å¸¸è§çš„ä»£ä»·å‡½æ•°ï¼ˆä»¥<strong>é€»è¾‘å›å½’</strong>ä¸ºä¾‹ï¼‰ï¼š</p><p><strong>å‡æ–¹è¯¯å·® MSEï¼š</strong>$J(\theta)&#x3D;\frac{1}{2m}[\sum_{i&#x3D;1}^{m}(h_{\theta}(x^{(i)})-y^{(i)})^{2}+\lambda\sum_{j&#x3D;1}^{m}\theta_{j}^{2}]$</p><p><strong>äº¤å‰ç†µ CEï¼š</strong>$J(\theta)&#x3D;\frac{1}{m}\sum_{i&#x3D;1}^{m}[-y^{(i)}log(h_{\theta}(x^{(i)}))-(1-y^{(i)})log(1-h_{\theta}(x^{(i)}))]+\lambda\sum_{j&#x3D;1}^{m}\theta_{j}^{2}$</p><blockquote><p><strong>ï¼ˆ1ï¼‰$\lambda$ ç§°ä¸ºæ­£åˆ™åŒ–å‚æ•°æˆ–æƒ©ç½šç³»æ•°ï¼ˆåŒ SVM ä¸­çš„ç³»æ•° Cï¼‰ï¼Œå¢åŠ  $\lambda\sum_{j&#x3D;1}^{m}\theta_{j}^{2}$ ä¸€é¡¹ä¸ºä»€ä¹ˆèƒ½å‡å°‘å‚æ•° $\theta$ çš„å€¼ï¼Ÿ</strong><br>è§£æï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ­£åˆ™åŒ–ç³»æ•° $\lambda$ çš„è®¾å®šå€¼ä¼šæ¯”è¾ƒå¤§ï¼Œ$J(\theta)$ åœ¨ä½¿å¾—ä»£ä»·æœ€å°çš„è¿‡ç¨‹ä¸­åªèƒ½é€šè¿‡å‡å°‘ $\theta$ çš„å€¼æ¥å®ç°ã€‚<br><strong>ï¼ˆ2ï¼‰ä¸ºä»€ä¹ˆä»£ä»·å‡½æ•°è¦å…·æœ‰éè´Ÿæ€§ï¼Ÿ</strong><br>è§£æï¼šä¿è¯è®¾è®¡çš„ç›®æ ‡å‡½æ•°æœ‰ä¸‹ç•Œï¼Œæ‰èƒ½ç¡®ä¿åœ¨ä¼˜åŒ–è¿‡ç¨‹ä¸­ä½¿å…¶ä¸æ–­å‡å°ï¼Œç›´è‡³æ”¶æ•›ã€‚</p></blockquote><h2 id="æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰å’Œç¨€ç–æ€§ï¼ˆé‡ç‚¹ï¼‰"><a href="#æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰å’Œç¨€ç–æ€§ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰å’Œç¨€ç–æ€§ï¼ˆé‡ç‚¹ï¼‰"></a>æ­£åˆ™åŒ–ï¼ˆRegularizationï¼‰å’Œç¨€ç–æ€§ï¼ˆé‡ç‚¹ï¼‰</h2><p><strong>ä»€ä¹ˆå«æ­£åˆ™åŒ–ï¼Ÿ</strong><br>æ­£åˆ™åŒ–ï¼Œä¹Ÿç§°è§„åˆ™åŒ–ï¼Œæ—¨åœ¨ç»™éœ€è¦è®­ç»ƒçš„ç›®æ ‡å‡½æ•°ï¼ˆä½œç”¨äºæ¨¡å‹å‚æ•°ï¼‰åŠ ä¸Šä¸€äº›è§„åˆ™å’Œé™åˆ¶ã€‚</p><p><a href="https://www.cnblogs.com/dataanaly/p/12972315.html">L2æ­£åˆ™åŒ–ã€L1æ­£åˆ™åŒ–ä¸ç¨€ç–æ€§</a></p><p><a href="https://blog.csdn.net/u011426016/article/details/119836598">L1æ­£åˆ™åŒ–åŠå…¶ç¨€ç–æ€§çš„å‚»ç“œè§£é‡Š</a></p><blockquote><p><strong><code>L1</code> å’Œ <code>L2</code> çš„åŒºåˆ«</strong><br>ï¼ˆ1ï¼‰<code>L1</code> æ˜¯æ¨¡å‹å„ä¸ªå‚æ•°çš„<strong>ç»å¯¹å€¼ä¹‹å’Œ</strong>ï¼›<code>L2</code> æ˜¯æ¨¡å‹å„ä¸ªå‚æ•°çš„<strong>å¹³æ–¹å’Œçš„å¼€æ–¹</strong>å€¼ã€‚<br>ï¼ˆ2ï¼‰<code>L1</code> ä¼šè¶‹å‘äºäº§ç”Ÿå°‘é‡çš„ç‰¹å¾ï¼Œè€Œå…¶ä»–çš„ç‰¹å¾éƒ½æ˜¯ <code>0</code>ã€‚å› ä¸ºæœ€ä¼˜çš„å‚æ•°å€¼å¾ˆå¤§æ¦‚ç‡å‡ºç°åœ¨åæ ‡è½´ä¸Šï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´<strong>æŸä¸€ç»´çš„æƒé‡ä¸º <code>0</code> ï¼Œäº§ç”Ÿç¨€ç–æƒé‡çŸ©é˜µ</strong>ã€‚<br>ï¼ˆ3ï¼‰<code>L2</code> ä¼šé€‰æ‹©æ›´å¤šçš„ç‰¹å¾ï¼Œè¿™äº›ç‰¹å¾éƒ½ä¼šæ¥è¿‘äº <code>0</code>ã€‚æœ€ä¼˜çš„å‚æ•°å€¼å¾ˆå°æ¦‚ç‡å‡ºç°åœ¨åæ ‡è½´ä¸Šï¼Œå› æ­¤æ¯ä¸€ç»´çš„å‚æ•°éƒ½ä¸ä¼šæ˜¯<code>0</code>ã€‚å½“æœ€å°åŒ– $||w||$æ—¶ï¼Œå°±ä¼šä½¿<strong>æ¯ä¸€é¡¹è¶‹è¿‘äº <code>0</code><strong>ã€‚<br>ï¼ˆ4ï¼‰<code>L1</code> çš„ä½œç”¨æ˜¯ä¸ºäº†</strong>çŸ©é˜µç¨€ç–åŒ–</strong>ã€‚å‡è®¾çš„æ˜¯æ¨¡å‹çš„å‚æ•°å–å€¼æ»¡è¶³æ‹‰æ™®æ‹‰æ–¯åˆ†å¸ƒã€‚<br>ï¼ˆ5ï¼‰<code>L2</code> çš„ä½œç”¨æ˜¯ä¸ºäº†ä½¿<strong>æ¨¡å‹æ›´å¹³æ»‘</strong>ï¼Œå¾—åˆ°æ›´å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚å‡è®¾çš„æ˜¯å‚æ•°æ˜¯æ»¡è¶³é«˜æ–¯åˆ†å¸ƒã€‚</p></blockquote><blockquote><p><strong>Dropout</strong><br>é€šè¿‡éšæœºåˆ é™¤â½¹ç»œä¸­çš„ç¥ç»å•å…ƒï¼Œä½¿å¾—æ¨¡å‹æ‹Ÿåˆä¸ä¾èµ–äºä»»ä½•â¼€ä¸ªç‰¹å¾ï¼›</p></blockquote><hr><h1 id="å†³ç­–æ ‘"><a href="#å†³ç­–æ ‘" class="headerlink" title="å†³ç­–æ ‘"></a><strong>å†³ç­–æ ‘</strong></h1><h2 id="ID3ï¼ŒC4-5ï¼ŒCARTå†³ç­–æ ‘"><a href="#ID3ï¼ŒC4-5ï¼ŒCARTå†³ç­–æ ‘" class="headerlink" title="ID3ï¼ŒC4.5ï¼ŒCARTå†³ç­–æ ‘"></a>ID3ï¼ŒC4.5ï¼ŒCARTå†³ç­–æ ‘</h2><hr><h1 id="è´å¶æ–¯åˆ†ç±»å™¨"><a href="#è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="è´å¶æ–¯åˆ†ç±»å™¨"></a><strong>è´å¶æ–¯åˆ†ç±»å™¨</strong></h1><h2 id="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"><a href="#æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨" class="headerlink" title="æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨"></a>æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</h2><h3 id="æ¨å¯¼ä»¥åŠå‡è®¾æ¡ä»¶"><a href="#æ¨å¯¼ä»¥åŠå‡è®¾æ¡ä»¶" class="headerlink" title="æ¨å¯¼ä»¥åŠå‡è®¾æ¡ä»¶"></a>æ¨å¯¼ä»¥åŠå‡è®¾æ¡ä»¶</h3><hr><h1 id="æ”¯æŒå‘é‡æœº"><a href="#æ”¯æŒå‘é‡æœº" class="headerlink" title="æ”¯æŒå‘é‡æœº"></a><strong>æ”¯æŒå‘é‡æœº</strong></h1><ul><li>å½“è®­ç»ƒæ ·æœ¬çº¿æ€§å¯åˆ†æ—¶ï¼Œé€šè¿‡ç¡¬é—´éš”ï¼ˆ<code>hard margin</code>ï¼‰æœ€â¼¤åŒ–ï¼Œå­¦ä¹ â¼€ä¸ª <strong>çº¿æ€§å¯åˆ†â½€æŒå‘é‡æœº</strong>ï¼› </li><li>å½“è®­ç»ƒæ ·æœ¬è¿‘ä¼¼çº¿æ€§å¯åˆ†æ—¶ï¼Œé€šè¿‡è½¯é—´éš”ï¼ˆ<code>soft margin</code>ï¼‰æœ€â¼¤åŒ–ï¼Œå­¦ä¹ â¼€ä¸ª <strong>çº¿æ€§â½€æŒå‘é‡æœº</strong>ï¼› </li><li>å½“è®­ç»ƒæ ·æœ¬çº¿æ€§ä¸å¯åˆ†æ—¶ï¼Œé€šè¿‡æ ¸æŠ€å·§å’Œè½¯é—´éš”æœ€â¼¤åŒ–ï¼Œå­¦ä¹ â¼€ä¸ª <strong>â¾®çº¿æ€§â½€æŒå‘é‡æœº</strong>ï¼›</li></ul><!-- ## åŸé—®é¢˜ä¸å¯¹å¶é—®é¢˜ --><h2 id="åŸé—®é¢˜"><a href="#åŸé—®é¢˜" class="headerlink" title="åŸé—®é¢˜"></a>åŸé—®é¢˜</h2><p>æ ·æœ¬ç©ºé—´ä¸­ä»»æ„ç‚¹ $x$ åˆ°è¶…å¹³é¢ $(w, b)$ çš„è·ç¦»å¯å®šä¹‰ä¸º $$r&#x3D;\frac{|w^{T}x+b|}{||w||},$$ è¶…å¹³é¢çš„åˆ†ç±»ç­–ç•¥ä¸º $$\begin{cases} w^{T}x+b \geq +1, y_{i}&#x3D;+1; \\ w^{T}x+b \leq -1, y_{i}&#x3D;-1. \end{cases}$$ ä¸¤ä¸ªå¼‚ç±» <strong>æ”¯æŒå‘é‡</strong>ï¼ˆä½¿å¾—ä¸Šå¼å–ç­‰å·çš„æ ·æœ¬ç‚¹ï¼Œå³$|w^{T}x+b|&#x3D;1$ï¼‰åˆ°è¶…å¹³é¢çš„è·ç¦»å’Œï¼ˆå³é—´éš”ï¼‰ä¸º $$margin&#x3D;\frac{2}{||w||},$$ ä¼˜åŒ–ç›®æ ‡å³ä¸º <strong>æ‰¾åˆ°ä¸€ä¸ªè¶…å¹³é¢ï¼Œä½¿å¾—é—´éš”æœ€å¤§</strong>ï¼Œé—®é¢˜å®šä¹‰ä¸º $$\max_{w,b} \frac{2}{||w||},$$ ç­‰ä»·äº $$\min_{w,b} \frac{1}{2}||w||^{2},$$ $$\text{s.t. } y_{i}(w^{T}x_{i}+b) \ge 1, i&#x3D;1,2,â€¦,m.$$</p><h2 id="å¯¹å¶é—®é¢˜"><a href="#å¯¹å¶é—®é¢˜" class="headerlink" title="å¯¹å¶é—®é¢˜"></a>å¯¹å¶é—®é¢˜</h2><p><a href="https://blog.csdn.net/qq_18846849/article/details/125868760">SVM å¯¹å¶å½¢å¼çš„æ¨å¯¼ï¼Œä»¥åŠ Gurobi æ±‚è§£å¯¹å¶å½¢å¼ SVM</a></p><p><strong>æ³¨ï¼š</strong>ä¼˜åŒ–é—®é¢˜çš„çº¦æŸæ¡ä»¶ä¸€èˆ¬å†™æˆæ ‡å‡†å½¢å¼ï¼Œå³å·¦å°å³å¤§ä¸”å³ä¾§ä¸º $0$ï¼Œå› æ­¤çº¦æŸæ¡ä»¶è½¬åŒ–ä¸º $1-(y_{i}(w^{T}x_{i}+b) \le 0$ çš„å½¢å¼å†æ„é€ æ‹‰æ ¼æœ—æ—¥å‡½æ•°ã€‚</p><p>æ˜¾ç„¶ï¼ŒåŸé—®é¢˜æ˜¯ä¸€ä¸ªå‡¸äºŒæ¬¡è§„åˆ’é—®é¢˜ï¼Œå…¶æ‹‰æ ¼æœ—æ—¥å‡½æ•°å¯ä»¥å†™æˆï¼š<br>$$L(w,b,\alpha)&#x3D;\frac{1}{2}||w||^{2}+\sum_{i&#x3D;1}^{m}\alpha_{i}(1-(y_{i}(w^{T}x_{i}+b))),$$ ç”± $\alpha_{i}(1-(y_{i}(w^{T}x_{i}+b) \le 0$ï¼Œå¯çŸ¥ $L(w,b,\alpha) \le \frac{1}{2}||w||^{2}$ï¼Œå³ <strong>æ‹‰æ ¼æœ—æ—¥å‡½æ•°æ˜¯åŸé—®é¢˜çš„ä¸€ä¸ªä¸‹ç•Œ</strong>ã€‚</p><p>æˆ‘ä»¬è¦æƒ³æ‰¾åˆ°æœ€æ¥è¿‘åŸé—®é¢˜æœ€ä¼˜å€¼çš„ä¸€ä¸ªä¸‹ç•Œï¼Œå°±éœ€è¦ <strong>æ±‚å‡ºä¸‹ç•Œçš„æœ€å¤§å€¼</strong>ï¼Œå³ $\max_{\alpha} L(w,b,\alpha)$ï¼Œåˆ™åŸé—®é¢˜å¯è½¬åŒ–ä¸ºä¼˜åŒ–é—®é¢˜ï¼š $$\min_{w,b}\max_{\alpha} L(w,b,\alpha),$$ æ ¹æ®æ‹‰æ ¼æœ—æ—¥å¯¹å¶æ€§ï¼ŒåŸé—®é¢˜ï¼ˆæå°æå¤§é—®é¢˜ï¼‰ç­‰ä»·äºå…¶å¯¹å¶é—®é¢˜ï¼ˆæå¤§æå°é—®é¢˜ï¼‰ï¼š $$\max_{\alpha}\min_{w,b} L(w,b,\alpha).$$ </p><blockquote><p><strong>ä¸ºä»€ä¹ˆè¦å°†åŸé—®é¢˜è½¬æ¢æˆå¯¹å¶é—®é¢˜ï¼Ÿ</strong><br>ï¼ˆ1ï¼‰<strong>é—®é¢˜æ±‚è§£ã€‚</strong>$\min_{w,b}\max_{\alpha} L(w,b,\alpha)$ å½¢å¼çš„æå°æå¤§é—®é¢˜åªèƒ½å¯¹ $\alpha$ æ±‚å¯¼ï¼Œè½¬åŒ–ä¸ºæå¤§æå°é—®é¢˜ $\max_{\alpha}\min_{w,b} L(w,b,\alpha)$ åæ‰èƒ½å¯¹æ±‚å¯¼ä»¥æ±‚æœ€ä¼˜è§£ï¼›<br>ï¼ˆ2ï¼‰<strong>é™ä½å¤æ‚åº¦ã€‚</strong>å°†æ±‚ç‰¹å¾å‘é‡ $w$ï¼ˆå¤æ‚åº¦ä¸º $O(d)$ï¼‰è½¬åŒ–ä¸ºæ±‚æ¯”ä¾‹ç³»æ•° $\alpha$ï¼ˆå¤æ‚åº¦ä¸º $O(m)$ï¼‰ï¼Œå…¶ä¸­ $d$ ä¸ºæ ·æœ¬çš„ç»´åº¦ï¼Œ$m$ ä¸ºæ ·æœ¬æ•°é‡ã€‚ <strong>å…³é”®åœ¨äºï¼šåªæœ‰æ”¯æŒå‘é‡çš„æ¯”ä¾‹ç³»æ•° $\alpha$ æ‰é $0$<strong>ï¼›<br>ï¼ˆ3ï¼‰</strong>çº¦æŸè½¬æ¢ã€‚</strong>å°†ä¸ç­‰å¼çº¦æŸè½¬æ¢æˆç­‰å¼çº¦æŸï¼›<br>ï¼ˆ4ï¼‰æ–¹ä¾¿æ ¸å‡½æ•°çš„å¼•å…¥ï¼Ÿ</p></blockquote><blockquote><p><strong>å¯¹å¶å˜æ¢æˆç«‹çš„æ¡ä»¶æ˜¯ä»€ä¹ˆï¼Ÿ</strong><br>è§£æï¼š<code>KKT</code> æ¡ä»¶ã€‚KKTæ¡ä»¶æ˜¯åŸé—®é¢˜ä¸å¯¹å¶é—®é¢˜ç­‰ä»·çš„å¿…è¦æ¡ä»¶ï¼Œå½“åŸé—®é¢˜æ˜¯å‡¸ä¼˜åŒ–é—®é¢˜æ—¶ï¼Œå˜ä¸ºå……è¦æ¡ä»¶ã€‚</p></blockquote><p>æ±‚è§£çš„é—®é¢˜æ˜ç¡®äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç®€åŒ–é—®é¢˜å’Œæ¨å¯¼çº¦æŸæ¡ä»¶çš„è¿‡ç¨‹ï¼Œå°† $L(w,b,\alpha)$ åˆ†åˆ«å¯¹ $w$ å’Œ $b$ æ±‚åå¯¼å¯å¾— $$\begin{aligned} \frac{\partial L}{\partial w}&amp;&#x3D;w-\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i}x_{i}, \\ \frac{\partial L}{\partial b}&amp;&#x3D;-\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i},\end{aligned}$$ ä»¤ä¸Šè¿°ä¸¤å¼ä¸º $0$ï¼Œå¯å¾— $$w&#x3D;\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i}x_{i},$$ $$\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i}&#x3D;0,\tag{*}$$ å°† $w&#x3D;\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i}x_{i}$ å¸¦å…¥æ‹‰æ ¼æœ—æ—¥å‡½æ•° $L(w,b,\alpha)$ ä¸­ï¼Œå¯å¾— $$\begin{aligned} L(w,b,\alpha)&amp;&#x3D;\frac{1}{2}w^{T}w+\sum_{i&#x3D;1}^{m}\alpha_{i}(1-(y_{i}(w^{T}x_{i}+b))) \\ &amp;&#x3D;\frac{1}{2}\sum_{i&#x3D;1}^{n}\sum_{j&#x3D;1}^{m}\alpha_{i}\alpha_{j}y_{i}y_{j}x_{i}^{T}x_{j}+\sum_{i&#x3D;1}^{m}\alpha_{i}-\sum_{i&#x3D;1}^{m}\sum_{j&#x3D;1}^{m}\alpha_{i}\alpha_{j}y_{i}y_{j}x_{i}^{T}x_{j}-b\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i} \\ &amp;&#x3D;\sum_{i&#x3D;1}^{m}\alpha_{i}-\frac{1}{2}\sum_{i&#x3D;1}^{n}\sum_{j&#x3D;1}^{m}\alpha_{i}\alpha_{j}y_{i}y_{j}x_{i}^{T}x_{j}, \end{aligned}$$ å°†ä¸Šè¿°ç®€åŒ–åçš„é—®é¢˜ç»“åˆ $(*)$ å¼çš„çº¦æŸå³ä¸ºæœ€åçš„å¯¹å¶é—®é¢˜ï¼š<br>$$\max_{\alpha}\sum_{i&#x3D;1}^{m}\alpha_{i}-\frac{1}{2}\sum_{i&#x3D;1}^{m}\sum_{j&#x3D;1}^{m}\alpha_{i}\alpha_{j}y_{i}y_{j}x_{i}^{T}x_{j},$$ $$\begin{aligned} \text{s.t. } &amp;\sum_{i&#x3D;1}^{m}\alpha_{i}y_{i}&#x3D;0, \\ &amp;\alpha_{i} \ge 0, i&#x3D;1,2,â€¦,m. \end{aligned}$$</p><h2 id="KKTæ¡ä»¶"><a href="#KKTæ¡ä»¶" class="headerlink" title="KKTæ¡ä»¶"></a>KKTæ¡ä»¶</h2><p><a href="https://www.cnblogs.com/hyb221512/p/13661754.html">KKT æ¡ä»¶æ˜¯éçº¿æ€§é—®é¢˜æœ‰æœ€ä¼˜è§£çš„å……åˆ†å¿…è¦æ¡ä»¶</a></p><p>ç­‰å¼çº¦æŸé—®é¢˜å¯æŒ‰æ‹‰æ ¼æœ—æ—¥ä¹˜æ•°æ³•ç›´æ¥æ±‚è§£ã€‚å¯¹äºä¸ç­‰å¼çº¦æŸé—®é¢˜<br>$$\min f(x)$$ $$\text{s.t. } g(x) \le 0$$<br>å…¶æœ€ä¼˜è§£å¿…ç„¶åœ¨å¯è¡ŒåŸŸå†…éƒ¨æˆ–è¾¹ç•Œä¸Šï¼Œè®¾è¯¥é—®é¢˜çš„æ‹‰æ ¼æœ—æ—¥å‡½æ•°ä¸º $L(x,\lambda)&#x3D;f(x)+\lambda g(x)$ã€‚<br>ï¼ˆ1ï¼‰å½“æœ€ä¼˜è§£ $x^{*}$ è½åœ¨å¯è¡ŒåŸŸå†…éƒ¨ï¼Œå³ $g(x^{*})&lt;0$ï¼Œæ­¤æ—¶çº¦æŸæ¡ä»¶ $g(x) \le 0$ æ— æ•ˆï¼Œç­‰æ•ˆäºä»¤ $$\begin{cases} \lambda &#x3D; 0 \\ \nabla_{x} L(x,\lambda)&#x3D;\nabla f(x)&#x3D;\frac{\partial f(x)}{\partial x}&#x3D;0, \end{cases}$$ å³å¯æ±‚å¾—æœ€ä¼˜è§£ï¼›<br>ï¼ˆ2ï¼‰å½“æœ€ä¼˜è§£ $x^{*}$ è½åœ¨å¯è¡ŒåŸŸè¾¹ç•Œï¼Œå³ $g(x^{*})&#x3D;0$ï¼Œæ­¤æ—¶å¯è§†ä¸ºç­‰å¼ä¼˜åŒ–é—®é¢˜ï¼ŒåŒæ ·åˆ©ç”¨æ‹‰æ ¼æœ—æ—¥å‡½æ•°æ±‚è§£ï¼Œä»¤ $$\nabla_{x} L(x,\lambda)&#x3D;\nabla f(x^{*})+\lambda \nabla g(x^{*}),$$ å¯ä»¥è¯æ˜ $\nabla f(x^{*})$ ä¸ $\nabla g(x^{*})$ æ–¹å‘å¿…ç„¶ç›¸åï¼ˆæ•°å­¦è¯æ˜æœªæ‰¾åˆ°ï¼‰ï¼Œå› æ­¤å¿…ç„¶å­˜åœ¨ $\lambda &gt;0$ ä½¿å¾— $\nabla f(x^{*})+\lambda \nabla g(x^{*})&#x3D;0$ æœ‰è§£ï¼Œè¯¥è§£å³ä¸ºæœ€ä¼˜è§£ã€‚<br>æ•´åˆä»¥ä¸Šä¸¤ç§æƒ…å†µï¼Œå¿…ç„¶å­˜åœ¨ä»¥ä¸‹æ¡ä»¶ï¼š<br>$$\begin{cases} \nabla_{x} L(x,\lambda)&#x3D;\nabla f(x)+\lambda \nabla g(x)&#x3D;0 \\ g(x) \le 0 \\ \lambda \ge 0 \\ \lambda g(x) &#x3D; 0 \end{cases}$$<br>ä»¥ä¸Šæ¡ä»¶åˆç§° <strong>KKT æ¡ä»¶</strong>ï¼Œåˆ†åˆ«ä¸ºå®šå¸¸æ–¹ç¨‹å¼ã€åŸå§‹å¯è¡Œæ€§ã€å¯¹å¶å¯è¡Œæ€§ï¼Œä»¥åŠäº’è¡¥æ¾å¼›æ€§ï¼›</p><p>ç”±äº <code>SVM</code> çš„ <strong>åŸé—®é¢˜ä¸ºä¸ç­‰å¼çº¦æŸé—®é¢˜</strong>ï¼Œå…¶å¯¹å¶é—®é¢˜å¿…é¡»æ»¡è¶³ <code>KKT</code> æ¡ä»¶ï¼Œå³ï¼š<br>$$\begin{cases} \nabla_{x} L(w,b,\alpha)&#x3D;0 \\ 1-y_{i}(w^{T}x_{i}+b) \le 0 \\ \alpha_{i} \ge 0 \\ \alpha_{i} (1-y_{i}(w^{T}x_{i}+b)) &#x3D; 0. \end{cases}$$</p><h2 id="æ ¸å‡½æ•°"><a href="#æ ¸å‡½æ•°" class="headerlink" title="æ ¸å‡½æ•°"></a>æ ¸å‡½æ•°</h2><blockquote><p><strong>ä¸ºä»€ä¹ˆå¼•å…¥æ ¸å‡½æ•°ï¼Ÿ</strong><br>è§£æï¼šå®é™…æ•°æ®å¾€å¾€æ˜¯çº¿æ€§ä¸å¯åˆ†çš„ï¼Œé€šè¿‡å¼•å…¥æ ¸å‡½æ•°å°†ç‰¹å¾æ˜ å°„åˆ°æ›´é«˜ç»´çš„ç©ºé—´å®ç°åˆ†ç±»ã€‚</p></blockquote><blockquote><p><strong>æ ¸å‡½æ•°çš„å¼•å…¥æ˜¯å¦å¤§å¤§å¢åŠ äº†è®¡ç®—å¤æ‚åº¦ï¼Ÿ</strong><br>è§£æï¼šæ²¡æœ‰ã€‚æ ¸å‡½æ•°å°†ç‰¹å¾è¿›è¡Œä½ç»´åˆ°é«˜ç»´çš„è½¬åŒ–ï¼Œä½†å®é™…ä¸Šæ˜¯åœ¨ä½ç»´çš„ç©ºé—´ä¸Šè®¡ç®—å¾—åˆ°é«˜ç»´ç©ºé—´çš„æ•ˆæœï¼Œä¸ä¼šå‡ºç°ç»´åº¦çˆ†ç‚¸æˆ–è®¡ç®—å¤æ‚åº¦æ€¥å‰§ä¸Šå‡çš„é—®é¢˜ã€‚</p></blockquote><blockquote><p><strong>æ ¸å‡½æ•°çš„æœ¬è´¨ï¼Ÿ</strong><br>è§£æï¼šæ ¸å‡½æ•°æ˜¯ä¸€ä¸ªä½ç»´çš„è®¡ç®—ç»“æœï¼Œå¹¶æ²¡æœ‰çœŸæ­£å®ç°ä½ç»´åˆ°é«˜ç»´çš„æ˜ å°„ï¼Œè€Œæ˜¯ <strong>æ ¸å‡½æ•°ä½ç»´è¿ç®—çš„ç»“æœç­‰ä»·äºæ˜ å°„åˆ°é«˜ç»´æ—¶å‘é‡ç‚¹ç§¯çš„å€¼</strong>ã€‚<br>å‡è®¾é«˜ç»´ç©ºé—´ä¸­ä¸¤ä¸ªå‘é‡ $x_{i},x_{j}$ çš„å†…ç§¯ä¸º $I&#x3D;&lt;x_{i},x_{j}&gt;$ï¼Œæ˜ å°„ä¹‹åé«˜ç»´ç©ºé—´ä¸­çš„å†…ç§¯ä¸º $Iâ€™&#x3D;&lt;\Phi(x_{i}),\Phi(x_{j})&gt;$ï¼Œå°è¯•æ‰¾åˆ°ä¸€ä¸ªå‡½æ•°ä½¿å¾— **ä½ç»´ç©ºé—´çš„å‘é‡ $x_{i},x_{j}$ çš„è¿ç®—ç»“æœä¸º $K(x_{i},x_{j})&#x3D;Iâ€™$**ï¼Œå…¶ä¸­ $K(x,y)$ å³ä¸ºæ ¸å‡½æ•°ã€‚</p></blockquote><p>æ˜ç¡®äº†ä»¥ä¸Šä¸‰ä¸ªé—®é¢˜ï¼Œæ ¸å‡½æ•°çš„å¼•å…¥åŠ¨æœºå’Œä½œç”¨æ–¹å¼ä¹Ÿå°±å¾ˆæ¸…æ¥šäº†ã€‚</p><h3 id="å¸¸ç”¨æ ¸å‡½æ•°"><a href="#å¸¸ç”¨æ ¸å‡½æ•°" class="headerlink" title="å¸¸ç”¨æ ¸å‡½æ•°"></a>å¸¸ç”¨æ ¸å‡½æ•°</h3><table>    <tr>        <td>åç§°</td><td>è¡¨è¾¾å¼</td><td>å‚æ•°</td><td>ä¼˜åŠ¿</td><td>-</td>    </tr>    <tr>          <td>çº¿æ€§æ ¸</td><td>$\kappa(x_{i},x_{j})=x_{i}^{T}x_{j}$</td><td>-</td>    </tr>    <tr>        <td>å¤šé¡¹å¼æ ¸</td><td>$\kappa(x_{i},x_{j})=(x_{i}^{T}x_{j})^d$</td><td>$d(\ge 1)$ï¼Œä¸ºå¤šé¡¹å¼çš„æ¬¡æ•°</td><td>è¾ƒçº¿æ€§æ ¸è€Œè¨€ï¼Œå¯è§£å†³éçº¿æ€§é—®é¢˜</td>    </tr>    <tr>        <td>é«˜æ–¯æ ¸</td><td>$\kappa(x_{i},x_{j})=\exp(-\frac{||x_{i}-x_{j}||^{2}}{2\sigma^{2}})$</td><td>$\sigma(> 0)$ï¼Œä¸ºé«˜æ–¯æ ¸çš„å¸¦å®½</td><td>å¯æ˜ å°„åˆ°æ— é™ç»´</td>    </tr>    <tr>        <td>æŒ‡æ•°æ ¸</td><td>$\kappa(x_{i},x_{j})=\exp(-\frac{||x_{i}-x_{j}||}{2\sigma^{2}})$</td><td>$\sigma(> 0)$</td><td>è°ƒæ•´å‘é‡è·ç¦»ä¸º $L1$ è·ç¦»ï¼Œå¯¹å‚æ•°çš„ä¾èµ–æ€§é™ä½</td>    </tr>    <tr>        <td>æ‹‰æ™®æ‹‰æ–¯æ ¸</td><td>$\kappa(x_{i},x_{j})=\exp(-\frac{||x_{i}-x_{j}||}{\sigma})$</td><td>$\sigma(> 0)$</td><td>åŸºæœ¬ç­‰ä»·äºæŒ‡æ•°æ ¸ï¼Œå¯¹å‚æ•°çš„æ•æ„Ÿæ€§æ›´ä½</td>    </tr>    <tr>        <td>Sigmoidæ ¸</td><td>$\kappa(x_{i},x_{j})=\tanh(\beta x_{i}^{T}x_{j}+\theta)$</td><td>$\tanh$ ä¸ºåŒæ›²æ­£åˆ‡å‡½æ•°ï¼Œ$\beta > 0, \theta < 0$</td><td>-</td>    </tr></table><h2 id="è½¯é—´éš”å’Œæ­£åˆ™åŒ–"><a href="#è½¯é—´éš”å’Œæ­£åˆ™åŒ–" class="headerlink" title="è½¯é—´éš”å’Œæ­£åˆ™åŒ–"></a>è½¯é—´éš”å’Œæ­£åˆ™åŒ–</h2><p>è½¯é—´éš”ï¼š<strong>å…è®¸æŸäº›æ ·æœ¬ä¸æ»¡è¶³çº¦æŸ</strong> $y_{i}(w^{T}x_{i}+b) \ge 1$ã€‚</p><h3 id="ä¼˜åŒ–ç›®æ ‡çš„æ”¹è¿›"><a href="#ä¼˜åŒ–ç›®æ ‡çš„æ”¹è¿›" class="headerlink" title="ä¼˜åŒ–ç›®æ ‡çš„æ”¹è¿›"></a>ä¼˜åŒ–ç›®æ ‡çš„æ”¹è¿›</h3><p>åœ¨ <strong>æœ€å¤§åŒ–é—´éš”çš„åŒæ—¶ï¼Œä½¿å¾—ä¸æ»¡è¶³çº¦æŸçš„æ ·æœ¬å°½å¯èƒ½å°‘</strong>ï¼Œä¼˜åŒ–ç›®æ ‡å†™æˆï¼š$$\min_{w,b} \frac{1}{2}||w||^{2}+C \sum_{i&#x3D;1}^{m}\mathcal{L}(z),$$ ä»¥ä¸Šé—®é¢˜å¯ç§°ä¸ºæ­£åˆ™åŒ–é—®é¢˜ï¼Œå…¶ä¸­ $C$ ä¸ºæƒ©ç½šç³»æ•°ï¼Œ$C$ è¶Šå¤§ï¼Œä¸Šå¼ä¼šè¿«ä½¿æ›´å¤šçš„æ ·æœ¬æ»¡è¶³çº¦æŸï¼Œåä¹‹æ›´å°‘ã€‚</p><blockquote><p><strong>è½¯é—´éš”SVMçš„æ¬ æ‹Ÿåˆå’Œè¿‡æ‹Ÿåˆè§£å†³åŠæ³•ï¼Ÿ</strong><br>è§£æï¼šæ¬ æ‹Ÿåˆ-å¢å¤§ $C$ï¼Œè¿‡æ‹Ÿåˆ-å‡å° $C$ã€‚</p></blockquote><h2 id="SVMçš„ä¼˜åŠ£åŠ¿"><a href="#SVMçš„ä¼˜åŠ£åŠ¿" class="headerlink" title="SVMçš„ä¼˜åŠ£åŠ¿"></a>SVMçš„ä¼˜åŠ£åŠ¿</h2><blockquote><p>SVMçš„ä¼˜ç‚¹ï¼š<br>ï¼ˆ1ï¼‰è§£å†³äº† <strong>å°æ ·æœ¬æƒ…å†µä¸‹</strong> çš„æœºå™¨å­¦ä¹ åˆ†ç±»é—®é¢˜ã€‚<br>ï¼ˆ2ï¼‰ç”±äºä½¿ç”¨æ ¸å‡½æ•°æ–¹æ³• <strong>å…‹æœäº†ç»´æ•°ç¾éš¾å’Œéçº¿æ€§å¯åˆ†çš„é—®é¢˜</strong>ï¼Œæ‰€ä»¥å‘é«˜ç»´ç©ºé—´æ˜ å°„æ—¶æ²¡æœ‰å¢åŠ è®¡ç®—çš„å¤æ‚åº¦ã€‚ï¼ˆç”±äºæ”¯æŒå‘é‡æœºç®—æ³•çš„æœ€ç»ˆå†³ç­–å‡½æ•°åªç”±å°‘æ•°çš„æ”¯æŒå‘é‡æ‰€ç¡®å®šï¼Œæ‰€ä»¥è®¡ç®—çš„å¤æ‚æ€§å–å†³äºæ”¯æŒå‘é‡çš„æ•°ç›®ï¼Œè€Œä¸æ˜¯æ•´ä¸ªæ ·æœ¬ç©ºé—´çš„ç»´æ•°ï¼‰ã€‚</p></blockquote><blockquote><p>SVMçš„ç¼ºç‚¹ï¼š<br>ï¼ˆ1ï¼‰æ”¯æŒå‘é‡æœºç®—æ³•å¯¹å¤§è§„æ¨¡è®­ç»ƒæ ·æœ¬éš¾ä»¥å®æ–½ï¼Œè¿™æ˜¯å› ä¸ºæ”¯æŒå‘é‡ç®—æ³•å€ŸåŠ©äºŒæ¬¡è§„åˆ’æ±‚è§£æ”¯æŒå‘é‡ï¼Œè¿™å…¶ä¸­ä¼šè®¾è®¡ $m$ é˜¶çŸ©é˜µçš„è®¡ç®—ï¼Œæ‰€ä»¥ <strong>çŸ©é˜µé˜¶æ•°å¾ˆå¤§æ—¶å°†è€—è´¹å¤§é‡çš„æœºå™¨å†…å­˜å’Œè¿ç®—æ—¶é—´</strong>ã€‚<br>ï¼ˆ2ï¼‰ç»å…¸çš„ <code>SVM</code> åªç»™å‡ºäºŒåˆ†ç±»çš„ç®—æ³•ï¼Œè€Œåœ¨æ•°æ®æŒ–æ˜ä¸­ï¼Œä¸€èˆ¬è¦è§£å†³å¤šåˆ†ç±»çš„åˆ†ç±»é—®é¢˜ï¼Œè€Œæ”¯æŒå‘é‡æœº <strong>å¯¹äºå¤šåˆ†ç±»é—®é¢˜è§£å†³æ•ˆæœå¹¶ä¸ç†æƒ³</strong>ã€‚<br>ï¼ˆ3ï¼‰ç°åœ¨å¸¸ç”¨çš„ <code>SVM</code> ç†è®ºéƒ½æ˜¯ä½¿ç”¨ **å›ºå®šæƒ©ç½šç³»æ•° $C$**ï¼Œä½†æ˜¯æ­£è´Ÿæ ·æœ¬çš„ä¸¤ç§é”™è¯¯é€ æˆçš„æŸå¤±æ˜¯ä¸ä¸€æ ·çš„ã€‚</p></blockquote><h2 id="ä¸€äº›é—®é¢˜"><a href="#ä¸€äº›é—®é¢˜" class="headerlink" title="ä¸€äº›é—®é¢˜"></a>ä¸€äº›é—®é¢˜</h2><hr><h1 id="ç¥ç»ç½‘ç»œ"><a href="#ç¥ç»ç½‘ç»œ" class="headerlink" title="ç¥ç»ç½‘ç»œ"></a>ç¥ç»ç½‘ç»œ</h1><h2 id="æ„ŸçŸ¥æœº"><a href="#æ„ŸçŸ¥æœº" class="headerlink" title="æ„ŸçŸ¥æœº"></a>æ„ŸçŸ¥æœº</h2><h2 id="BPç¥ç»ç½‘ç»œ"><a href="#BPç¥ç»ç½‘ç»œ" class="headerlink" title="BPç¥ç»ç½‘ç»œ"></a>BPç¥ç»ç½‘ç»œ</h2><h2 id="æ·±åº¦å­¦ä¹ "><a href="#æ·±åº¦å­¦ä¹ " class="headerlink" title="æ·±åº¦å­¦ä¹ "></a>æ·±åº¦å­¦ä¹ </h2><p><a href="https://svyj.github.io/2022/07/02/027-InterviewQs_DL/">For Offersssss! ï¼ˆæ·±åº¦å­¦ä¹ ç¯‡ï¼‰</a></p><hr><h1 id="èšç±»"><a href="#èšç±»" class="headerlink" title="èšç±»"></a><strong>èšç±»</strong></h1><h2 id="åŸå‹èšç±»"><a href="#åŸå‹èšç±»" class="headerlink" title="åŸå‹èšç±»"></a>åŸå‹èšç±»</h2><h3 id="K-Means"><a href="#K-Means" class="headerlink" title="K-Means"></a>K-Means</h3><blockquote><p><strong>ç®—æ³•æ­¥éª¤ï¼š</strong><br>å‡è®¾æ ·æœ¬æ€»æ•°ä¸º <code>N</code>ï¼Œ<code>K-means</code> èšç±»æ³•å¯ä»¥ç®€å•è¡¨ç¤ºä¸ºä¸€ä¸‹å‡ ä¸ªæ­¥éª¤ï¼š<br>ï¼ˆ1ï¼‰åœ¨æ ·æœ¬ä¸­éšæœºé€‰å– <code>K</code> ä¸ªç‚¹ï¼Œä½œä¸ºæ¯ä¸€ç±»çš„ä¸­å¿ƒç‚¹ã€‚<br>ï¼ˆ2ï¼‰è®¡ç®—å‰©ä¸‹ <code>n-K</code> ä¸ªæ ·æœ¬ç‚¹åˆ°æ¯ä¸ªèšç±»ä¸­å¿ƒçš„è·ç¦»ï¼ˆè·ç¦»æœ‰å¾ˆå¤šç§ï¼Œå‡è®¾è¿™é‡Œé‡‡ç”¨æ¬§å¼è·ç¦»ï¼‰ã€‚å¯¹äºæ¯ä¸€ä¸ªæ ·æœ¬ç‚¹ï¼Œå°†å®ƒå½’åˆ°å’Œä»–è·ç¦»æœ€è¿‘çš„èšç±»ä¸­å¿ƒæ‰€å±çš„ç±»ã€‚<br>ï¼ˆ3ï¼‰å°†æ¯ä¸€ä¸ªç±»å†…çš„æ‰€æœ‰ç‚¹å–å¹³å‡å€¼ï¼Œè®¡ç®—å‡ºæ–°çš„èšç±»ä¸­å¿ƒã€‚<br>ï¼ˆ4ï¼‰é‡å¤æ­¥éª¤ <code>2</code> å’Œ <code>3</code> çš„æ“ä½œï¼Œç›´åˆ°æ‰€æœ‰çš„èšç±»ä¸­å¿ƒä¸å†æ”¹å˜ã€‚</p></blockquote><blockquote><p><strong>Kå€¼çš„é€‰æ‹©ï¼Ÿ</strong><br>ï¼ˆ1ï¼‰<strong>æ‹è„‘è¢‹æ³•ï¼š</strong>$K \approx \sqrt{n&#x2F;2}$<br>ï¼ˆ2ï¼‰<strong>è‚˜éƒ¨æ³•åˆ™ï¼š</strong>çºµåæ ‡ <code>cost</code> ä¸€èˆ¬å¯ä»¥å®šä¹‰ä¸º <code>Sum of the Squared Srrorsï¼ˆSSEï¼‰</code>ï¼Œ$SSE&#x3D;\sum_{p \in C_{i}}|p-m_{i}|^{2}$ï¼Œå…¶ä¸­ $C_{i}$ ä»£è¡¨ç¬¬ $i$ ä¸ªç°‡ï¼Œ$p$ æ˜¯ç°‡ $C_{i}$ é‡Œçš„æ ·æœ¬ç‚¹ï¼Œ$m_{i}$ æ˜¯ç°‡çš„ä¸­å¿ƒã€‚å¦‚ä¸‹å·¦å›¾ä¸ºä¸€ä¸ªæ¯”è¾ƒå®Œç¾çš„è‚˜éƒ¨å›¾ï¼Œä½†ä¸æ˜¯æ‰€æœ‰çš„é—®é¢˜éƒ½èƒ½ç”»å‡ºè¿™æ ·çš„å›¾ï¼Œå› æ­¤å¯¹äº <strong>å³å›¾æ— æ³•ç¡®è®¤çš„æƒ…å†µåˆ™éœ€è¦å€ŸåŠ©å…¶ä»–çš„æ–¹æ³•</strong>ã€‚<br><img src="https://s2.loli.net/2022/09/13/CYuRPFq5laKmJ67.png"><br>ï¼ˆ3ï¼‰<strong>è½®å»“ç³»æ•°æ³•ï¼š</strong>å®šä¹‰æ ·æœ¬ç‚¹ $X_{i}$ çš„è½®å»“ç³»æ•°ï¼ˆ<code>Silhouette Coefficient</code>ï¼‰ä¸º $$S_{i}&#x3D;\frac{b(i)-a(i)}{max(a(i),b(i))}&#x3D;\begin{cases} 1-\frac{a_{i}}{b_{i}}, a_{i}&lt;b_{i}, \\ 0, a_{i}&#x3D;b_{i}, \\ \frac{b_{i}}{a_{i}}-1, a_{i}&gt;b_{i}, \end{cases}$$ æ˜“çŸ¥ $S_{i} \in [-1,1]$ï¼Œå…¶ä¸­ $a_{i}$ æ˜¯ $X_{i}$ å’ŒåŒç°‡çš„å…¶ä»–æ ·æœ¬çš„å¹³å‡è·ç¦»ï¼Œç§°ä¸º <strong>ç°‡å†…å·®å¼‚åº¦</strong>ã€‚ $b_{i}$ æ˜¯ $X_{i}$ å’Œæœ€è¿‘ç°‡ä¸­æ‰€æœ‰æ ·æœ¬çš„å¹³å‡è·ç¦»ï¼Œç§°ä¸º <strong>ç°‡é—´å·®å¼‚åº¦</strong>ã€‚ ç”±ä¸Šå¼å¯çŸ¥ï¼š<br><strong>iï¼‰</strong>è‹¥ $a_{i}&lt;b_{i}$ï¼Œåˆ™ $S_{i} \rightarrow 1$ï¼Œè¡¨ç¤ºç°‡å†…ç›¸ä¼¼åº¦è¶³å¤Ÿé«˜ï¼Œæ ·æœ¬ $X_{i}$ çš„èšç±»ç»“æœåˆç†ï¼›<br>**iiï¼‰**è‹¥ $a_{i}&gt;b_{i}$ï¼Œåˆ™ $S_{i} \rightarrow -1$ï¼Œè¡¨ç¤ºç°‡å†…ç›¸ä¼¼åº¦ä¸è¶³ï¼Œæ ·æœ¬ $X_{i}$ åº”è¯¥èšç±»åˆ°å¦å¤–çš„ç°‡ã€‚<br><strong>iiiï¼‰</strong>è‹¥ $a_{i}&#x3D;b_{i}$ï¼Œåˆ™ $S_{i} \approx 0$ï¼Œè¯´æ˜æ ·æœ¬ $X_{i}$ åœ¨ä¸¤ä¸ªç°‡çš„è¾¹ç•Œä¸Šã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">K</span>-Means:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, k, iter_num</span>):<br>        self.k = k<br>        self.iter_num = iter_num<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fit</span>(<span class="hljs-params">self, data</span>):<br>        data = np.asarray(data)<br>        np.random.seed(<span class="hljs-number">0</span>)<br><br>        self.cluster_centers = data[np.random.randint(<span class="hljs-number">0</span>, <span class="hljs-built_in">len</span>(data), self.k)]<br>        self.classes = np.zeroes(<span class="hljs-built_in">len</span>(data))<br><br>        <span class="hljs-keyword">for</span> <span class="hljs-built_in">iter</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(iter_num):<br>            <span class="hljs-comment"># è®¡ç®—æ¯ä¸ªæ ·æœ¬ x è·ç¦»èšç±»ä¸­å¿ƒçš„è·ç¦»ï¼Œæ›´æ–°æ ·æœ¬ç±»åˆ«ä¸ºæœ€è¿‘çš„èšç±»ä¸­å¿ƒæ‰€å±ç±»åˆ«</span><br>            <span class="hljs-keyword">for</span> index, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(data):<br>                distance = np.sqrt(np.<span class="hljs-built_in">sum</span>((x - self.cluester_center)**<span class="hljs-number">2</span>, axis=<span class="hljs-number">1</span>))<br>                self.classes[index] = distance.argmin()<br><br>            <span class="hljs-comment"># æ›´æ–° K ä¸ªèšç±»ä¸­å¿ƒ</span><br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.k):<br>                self.cluster_center[i] = np.mean(data[self.classes == i], axis=<span class="hljs-number">0</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">predict</span>(<span class="hljs-params">self, data</span>):<br>        data = np.asarray(data)<br>        pred = np.zeroes(<span class="hljs-built_in">len</span>(data))<br><br>        <span class="hljs-keyword">for</span> index, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(data):<br>            distance = np.sqrt(np.<span class="hljs-built_in">sum</span>((x - self.cluester_center)**<span class="hljs-number">2</span>, axis=<span class="hljs-number">1</span>))<br>            pred[index] = distance.argmin()<br><br>        <span class="hljs-keyword">return</span> pred<br></code></pre></td></tr></table></figure><h3 id="é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰"><a href="#é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰" class="headerlink" title="é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰"></a>é«˜æ–¯æ··åˆæ¨¡å‹ï¼ˆGMMï¼‰</h3><p><img src="https://s2.loli.net/2022/09/13/RWABFgZ4jfyniYb.png"></p><hr><h1 id="é™ç»´"><a href="#é™ç»´" class="headerlink" title="é™ç»´"></a><strong>é™ç»´</strong></h1><h2 id="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰-1"><a href="#çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰-1" class="headerlink" title="çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰"></a><a href="#LDA">çº¿æ€§åˆ¤åˆ«åˆ†æï¼ˆLDAï¼‰</a></h2><h2 id="ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰"><a href="#ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰" class="headerlink" title="ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰"></a>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</h2><p><code>Principal Component Analysis, PCA</code></p><p>é€šä¿—æ˜“æ‡‚çš„æè¿°ï¼šå°†æ•°æ®æŠ•å½±åˆ°<strong>æ–¹å·®æœ€å¤§</strong>ï¼ˆæ–¹å·®è¶Šå¤§ï¼Œä¿¡æ¯é‡è¶Šå¤šï¼‰çš„å‡ ä¸ª<strong>ç›¸äº’æ­£äº¤</strong>ï¼ˆçº¿æ€§æ— å…³ï¼‰çš„æ–¹å‘ä¸Šã€‚</p><p><img src="https://s2.loli.net/2022/09/13/fzKxRHwjiVXhamI.jpg"></p><h2 id="Kè¿‘é‚»"><a href="#Kè¿‘é‚»" class="headerlink" title="Kè¿‘é‚»"></a>Kè¿‘é‚»</h2><hr><h1 id="é›†æˆå­¦ä¹ "><a href="#é›†æˆå­¦ä¹ " class="headerlink" title="é›†æˆå­¦ä¹ "></a><strong>é›†æˆå­¦ä¹ </strong></h1><h2 id="Adaboost"><a href="#Adaboost" class="headerlink" title="Adaboost"></a>Adaboost</h2><h2 id="éšæœºæ£®æ—ï¼ˆç†è®ºåŸºç¡€ï¼‰"><a href="#éšæœºæ£®æ—ï¼ˆç†è®ºåŸºç¡€ï¼‰" class="headerlink" title="éšæœºæ£®æ—ï¼ˆç†è®ºåŸºç¡€ï¼‰"></a>éšæœºæ£®æ—ï¼ˆç†è®ºåŸºç¡€ï¼‰</h2><hr><h1 id="Sklearn"><a href="#Sklearn" class="headerlink" title="Sklearn"></a><strong>Sklearn</strong></h1><p><a href="https://aistudio.baidu.com/aistudio/projectdetail/1888288">ã€è¡Œè¿œè§å¤§ã€ Python è¿›é˜¶ç¯‡ï¼šSklearn åº“</a></p><hr>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>For Offersssss! ï¼ˆæ·±åº¦å­¦ä¹ ç¯‡ï¼‰</title>
      <link href="/2022/09/17/027-InterviewQs_DL/"/>
      <url>/2022/09/17/027-InterviewQs_DL/</url>
      
        <content type="html"><![CDATA[<h1 id="å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰"><a href="#å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰"></a>å·ç§¯ç¥ç»ç½‘ç»œï¼ˆCNNï¼‰</h1><h2 id="å·ç§¯å±‚"><a href="#å·ç§¯å±‚" class="headerlink" title="å·ç§¯å±‚"></a>å·ç§¯å±‚</h2><blockquote><p>æå–å›¾åƒä¸­çš„<strong>å±€éƒ¨ç‰¹å¾</strong>ï¼Œå…¶åŸç†æ˜¯é€šè¿‡è®¸å¤šçš„<strong>å·ç§¯æ ¸</strong> <code>(filter, kernel)</code> åœ¨å›¾ç‰‡ä¸Šè¿›è¡Œæ»‘åŠ¨æå–ç‰¹å¾ã€‚</p></blockquote><h3 id="å·ç§¯æ ¸"><a href="#å·ç§¯æ ¸" class="headerlink" title="å·ç§¯æ ¸"></a>å·ç§¯æ ¸</h3><ul><li>ç‰¹æ€§ï¼š<strong>æƒå€¼å…±äº«</strong>ï¼ˆä¸€ä¸ªå·ç§¯æ ¸æ»‘åŠ¨æå–å›¾åƒçš„æŸä¸€ä¸ªç‰¹å¾ï¼Œè¿›è€Œå¸¦æ¥å¹³ç§»ä¸å˜æ€§ï¼‰ã€<strong>å±€éƒ¨è¿æ¥</strong>ï¼ˆæ„ŸçŸ¥å›¾åƒçš„å±€éƒ¨ä¿¡æ¯ï¼‰</li><li>å‚æ•°ï¼šæ ¸å¤§å° <code>Kernel Size</code>ã€æ­¥é•¿ <code>Stride</code>ã€å·ç§¯æ ¸æ•°é‡ï¼ˆé€šé“ï¼‰ <code>Channel</code>ã€è¾¹ç•Œå¡«å…… <code>Padding</code></li><li>è¾“å‡ºå¤§å°è®¡ç®—å…¬å¼ï¼š$ H_{out} &#x3D; \frac{H_{in} - K + 2P}{S} + 1 $ï¼Œ$ W_{out} &#x3D; \frac{W_{in} - K + 2P}{S} + 1 $</li></ul><p>æ³¨ï¼šå·ç§¯æ ¸é€šå¸¸è®¾å®šä¸ºå¥‡æ•°çš„åŸå› ï¼Ÿï¼ˆä¿è¯paddingæ—¶å€™ï¼Œå›¾åƒçš„ä¸¤è¾¹ä¾ç„¶ç›¸å¯¹ç§°ï¼‰ï¼Œ3Ã—3 çš„å·ç§¯æ ¸æ˜¯æœ€ä¼˜é€‰æ‹©ã€‚</p><h3 id="æ„Ÿå—é‡"><a href="#æ„Ÿå—é‡" class="headerlink" title="æ„Ÿå—é‡"></a>æ„Ÿå—é‡</h3><ul><li>æ¦‚å¿µï¼šè¾“å‡ºç‰¹å¾å›¾ä¸Šçš„åƒç´ ç‚¹<strong>å¯¹äºåŸå›¾çš„æ˜ å°„åŒºåŸŸçš„å¤§å°</strong></li></ul><!-- ### å·ç§¯çš„ç±»å‹ --><h3 id="1-Ã—-1-å·ç§¯"><a href="#1-Ã—-1-å·ç§¯" class="headerlink" title="1 Ã— 1 å·ç§¯"></a><code>1 Ã— 1</code> å·ç§¯</h3><blockquote><p><strong>ä½œç”¨ï¼š</strong><br>ï¼ˆ1ï¼‰å®ç°ä¿¡æ¯çš„è·¨é€šé“äº¤äº’å’Œæ•´åˆï¼›<br>ï¼ˆ2ï¼‰å¯¹å·ç§¯æ ¸é€šé“æ•°è¿›è¡Œé™ç»´æˆ–å‡ç»´ï¼Œå‡å°å‚æ•°é‡ã€‚</p></blockquote><h3 id="K-Ã—-K-å·ç§¯"><a href="#K-Ã—-K-å·ç§¯" class="headerlink" title="K Ã— K å·ç§¯"></a><code>K Ã— K</code> å·ç§¯</h3><blockquote><p><em>â¼¤å¤šæ•°æƒ…å†µä¸‹</em>ï¼Œé€šè¿‡ <strong>å †å è¾ƒâ¼©çš„å·ç§¯æ ¸</strong> â½ç›´æ¥é‡‡â½¤ <strong>å•ä¸ªæ›´â¼¤çš„å·ç§¯æ ¸</strong> ä¼šæ›´åŠ æœ‰æ•ˆã€‚**<br>å¦‚ï¼šä¸¤å±‚ <code>3Ã—3</code> å·ç§¯ä¼šæ¯”ä¸€å±‚ <code>5Ã—5</code> å·ç§¯æœ‰æ•ˆï¼ˆ<strong>æ·±åº¦æ›´å¤§</strong>ï¼‰ï¼Œä¸” <strong>å‚æ•°é‡æ›´å°</strong>ï¼ˆ$3\times3\times2&lt;5\times5$ï¼‰</p></blockquote><p><strong><code>3 Ã— 3</code> å·ç§¯çš„å®ç°</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np <br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">Conv2d</span>(<span class="hljs-params">img, in_channels, out_channels, kernels, bias=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">0</span></span>):<br>    N, C, H, W = img.shape<br>    kh, kw = kernels.shape<br>    <span class="hljs-keyword">assert</span> C == in_channels<br> <br>    <span class="hljs-keyword">if</span> padding:<br>        img = np.pad(img, ((<span class="hljs-number">0</span>, <span class="hljs-number">0</span>),(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>),(padding, padding),(padding, padding)), <span class="hljs-string">&#x27;constant&#x27;</span>)<br> <br>    out_h = (H + <span class="hljs-number">2</span>*padding - kh) // stride + <span class="hljs-number">1</span><br>    out_w = (W + <span class="hljs-number">2</span>*padding - kw) // stride + <span class="hljs-number">1</span><br> <br>    outputs = np.zeros([N, out_channels, out_h, out_w])<br><br>    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(N):<br>        <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(out_channels):<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(in_channels):<br>                <span class="hljs-keyword">for</span> h <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(out_h):<br>                    <span class="hljs-keyword">for</span> w <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(out_w):<br>                        <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(kh):<br>                            <span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(kw):<br>                                outputs[n][c][h][w] += img[n][i][h*stride+x][w*stride+y] * kernels[x][y]<br>    <span class="hljs-keyword">return</span> outputs<br><br>img = np.random.random(size=(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>))<br>kernel = np.random.random(size=(<span class="hljs-number">3</span>, <span class="hljs-number">3</span>))<br>outputs = Conv2d(img, in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">3</span>, kernels=kernel, bias=<span class="hljs-literal">False</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>)<br><span class="hljs-built_in">print</span>(img, kernel, outputs)<br></code></pre></td></tr></table></figure><h3 id="åˆ†ç»„å·ç§¯"><a href="#åˆ†ç»„å·ç§¯" class="headerlink" title="åˆ†ç»„å·ç§¯"></a>åˆ†ç»„å·ç§¯</h3><h3 id="æ·±åº¦å¯åˆ†ç¦»å·ç§¯"><a href="#æ·±åº¦å¯åˆ†ç¦»å·ç§¯" class="headerlink" title="æ·±åº¦å¯åˆ†ç¦»å·ç§¯"></a>æ·±åº¦å¯åˆ†ç¦»å·ç§¯</h3><h3 id="å¯å˜å½¢å·ç§¯"><a href="#å¯å˜å½¢å·ç§¯" class="headerlink" title="å¯å˜å½¢å·ç§¯"></a>å¯å˜å½¢å·ç§¯</h3><h3 id="è½¬ç½®å·ç§¯"><a href="#è½¬ç½®å·ç§¯" class="headerlink" title="è½¬ç½®å·ç§¯"></a>è½¬ç½®å·ç§¯</h3><p><strong>æ£‹ç›˜æ•ˆåº”</strong></p><blockquote><p><strong>äº§ç”ŸåŸå› </strong>ï¼šå·ç§¯è®¡ç®—åå·®å¼‚è¢«æ”¾å¤§æ‰€å¯¼è‡´çš„æ˜æš—ç›¸é—´çš„ç½‘æ ¼çŠ¶ã€‚</p></blockquote><table>    <tr>        <td><center><img src="https://s2.loli.net/2022/09/11/lxOh9f7HPikeaXC.png" width=350></center>stride=2, kernel size=2</td>        <td><center><img src="https://s2.loli.net/2022/09/11/7brA8lPyew43BfN.png" width=350></center>stride=2, kernel size=3</td>        <td><center><img src="https://s2.loli.net/2022/09/11/SsV4YNE1tpPA9RH.png" width=350></center>stride=2, kernel size=4</td>    </tr></table><blockquote><p><strong>è§£å†³åŠæ³•</strong>ï¼šï¼ˆæ¨èä½¿ç”¨ç¬¬äºŒç§ï¼‰<br>ï¼ˆ1ï¼‰<strong>è®¾ç½®çš„ kernel size èƒ½å¤Ÿè¢« stride æ•´é™¤</strong>ï¼›ï¼ˆæ— æ³•ä»æ ¹æœ¬ä¸Šè§£å†³é—®é¢˜ï¼‰<br>ï¼ˆ2ï¼‰<strong>é‡‡ç”¨åŒçº¿æ€§æ’å€¼+å·ç§¯</strong>ï¼Œå³å…ˆåˆ©ç”¨åŒçº¿æ€§æ’å€¼ä¸Šé‡‡æ ·ï¼Œä»¥å‡å°æ’å€¼çš„åƒç´ å’ŒåŸè¾“å…¥åƒç´ å€¼çš„å¤§å°å·®å¼‚ï¼Œå†è¿›è¡Œå·ç§¯å¯ä»¥é¿å…æ£‹ç›˜æ•ˆåº”çš„äº§ç”Ÿã€‚</p></blockquote><h2 id="æ± åŒ–å±‚"><a href="#æ± åŒ–å±‚" class="headerlink" title="æ± åŒ–å±‚"></a>æ± åŒ–å±‚</h2><blockquote><p>ä¸»è¦ç”¨æ¥ç¼©å°ç‰¹å¾å›¾çš„å¤§å°ï¼Œ<strong>å‡å°‘è®¡ç®—é‡å’Œå‚æ•°é‡</strong>(é™ç»´)ã€<strong>å‡å°‘è¿‡æ‹Ÿåˆ</strong>é—®é¢˜ã€ç¼“è§£å·ç§¯å±‚å¯¹ä½ç½®çš„æ•æ„Ÿåº¦ã€‚</p></blockquote><h3 id="ä¸Šé‡‡æ ·"><a href="#ä¸Šé‡‡æ ·" class="headerlink" title="ä¸Šé‡‡æ ·"></a>ä¸Šé‡‡æ ·</h3><h4 id="åå·ç§¯ï¼ˆè½¬ç½®å·ç§¯ï¼‰"><a href="#åå·ç§¯ï¼ˆè½¬ç½®å·ç§¯ï¼‰" class="headerlink" title="åå·ç§¯ï¼ˆè½¬ç½®å·ç§¯ï¼‰"></a>åå·ç§¯ï¼ˆè½¬ç½®å·ç§¯ï¼‰</h4><p><img src="https://s2.loli.net/2022/08/22/ZUdfGSpN1zYBaiL.jpg"></p><h4 id="æ’å€¼æ³•ï¼ˆåŒçº¿æ€§æ’å€¼ï¼‰"><a href="#æ’å€¼æ³•ï¼ˆåŒçº¿æ€§æ’å€¼ï¼‰" class="headerlink" title="æ’å€¼æ³•ï¼ˆåŒçº¿æ€§æ’å€¼ï¼‰"></a>æ’å€¼æ³•ï¼ˆåŒçº¿æ€§æ’å€¼ï¼‰</h4><p><img src="https://s2.loli.net/2022/08/22/jZamER6BcAiTuQ5.jpg"></p><h4 id="åæ± åŒ–ï¼ˆUnpooling-x2F-Unsamplingï¼‰"><a href="#åæ± åŒ–ï¼ˆUnpooling-x2F-Unsamplingï¼‰" class="headerlink" title="åæ± åŒ–ï¼ˆUnpooling &#x2F; Unsamplingï¼‰"></a>åæ± åŒ–ï¼ˆUnpooling &#x2F; Unsamplingï¼‰</h4><p><img src="https://s2.loli.net/2022/08/22/AKgez8c4MyXDOfl.jpg"></p><h2 id="å…¨è¿æ¥å±‚"><a href="#å…¨è¿æ¥å±‚" class="headerlink" title="å…¨è¿æ¥å±‚"></a>å…¨è¿æ¥å±‚</h2><blockquote><p>å…¨è¿æ¥å±‚ä¸­çš„æ¯ä¸ªç¥ç»å…ƒä¸å…¶å‰ä¸€å±‚çš„æ‰€æœ‰ç¥ç»å…ƒè¿›è¡Œä¸­å…¨è¿æ¥ï¼Œå…¨è¿æ¥å±‚å¯ä»¥æ•´åˆå·ç§¯å±‚æˆ–è€…æ± åŒ–å±‚ä¸­å…·æœ‰ç±»åˆ«åŒºåˆ†æ€§çš„<strong>å±€éƒ¨ä¿¡æ¯</strong></p></blockquote><h3 id="FCã€MLP-å’Œ-DNN"><a href="#FCã€MLP-å’Œ-DNN" class="headerlink" title="FCã€MLP å’Œ DNN"></a>FCã€MLP å’Œ DNN</h3><blockquote><p><strong><code>MLP</code> ï¼ˆå¤šå±‚æ„ŸçŸ¥æœºï¼‰</strong>ï¼š<strong>è‡³å°‘ä¸¤å±‚</strong> å…¨è¿æ¥å±‚ï¼ˆFCï¼‰å †å å¾—åˆ°çš„æ¨¡å‹ï¼Œèƒ½å¤Ÿè§£å†³å•å±‚æ„ŸçŸ¥æœºæ— æ³•è§£å†³çš„ <strong>éçº¿æ€§é—®é¢˜</strong>ï¼›<br><strong><code>DNN</code>ï¼ˆæ·±åº¦ç¥ç»ç½‘ç»œï¼‰</strong>ï¼šç½‘ç»œæ·±åº¦è¾ƒå¤§çš„ <code>MLP</code>ã€‚</p></blockquote><h3 id="Dropout"><a href="#Dropout" class="headerlink" title="Dropout"></a>Dropout</h3><blockquote><p><code>Dropout</code> è¢«å¤§é‡åˆ©ç”¨äºå…¨è¿æ¥ç½‘ç»œï¼Œè€Œç”±äºå·ç§¯è‡ªèº«çš„ç¨€ç–åŒ–ä»¥åŠç¨€ç–åŒ–çš„ <code>ReLU</code> å‡½æ•°ï¼ˆç½®é›¶ç‰¹æ€§ï¼‰çš„å¤§é‡ä½¿ç”¨ç­‰åŸå› ï¼Œ<code>Dropout</code> ç­–ç•¥ä¹Ÿé€æ¸è¢«æ·˜æ±°ã€‚</p></blockquote><ul><li><strong>è®­ç»ƒè¿‡ç¨‹ä¸­ <code>Dropout</code> å‡½æ•°çš„ <code>re-scale</code></strong></li></ul><p>è®¾ <code>dropout</code> åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ä»¥ä¸€å®šæ¦‚ç‡ <code>p</code> ä½¿ç¥ç»å…ƒ <strong>å¤±æ´»</strong>ï¼Œåˆ™ä¸ºäº†ä¿è¯éšæœºå¤±æ´»åè¢«ä¿ç•™çš„ç¥ç»å…ƒçš„æœŸæœ›ä¿æŒä¸å˜ï¼Œåˆ™éœ€è¦å¯¹ç¥ç»å…ƒçš„æ•°å€¼è¿›è¡Œ <code>re-scale</code>ï¼Œä¸å¦¨è®¾è¾“å…¥åºåˆ—ä¸º $X&#x3D;[1, 1, 1, 1, 1]$ï¼Œè®¾ä»¥å¤±æ´»æ¦‚ç‡ <code>p=0.2</code> å¯¹è¯¥åºåˆ—è¿›è¡Œ <code>mask</code> åçš„åºåˆ—ä¸º $Xâ€™&#x3D;[1, 0, 1, 1, 1]$ï¼Œæ˜“çŸ¥ $E(X)&#x3D;1, E(Xâ€™)&#x3D;0.8$ï¼Œå› æ­¤ä¸ºäº† <strong>ä¿è¯æœŸæœ›ä¸å˜</strong>ï¼Œéœ€è¦å¯¹ $Xâ€™$ çš„æ•°å€¼è¿›è¡Œ $\frac{1}{1-p}$ å€çš„æ”¾å¤§ï¼ˆ<code>re-scale</code>ï¼‰ï¼Œæœ¬ä¾‹ä¸­ $E(\frac{Xâ€™}{0.8})&#x3D;1$ã€‚</p><h2 id="å½’ä¸€åŒ–å±‚"><a href="#å½’ä¸€åŒ–å±‚" class="headerlink" title="å½’ä¸€åŒ–å±‚"></a>å½’ä¸€åŒ–å±‚</h2><p><img src="https://s2.loli.net/2022/08/21/pDJPXOkGY9brFwh.png"></p><blockquote><p>å°†è¾“å…¥çš„ç‰¹å¾å›¾ $x \in \mathbb{R}^{N \times C \times H \times W}$ æ¯”å–»æˆä¸€æ‘ä¹¦ï¼Œè¿™æ‘ä¹¦æ€»å…±æœ‰ $N$ æœ¬ï¼Œæ¯æœ¬æœ‰ $C$ é¡µï¼Œæ¯é¡µæœ‰ $H$ è¡Œï¼Œæ¯è¡Œæœ‰ $W$ ä¸ªå­—ç¬¦ï¼›<br>ï¼ˆ1ï¼‰<code>BN</code> æ˜¯åœ¨ <code>batch</code> ä¸Šï¼Œå¯¹ <code>Nã€Hã€W</code> åšå½’ä¸€åŒ–ï¼Œè€Œä¿ç•™é€šé“ <code>C</code> çš„ç»´åº¦ã€‚<code>BN</code> å¯¹è¾ƒå°çš„ <code>batch size</code> æ•ˆæœä¸å¥½ã€‚**<code>BN</code> é€‚ç”¨äºå›ºå®šæ·±åº¦çš„å‰å‘ç¥ç»ç½‘ç»œ**ï¼Œå¦‚ <code>CNN</code>ï¼Œä¸é€‚ç”¨äº <code>RNN</code>ï¼›<br><strong>æ³¨ï¼š</strong><code>BN</code> ç›¸å½“äºæŠŠè¿™äº›ä¹¦æŒ‰é¡µç ä¸€ä¸€å¯¹åº”åœ°åŠ èµ·æ¥ï¼Œå†é™¤ä»¥æ¯ä¸ªé¡µç ä¸‹çš„å­—ç¬¦æ€»æ•°ï¼š$NÃ—HÃ—W$ï¼›<br>ï¼ˆ2ï¼‰<code>LN</code> åœ¨é€šé“æ–¹å‘ä¸Šï¼Œå¯¹ <code>Cã€Hã€W</code> å½’ä¸€åŒ–ï¼Œä¸»è¦ <strong>å¯¹ <code>RNN</code> å’Œ <code>Transformer</code> æ•ˆæœæ˜æ˜¾</strong>ï¼›<br><strong>æ³¨ï¼š</strong><code>LN</code>  ç›¸å½“äºæŠŠæ¯ä¸€æœ¬ä¹¦çš„æ‰€æœ‰å­—åŠ èµ·æ¥ï¼Œå†é™¤ä»¥è¿™æœ¬ä¹¦çš„å­—ç¬¦æ€»æ•°ï¼š$CÃ—HÃ—W$ï¼›<br>ï¼ˆ3ï¼‰<code>IN</code> åœ¨å›¾åƒåƒç´ ä¸Šï¼Œå¯¹ <code>Hã€W</code> åšå½’ä¸€åŒ–ï¼Œç”¨åœ¨ <strong>é£æ ¼åŒ–è¿ç§»</strong>ï¼›<br><strong>æ³¨ï¼š</strong><code>IN</code> ç›¸å½“äºæŠŠä¸€é¡µä¹¦ä¸­æ‰€æœ‰å­—åŠ èµ·æ¥ï¼Œå†é™¤ä»¥è¯¥é¡µçš„æ€»å­—æ•°ï¼š$HÃ—W$ï¼›<br>ï¼ˆ4ï¼‰<code>GN</code> å°† <code>channel</code> åˆ†ç»„ï¼Œç„¶åå†åšå½’ä¸€åŒ–ï¼›<br><strong>æ³¨ï¼š</strong><code>GN</code> ç›¸å½“äºæŠŠä¸€æœ¬ $C$ é¡µçš„ä¹¦å¹³å‡åˆ†æˆ $G$ ä»½ï¼Œæ¯ä»½æˆä¸ºæœ‰ $C&#x2F;G$ é¡µçš„å°å†Œå­ï¼Œå¯¹æ¯ä¸ªå°å†Œå­åš <code>Norm</code>ã€‚</p></blockquote><h3 id="Batch-Normalization"><a href="#Batch-Normalization" class="headerlink" title="Batch Normalization"></a>Batch Normalization</h3><ul><li><strong>ç®—æ³•æ­¥éª¤</strong></li></ul><p>ï¼ˆ0ï¼‰ç»™å®š <code>1</code> ä¸ª $batch&#x3D;m$ çš„ <strong>è¾“å…¥</strong> $X&#x3D;[x^{(1)},x^{(2)},â€¦,x^{(m)}]$ï¼Œåœ¨ç¥ç»ç½‘ç»œæŸä¸€å±‚å¯¹åº”çš„ä¸­é—´éšè—å€¼ä¸º $Z&#x3D;[z^{(1)},z^{(2)},â€¦,z^{(m)}]$ï¼›</p><p>ï¼ˆ1ï¼‰<strong>è®¡ç®—å‡å€¼</strong>ï¼š $\mu &#x3D; \frac{1}{m}\sum_{i&#x3D;1}^{m}z^{(i)}$</p><p>ï¼ˆ2ï¼‰<strong>è®¡ç®—æ–¹å·®</strong>ï¼š $\sigma^{2}&#x3D;\frac{1}{m}\sum_{i&#x3D;1}^{m}(z^{(i)}-\mu)^2$</p><p>ï¼ˆ3ï¼‰<strong>å½’ä¸€åŒ–</strong>ï¼š $z_{norm}^{(i)}&#x3D;\frac{z^{(i)}-\mu}{\sqrt{\sigma^2 + \epsilon}}$ ,å…¶ä¸­ $\epsilon$ æ˜¯ä¸ºäº†é˜²æ­¢é™¤ <code>0</code>ã€‚</p><p>ï¼ˆ4ï¼‰<strong>ç¼©æ”¾å’Œå¹³ç§»</strong>ï¼š $\tilde{z}^{(i)}&#x3D;\gamma z_{norm}^{(i)}+\beta$ ,å…¶ä¸­ $\gamma$ å’Œ $\beta$ æ˜¯è¦è®­ç»ƒçš„è¶…å‚æ•°ã€‚</p><img src="https://s2.loli.net/2022/08/21/qdv4ZFoj61n98hK.png" height=300px><ul><li><strong>Why BN works?</strong></li></ul><blockquote><p><strong>BN çš„ä½œç”¨</strong><br>ï¼ˆ1ï¼‰<strong>åŠ é€Ÿè®­ç»ƒ</strong>ï¼Œå¯ä»¥ä½¿ç”¨æ›´å¤§çš„å­¦ä¹ ç‡ï¼›<br>ï¼ˆ2ï¼‰è§£å†³ <strong>æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸</strong>ï¼›<br>ï¼ˆ3ï¼‰æœ‰ <strong>è½»å¾®çš„æ­£åˆ™åŒ–ä½œç”¨</strong>ï¼ˆç›¸å½“äºç»™éšè—å±‚åŠ å…¥å™ªå£°ï¼‰ï¼Œç¥ç»ç½‘ç»œæ— éœ€å†ä½¿ç”¨ <code>dropout</code> å’Œ <code>L2</code> æ­£åˆ™ã€‚</p></blockquote><blockquote><p><strong>æœ‰æ•ˆçš„åŸå› ï¼Ÿ</strong>ï¼ˆè¯´æ³•æœ‰å¾ˆå¤šç§ï¼Œä»¥ä¸‹ä¸ºä¸ªäººè§è§£ï¼‰<br>ï¼ˆ1ï¼‰<strong>åŠ é€Ÿè®­ç»ƒï¼š</strong>å½’ä¸€åŒ–ä½¿å¾—æ¯å±‚è¾“å…¥çš„ç‰¹å¾éƒ½å¤„äºåŒä¸€åˆ†å¸ƒæˆ–å°ºåº¦ï¼Œè¿™ç§æƒ…å†µä¸‹çš„æ•°æ®æ‹Ÿåˆæ›´é«˜æ•ˆï¼›ï¼ˆç†è®ºè§£é‡Šï¼šå¯¹ç‰¹å¾è¿›â¾äº†å½’â¼€åŒ–ï¼Œå…¶å¯¹åº”çš„ç­‰â¾¼çº¿ä¼šæ˜¾å¾—å¾ˆåœ†ï¼ˆä¸‹å³å›¾ï¼‰ï¼Œåœ¨æ¢¯åº¦ä¸‹é™è¿›â¾æ±‚è§£æ—¶èƒ½è¾ƒå¿«çš„æ”¶æ•›ã€‚ï¼‰<br>ï¼ˆ2ï¼‰<strong>æ¢¯åº¦é—®é¢˜ï¼š</strong>æ•°æ®å½’ä¸€åŒ–åˆ°åŒºé—´ [-1,1] å†…ï¼Œèƒ½å¤Ÿæœ‰æ•ˆé¿å…æ¢¯åº¦å¼¥æ•£ï¼Œä¸”å‡å°‘äº†é“¾å¼æ±‚å¯¼æ³•åˆ™å¸¦æ¥çš„æ¢¯åº¦ä¾èµ–ï¼›<br>ï¼ˆ3ï¼‰<strong>æ­£åˆ™åŒ–ï¼š</strong>æ¯æ¬¡ä½¿ç”¨çš„æ˜¯å½“å‰ <code>batch</code> çš„å‡å€¼å’Œæ–¹å·®è€Œä¸æ˜¯æ•´ä¸ªæ•°æ®é›†çš„å‡å€¼å’Œæ–¹å·®ï¼Œå¼•å…¥äº†äº›å¾®å™ªå£°ã€‚å› æ­¤ï¼Œ<code>Batch size</code> è¶Šå¤§ï¼Œæ­£åˆ™åŒ–æ•ˆæœè¶Šå¼±ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/09/06/C5UtNPxuw1gdO4F.png"></p><ul><li><strong>Pythonå®ç°</strong></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">MyBN</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, momentum, eps, num_features</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        åˆå§‹åŒ–å‚æ•°å€¼</span><br><span class="hljs-string">        :param momentum: è¿½è¸ªæ ·æœ¬æ•´ä½“å‡å€¼å’Œæ–¹å·®çš„åŠ¨é‡</span><br><span class="hljs-string">        :param eps: é˜²æ­¢æ•°å€¼è®¡ç®—é”™è¯¯</span><br><span class="hljs-string">        :param num_features: ç‰¹å¾æ•°é‡</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br><br>        self.running_mean = <span class="hljs-number">0</span><br>        self.running_var = <span class="hljs-number">1</span><br><br>        self.momentum = momentum<br><br>        self.eps = eps<br>        self.beta = np.zeros(shape=(num_features, ))<br>        self.gamma = np.ones(shape=(num_features, ))<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">batch_norm</span>(<span class="hljs-params">self, x</span>):<br>        x_mean = x.mean(axis=<span class="hljs-number">0</span>)<br>        x_var = x.var(axis=<span class="hljs-number">0</span>)<br><br>        self.running_mean = (<span class="hljs-number">1</span>-self.momentum)*x_mean + self._momentum*self.running_mean<br>        self.running_var = (<span class="hljs-number">1</span>-self.momentum)*x_var + self._momentum*self.running_var<br><br>        x_hat = (x-x_mean) / np.sqrt(x_var+self.eps)<br>        y = self.gamma*x_hat + self.beta<br><br>        <span class="hljs-keyword">return</span> y<br></code></pre></td></tr></table></figure><h3 id="Layer-Normalization"><a href="#Layer-Normalization" class="headerlink" title="Layer Normalization"></a>Layer Normalization</h3><blockquote><p>åœ¨ <code>RNNs</code> ç½‘ç»œä¸­ï¼Œä¸åŒçš„ <code>mini-batch</code> å¯èƒ½å…·æœ‰ <strong>ä¸åŒçš„è¾“å…¥åºåˆ—é•¿åº¦ï¼ˆæ·±åº¦ï¼‰</strong>ï¼Œè®¡ç®—ç»Ÿè®¡ä¿¡æ¯æ¯”è¾ƒå›°éš¾ï¼Œè€Œä¸”æµ‹è¯•åºåˆ—é•¿åº¦ä¸èƒ½å¤§äºæœ€å¤§è®­ç»ƒåºåˆ—é•¿åº¦ï¼›</p></blockquote><ul><li><strong>ç®—æ³•æ­¥éª¤</strong></li></ul><p>ï¼ˆ0ï¼‰å¯¹äºå‰å‘ç¥ç»ç½‘ç»œçš„<strong>ç¬¬ $l$ ä¸ªéšè—å±‚</strong>ï¼ˆç­‰ä»·äº <code>RNNs</code> ä¸­ $x^{l}$ æ—¶åˆ»å¯¹åº”çš„éšè—å±‚ï¼‰ï¼Œä»¤ $a^{l}$ è¡¨ç¤ºè¾“å…¥å‘é‡ï¼ˆå‰å±‚ç½‘ç»œè¾“å‡ºåŠ æƒåçš„å‘é‡ï¼‰ï¼Œ$H$ è¡¨ç¤ºéšè—å•å…ƒæ•°é‡ï¼›</p><p>ï¼ˆ1ï¼‰<strong>è®¡ç®—å‡å€¼</strong>ï¼š$\mu^{l}&#x3D;\frac{1}{H}\sum_{i&#x3D;1}^{H}a_{i}^{l}$ï¼Œåœ¨ <strong>é€šé“ç»´åº¦</strong> ä¸Šæ±‚æ¯ä¸€ä¸ª <code>token</code> çš„å‡å€¼ï¼ˆæ–¹å·®åŒç†ï¼‰ï¼›</p><p>ï¼ˆ2ï¼‰<strong>è®¡ç®—æ–¹å·®</strong>ï¼š$\sigma^{l}&#x3D;\sqrt{\frac{1}{H}\sum_{i&#x3D;1}^{H}(a_{i}^{l}-\mu^{l})^{2}}$ï¼›</p><p>ï¼ˆ3ï¼‰<strong>å½’ä¸€åŒ–</strong>ï¼š$z_{norm}^{l}&#x3D;\frac{z^{l}-\mu^{l}}{\sqrt{(\sigma^{l})^{2} + \epsilon}}$ï¼›</p><p>ï¼ˆ4ï¼‰<strong>ç¼©æ”¾å’Œå¹³ç§»</strong>ï¼š$\tilde{z}^{l}&#x3D;\gamma z_{norm}^{l}+\beta$ã€‚</p><blockquote><p><strong>LN çš„ä¼˜åŠ¿ï¼š</strong>ï¼šæ— éœ€æ‰¹è®­ç»ƒï¼Œé€‚ç”¨äº <code>batch size</code> ä¸º <code>1</code> çš„æ•°æ®è¾“å…¥</p></blockquote><blockquote><p><strong>ä¸€ä¸ªå¾ˆå¥½çš„è§£é‡Šï¼š</strong><br>æ·±åº¦å­¦ä¹ é‡Œçš„æ­£åˆ™åŒ–æ–¹æ³•å°±æ˜¯ <strong>â€œé€šè¿‡æŠŠä¸€éƒ¨åˆ†ä¸é‡è¦çš„å¤æ‚ä¿¡æ¯æŸå¤±æ‰ï¼Œä»¥æ­¤æ¥é™ä½æ‹Ÿåˆéš¾åº¦ä»¥åŠè¿‡æ‹Ÿåˆçš„é£é™©ï¼Œä»è€ŒåŠ é€Ÿäº†æ¨¡å‹çš„æ”¶æ•›â€<strong>ã€‚<br><code>Normalization</code> ç›®çš„å°±æ˜¯è®©åˆ†å¸ƒç¨³å®šä¸‹æ¥ï¼ˆé™ä½å„ç»´åº¦æ•°æ®çš„æ–¹å·®ï¼‰ã€‚<br>&amp;nbsp;<br>ä¸åŒæ­£åˆ™åŒ–æ–¹æ³•çš„åŒºåˆ«åªæ˜¯æ“ä½œçš„ä¿¡æ¯ç»´åº¦ä¸åŒï¼Œå³é€‰æ‹©æŸå¤±ä¿¡æ¯çš„ç»´åº¦ä¸åŒã€‚<br>åœ¨ <code>CV</code> åœºæ™¯ä¸­ï¼Œå„ä¸ª <code>Channel</code> ç»´åº¦ä¸­çš„ä¿¡æ¯åŸå°ä¸åŠ¨ï¼Œå› ä¸ºæ•°æ®åœ¨ä¸åŒ <code>channel</code> ä¸­çš„ä¿¡æ¯å¾ˆé‡è¦ï¼Œå¦‚æœ</strong>å¯¹ <code>channle</code> ç»´åº¦è¿›è¡Œå½’ä¸€åŒ–å°†ä¼šæŸå¤±ä¸åŒ <code>channel</code> çš„å·®å¼‚ä¿¡æ¯ã€‚</strong><br>è€Œ <code>NLP</code> ä¸­ä¸åŒ <code>batch</code> æ ·æœ¬çš„ä¿¡æ¯å…³è”æ€§ä¸å¤§ï¼Œè€Œä¸”ç”±äºä¸åŒçš„å¥å­é•¿åº¦ä¸åŒï¼Œå¼ºè¡Œå½’ä¸€åŒ–ä¼šæŸå¤±ä¸åŒæ ·æœ¬é—´çš„å·®å¼‚ä¿¡æ¯ï¼Œæ‰€ä»¥å°±æ²¡åœ¨ <code>batch</code> ç»´åº¦è¿›è¡Œå½’ä¸€åŒ–ï¼Œè€Œæ˜¯é€‰æ‹© <code>Layer Normalization</code>ï¼Œåªè€ƒè™‘çš„å¥å­å†…éƒ¨ç»´åº¦çš„å½’ä¸€åŒ–ã€‚ å¯ä»¥è®¤ä¸º <code>NLP</code> åº”ç”¨åœºæ™¯ä¸­ä¸€ä¸ªæ ·æœ¬å†…éƒ¨ç»´åº¦é—´æ˜¯æœ‰å…³è”çš„ï¼Œæ‰€ä»¥åœ¨ä¿¡æ¯å½’ä¸€åŒ–æ—¶ï¼Œ<strong>å¯¹æ ·æœ¬å†…éƒ¨å·®å¼‚ä¿¡æ¯è¿›è¡Œä¸€äº›æŸå¤±ï¼Œåè€Œèƒ½é™ä½æ–¹å·®ã€‚</strong><br>&amp;nbsp;<br>æ€»ç»“ï¼š<strong>é€‰æ‹©ä»€ä¹ˆæ ·çš„å½’ä¸€åŒ–æ–¹å¼ï¼Œå–å†³äºä½ å…³æ³¨æ•°æ®çš„å“ªéƒ¨åˆ†ä¿¡æ¯ã€‚å¦‚æœæŸä¸ªç»´åº¦ä¿¡æ¯çš„å·®å¼‚æ€§å¾ˆé‡è¦ï¼Œéœ€è¦è¢«æ‹Ÿåˆï¼Œé‚£å°±åˆ«åœ¨é‚£ä¸ªç»´åº¦è¿›è¡Œå½’ä¸€åŒ–ã€‚</strong></p></blockquote><h2 id="æ¿€æ´»å‡½æ•°"><a href="#æ¿€æ´»å‡½æ•°" class="headerlink" title="æ¿€æ´»å‡½æ•°"></a>æ¿€æ´»å‡½æ•°</h2><p><strong>æ¿€æ´»å‡½æ•°å’Œå½’ä¸€åŒ–çš„é¡ºåºé—®é¢˜ï¼Ÿ</strong><br>è‹¥æ¿€æ´»å‡½æ•°ä¸º ReLUï¼Œåˆ™å¿…é¡»å°† BN ç½®äºæ¿€æ´»å‰ï¼Œå¦åˆ™ç»è¿‡ ReLU åçš„å¤±æ´»ç¥ç»å…ƒä¼šé€ æˆå½’ä¸€åŒ–çš„åç§»å’ŒæŠ–åŠ¨ã€‚è‹¥æ¿€æ´»å‡½æ•°ä¸º Sigmoid æˆ– tanhï¼Œåˆ™é¡ºåºæ ¹æ®å®éªŒæ•ˆæœè€Œå®šã€‚</p><h3 id="Sigmoid"><a href="#Sigmoid" class="headerlink" title="Sigmoid"></a>Sigmoid</h3><p>$$f(x)&#x3D;\frac{1}{1+e^{-x}}$$</p><blockquote><p><strong>åŠ£åŠ¿ï¼š</strong>ï¼ˆ1ï¼‰æ¢¯åº¦å¼¥æ•£ï¼ˆæ¶ˆå¤±æˆ–çˆ†ç‚¸ï¼‰ï¼›ï¼ˆ2ï¼‰æ±‚å¯¼è€—æ—¶ï¼›ï¼ˆ3ï¼‰ä¸å…³äºåŸç‚¹å¯¹ç§°ï¼›ï¼ˆ4ï¼‰æ”¶æ•›é€Ÿåº¦æ…¢ï¼›</p></blockquote><p><strong>æ¿€æ´»å‡½æ•°å…³äºåŸç‚¹å¯¹ç§°çš„é‡è¦æ€§ï¼š</strong><br>Sigmoid çš„éåŸç‚¹å¯¹ç§°çš„ç‰¹ç‚¹å¯¼è‡´æ‰€æœ‰å‚æ•°çš„æ¢¯åº¦æ–¹å‘éƒ½æ˜¯åŒå‘çš„ï¼›è€Œæ·±åº¦å­¦ä¹ æ¨¡å‹çš„å‚æ•°åœ¨æ›´æ–°æ—¶ï¼Œä¸ä¸€å®šéƒ½æœç€åŒä¸€ï¼ˆæ­£å‘&#x2F;åå‘ï¼‰æ¢¯åº¦æ–¹å‘æ›´æ–°ï¼Œå› æ­¤ sigmoid è¿™ä¸€ç‰¹ç‚¹ä½¿å¾—æ¨¡å‹æ”¶æ•›é€Ÿåº¦å‡æ…¢äº†ï¼›</p><h3 id="tanh"><a href="#tanh" class="headerlink" title="tanh"></a>tanh</h3><p>$$f(x)&#x3D;\frac{e^{x}-e^{-x}}{e^{x}+e^{-x}}$$</p><blockquote><p><strong>ä¼˜åŠ¿ï¼š</strong>ï¼ˆ1ï¼‰å…³äºåŸç‚¹å¯¹ç§°ï¼›ï¼ˆ2ï¼‰æ”¶æ•›é€Ÿåº¦æ¯” sigmoid æ›´å¿«ï¼›<br><strong>åŠ£åŠ¿ï¼š</strong>ï¼ˆ1ï¼‰æ¢¯åº¦å¼¥æ•£ï¼ˆæ¶ˆå¤±æˆ–çˆ†ç‚¸ï¼‰ï¼›</p></blockquote><p><strong>ä¸ºä»€ä¹ˆ tanh æ¯” sigmoid æ”¶æ•›å¿«ï¼Ÿ</strong><br>tanh æ¿€æ´»å‡½æ•°å…³äºåŸç‚¹å¯¹ç§°ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­æ¢¯åº¦å¯ä»¥æœç€ä¸¤ä¸ªæ–¹å‘å‘ˆç° zigzag å½¢å¼çš„æ›´æ–°ï¼Œæ›´å®¹æ˜“è¾¾åˆ°æœ€ä¼˜å€¼ã€‚</p><h3 id="ReLU"><a href="#ReLU" class="headerlink" title="ReLU"></a>ReLU</h3><p>$$f(x)&#x3D;\begin{cases} x, x&gt;0, \\ 0, x&lt;0 \end{cases}$$</p><blockquote><p><strong>ä¼˜åŠ¿ï¼š</strong>ï¼ˆ1ï¼‰æ±‚å¯¼è¿ç®—é‡å°ï¼›ï¼ˆ2ï¼‰æœ‰æ•ˆé¿å…æ¢¯åº¦æ¶ˆå¤±ï¼›ï¼ˆ3ï¼‰ç½®é›¶èƒ½å¤Ÿç¼“è§£è¿‡æ‹Ÿåˆã€‚<br><strong>åŠ£åŠ¿ï¼š</strong>ï¼ˆ1ï¼‰ç¥ç»å…ƒæ­»äº¡ä¸”ä¸ä¼šå¤æ´»ï¼›</p></blockquote><hr><h1 id="å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰"><a href="#å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰" class="headerlink" title="å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰"></a>å¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRNNï¼‰</h1><p><img src="https://s2.loli.net/2022/08/19/AZ94NPjQwvSmVTH.png"></p><blockquote><p><strong><code>RNN</code> å’Œ <code>CNN</code> ä¸­çš„æ¢¯åº¦é—®é¢˜ï¼Œä¸ºä»€ä¹ˆ <code>RNN</code> æ›´å®¹æ˜“æ¢¯åº¦æ¶ˆå¤±æˆ–çˆ†ç‚¸ï¼Ÿ</strong><br>ï¼ˆ1ï¼‰**<code>RNN</code><strong>ï¼šé•¿æ—¶é—´åºåˆ—çš„ä¼ æ’­è¿‡ç¨‹ä¼šç”¨åˆ°å‰ä¸€æ—¶åˆ»çš„ä¿¡æ¯ï¼Œå¯¼è‡´ <code>n</code> ä¸ª <strong>ç›¸åŒçš„</strong> é›…å¯æ¯”çŸ©é˜µ W <strong>è¿ç»­ç›¸ä¹˜</strong>ï¼›ï¼ˆ</strong>è§£å†³æ–¹æ³•ï¼šæ¢¯åº¦æˆªæ–­<strong>ï¼‰<br>ï¼ˆ2ï¼‰</strong><code>CNN</code><strong>ï¼šæ¯å±‚çš„</strong>å‚æ•°çŸ©é˜µ** W ä¸åŒï¼›ï¼ˆ<strong>è§£å†³æ–¹æ³•ï¼šæ¿€æ´»å‡½æ•°ï¼Œæ­£åˆ™åŒ–ç­‰</strong>ï¼‰</p></blockquote><h2 id="LSTM"><a href="#LSTM" class="headerlink" title="LSTM"></a>LSTM</h2><p><img src="https://s2.loli.net/2022/08/19/T9l3UcGDe7qmFAP.png"></p><blockquote><p><strong>ä¸‰ä¸ªé—¨</strong>ï¼š<br>ï¼ˆ1ï¼‰<strong>é—å¿˜é—¨ï¼ˆ<code>Forget</code>ï¼‰</strong>ï¼šæœ€å·¦ä¾§ <code>Sigmoid</code>ï¼Œé€‰æ‹©ä¿ç•™ï¼ˆé—å¿˜ï¼‰<strong>æ—§çš„ä¿¡æ¯</strong>ï¼›<br>ï¼ˆ3ï¼‰<strong>è¾“å…¥é—¨ï¼ˆ<code>Input</code>ï¼‰</strong>ï¼šä¸­é—´çš„ <code>Sigmoid + tanh</code>ï¼Œé€‰æ‹©ä¿ç•™ï¼ˆé—å¿˜ï¼‰<strong>æ–°çš„ä¿¡æ¯</strong>ï¼›<br>ï¼ˆ3ï¼‰<strong>è¾“å‡ºé—¨ï¼ˆ<code>Output</code>ï¼‰</strong>ï¼šæœ€å³ä¾§ <code>Sigmoid + tanh</code>ï¼Œ<strong>é€‰æ‹©è¾“å‡º</strong>å†…å®¹ã€‚</p></blockquote><blockquote><p><strong>LSTM å¦‚ä½•è§£å†³æ¢¯åº¦é—®é¢˜ï¼Ÿ</strong><br>å½“å‰çš„ <code>cell informaton</code> æ˜¯é€šè¿‡ <code>input gate</code> æ§åˆ¶ä¹‹åå åŠ çš„ï¼Œ<code>RNN</code> æ˜¯å ä¹˜ã€‚</p></blockquote><blockquote><p><strong>ä¸ºä»€ä¹ˆæ—¢å­˜åœ¨tanhå’Œsigmoidï¼Œè€Œä¸ç»Ÿä¸€é‡‡ç”¨ä¸€æ ·çš„?</strong><br><code>sigmoid</code> ç”¨äº<strong>é—¨æ§å¤„ç†</strong>ï¼ˆä¸€èˆ¬ä¸å¯æ›¿æ¢ï¼‰ï¼Œ<code>tanh</code> ç”¨äº<strong>çŠ¶æ€è¾“å‡º</strong>ï¼ˆå¯æ›¿æ¢ï¼‰</p></blockquote><h2 id="GRU"><a href="#GRU" class="headerlink" title="GRU"></a>GRU</h2><p><img src="https://s2.loli.net/2022/08/19/otYMmSWRE3yZcpw.png"></p><blockquote><p>è¿›ä¸€æ­¥<strong>è§£å†³é•¿æœŸè®°å¿†</strong>å’Œ<strong>åå‘ä¼ æ’­ä¸­çš„æ¢¯åº¦ç­‰é—®é¢˜</strong></p></blockquote><blockquote><p><strong>ä¸¤ä¸ªé—¨</strong>ï¼š<br>ï¼ˆ1ï¼‰<strong>æ›´æ–°é—¨ï¼ˆ<code>Update</code>ï¼‰</strong>ï¼šä¸¤ä¸ª <code>Sigmoid</code>ï¼Œ<strong>åˆå¹¶äº† <code>LSTM</code> ä¸­çš„è¾“å…¥é—¨å’Œé—å¿˜é—¨</strong>ï¼Œåˆ†åˆ«é€‰æ‹©ä¿ç•™ï¼ˆé—å¿˜ï¼‰æ–°&#x2F;æ—§çš„ä¿¡æ¯ï¼›<br>ï¼ˆ2ï¼‰<strong>é‡ç½®é—¨ï¼ˆ<code>Reset</code>ï¼‰</strong>ï¼šä¸€ä¸ª <code>tanh</code>ï¼Œé€‰æ‹©è¾“å‡ºå†…å®¹ã€‚</p></blockquote><hr><h1 id="ç”Ÿæˆæ¨¡å‹"><a href="#ç”Ÿæˆæ¨¡å‹" class="headerlink" title="ç”Ÿæˆæ¨¡å‹"></a>ç”Ÿæˆæ¨¡å‹</h1><p>æ ¹æ®<strong>çœŸå®åˆ†å¸ƒ</strong> <code>p-data(x)</code> çš„è®­ç»ƒæ•°æ®ï¼Œé€šè¿‡è®­ç»ƒå­¦ä¹ å¾—åˆ°<strong>è¿‘ä¼¼äºçœŸå®çš„åˆ†å¸ƒ</strong> <code>p-model(x)</code> çš„æ–°æ ·æœ¬æ•°æ®ã€‚</p><h2 id="ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹"><a href="#ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹" class="headerlink" title="ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹"></a>ç”Ÿæˆæ¨¡å‹ä¸åˆ¤åˆ«æ¨¡å‹</h2><h2 id="Pixel-RNN-x2F-CNN"><a href="#Pixel-RNN-x2F-CNN" class="headerlink" title="Pixel RNN &#x2F; CNN"></a>Pixel RNN &#x2F; CNN</h2><blockquote><p>ä»å·¦ä¸Šè§’å¼€å§‹å®šä¹‰ <strong>ä¹‹å‰çš„åƒç´ </strong>ï¼Œç”Ÿæˆå›¾åƒ <code>x</code> çš„ <strong>æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒ</strong> ä¸ºï¼š<br>$$p(x)&#x3D;\prod_{i&#x3D;1}^{n}p(x_{i}|x_{1},â€¦,x_{i-1})$$<br><strong>æ³¨</strong>ï¼šå¯¹äº <code>Pixel RNN</code> è€Œè¨€ï¼Œå…¬å¼ä¸­çš„æ¯ä¸€é¡¹çš„è¾“å‡ºæ¦‚ç‡ $p(x_{i})$ éƒ½ä¾èµ–äºä¹‹å‰æ‰€æœ‰æ¦‚ç‡ $p(x_{1}),â€¦,p(x_{i-1})$ï¼›<br>è€Œ <code>Pixel CNN</code> åœ¨è®­ç»ƒæ—¶å¯ä»¥ <strong>å¹¶è¡Œè®¡ç®—</strong> å…¬å¼ä¸­çš„æ¯ä¸€é¡¹ï¼Œç„¶åè¿›è¡Œå‚æ•°æ›´æ–°ï¼Œå› æ­¤ <strong>è®­ç»ƒé€Ÿåº¦è¿œå¿«äº <code>Pixel RNN</code></strong></p></blockquote><blockquote><p><strong>è®­ç»ƒæ–¹å¼</strong>ï¼š<br>ï¼ˆ1ï¼‰<strong>å‰å‘ä¼ æ’­</strong>ï¼šæ ¹æ®ä¸Šé¢çš„å…¬å¼æ±‚å‡ºä¼¼ç„¶<br>ï¼ˆ<code>Pixel RNN</code> éœ€è¦ <strong>ä»å·¦ä¸Šåˆ°å³ä¸‹ä¸²è¡Œ</strong> èµ°ä¸€éï¼Œè€Œ <code>Pixel CNN</code> å¹¶è¡Œè®¡ç®—æ‰€æœ‰åƒç´ ç‚¹ï¼‰ï¼›<br>ï¼ˆ2ï¼‰<strong>æœ€å¤§åŒ–ä¼¼ç„¶</strong> ä»¥å¯¹å‚æ•° <strong>åšä¸€è½®æ›´æ–°</strong>ã€‚<br><strong>æµ‹è¯•æ–¹å¼</strong>ï¼š<br><code>Pixel RNN</code> å’Œ <code>Pixel CNN</code> éƒ½è¦ <strong>ä»å·¦ä¸Šè§’å¼€å§‹é€ä¸ªåƒç´ ç‚¹åœ°ç”Ÿæˆå›¾ç‰‡</strong></p></blockquote><blockquote><p><code>Pixel RNN / CNN</code> çš„ä¼˜åŠ£åŠ¿ï¼š<br><strong>ä¼˜åŠ¿</strong>ï¼šæ˜¯ä¸€ç§ <strong>å¯ä¼˜åŒ–çš„æ˜¾å¼å¯†åº¦æ¨¡å‹</strong>ï¼Œå¯ä»¥é€šè¿‡ä¼¼ç„¶è¯„ä¼°ç”Ÿæˆè´¨é‡ï¼›<br><strong>åŠ£åŠ¿</strong>ï¼šç”±äºéœ€è¦é€åƒç´ ç‚¹ç”Ÿæˆå›¾åƒï¼Œå®é™…åº”ç”¨ä¸­çš„ <strong>é€Ÿåº¦å¾ˆæ…¢</strong>ã€‚</p></blockquote><h2 id="å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰"><a href="#å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰" class="headerlink" title="å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰"></a>å˜åˆ†è‡ªç¼–ç å™¨ï¼ˆVAEï¼‰</h2><p><strong>å¾…è¡¥å……â€¦â€¦</strong></p><h2 id="ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰"><a href="#ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰" class="headerlink" title="ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰"></a>ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰</h2><h3 id="æ ¸å¿ƒæ€è·¯"><a href="#æ ¸å¿ƒæ€è·¯" class="headerlink" title="æ ¸å¿ƒæ€è·¯"></a>æ ¸å¿ƒæ€è·¯</h3><blockquote><p><code>GAN</code> ä¸­æˆ‘ä»¬å®šä¹‰äº†ä¸¤ä¸ªç½‘ç»œï¼š<strong>ç”Ÿæˆå™¨</strong> å’Œ <strong>åˆ¤åˆ«å™¨</strong><br><strong>ç”Ÿæˆå™¨</strong>ï¼šåˆ©ç”¨éšæœºå™ªå£° $z$ <strong>ç”Ÿæˆå°½å¯èƒ½çœŸçš„æ ·æœ¬</strong> ä»¥éª—è¿‡åˆ¤åˆ«å™¨ã€‚<br><strong>åˆ¤åˆ«å™¨</strong>ï¼šè¾¨åˆ«åŒºåˆ† <strong>ç”Ÿæˆå™¨ç”Ÿæˆçš„å‡æ ·æœ¬</strong> å’Œ <strong>è®­ç»ƒé›†ä¸­æŠ½å‡ºæ¥çš„çœŸæ ·æœ¬</strong>ã€‚</p></blockquote><blockquote><p><strong>å¯¹æŠ—å½¢å¼ï¼š</strong><br>$$\min_{\theta_{g}}\max_{\theta_{d}}[\mathbb{E}_{x \sim p_{data}} \log D_{\theta_{d}}(x) + \mathbb{E}_{z \sim p_{z}} \log (1-D_{\theta_{d}}(G_{\theta_{g}}(z)))]$$<br>å…¶ä¸­ç¬¬ä¸€é¡¹ä¸ºè¾“å…¥çœŸå®æ•°æ® $x \sim p_{data}$ï¼Œç¬¬äºŒé¡¹ä¸ºè¾“å…¥ç”Ÿæˆæ•°æ® $G_{\theta_{g}}(z)$ï¼Œä¼˜åŒ–è¿‡ç¨‹ï¼š<br><strong>å¯¹åˆ¤åˆ«å™¨ç½‘ç»œè®­ç»ƒ K æ¬¡ï¼Œä½¿ç›®æ ‡å‡½æ•°åœ¨åˆ¤åˆ«å™¨å‚æ•° $\theta_{d}$ ä¸‹æœ€å¤§åŒ–ï¼Œ</strong><br>ï¼ˆ1ï¼‰ä½¿å¾— $D_{\theta_{d}}(x)$ æ¥è¿‘ 1ï¼Œå³å°†çœŸå®æ ·æœ¬ $x$ åˆ¤å®šä¸ºçœŸï¼›<br>ï¼ˆ2ï¼‰ä½¿å¾— $D_{\theta_{d}}(G_{\theta_{g}}(z))$ æ¥è¿‘ 0ï¼Œå³å°†ç”Ÿæˆæ ·æœ¬ $G_{\theta_{g}}(z)$ åˆ¤å®šä¸ºå‡ï¼›<br><strong>å¯¹ç”Ÿæˆå™¨ç½‘ç»œè®­ç»ƒ 1 æ¬¡ï¼Œä½¿ç›®æ ‡å‡½æ•°åœ¨ç”Ÿæˆå™¨å‚æ•° $\theta_{g}$ ä¸‹æœ€å°åŒ–ï¼Œ</strong><br>ï¼ˆ3ï¼‰ä½¿å¾— $D_{\theta_{d}}(G_{\theta_{g}}(z))$ æ¥è¿‘ 1ï¼Œå³éª—è¿‡åˆ¤åˆ«å™¨å°†ç”Ÿæˆæ ·æœ¬ $G_{\theta_{g}}(z)$ åˆ¤å®šä¸ºçœŸï¼›</p></blockquote><blockquote><p><strong>ç”Ÿæˆåˆ†å¸ƒå’ŒçœŸå®åˆ†å¸ƒä¹‹é—´çš„å·®å¼‚è¡¡é‡</strong>ï¼š<br>ï¼ˆ1ï¼‰<code>KL</code> æ•£åº¦:<br>$$KL(P(x)||Q(x)) &#x3D; \sum_{x \in X}[P(x) \log\frac{P(x)}{Q(x)}]&#x3D;\mathbb{E}_{x \sim P(x)}[\log\frac{P(x)}{Q(x)}],$$<br>ç„¶è€Œï¼Œ<code>KL</code> æ•£åº¦å…·æœ‰ä¸å¯¹ç§°æ€§ï¼Œå³ $KL(P||Q) \neq KL(Q||P)$<br>ï¼ˆ2ï¼‰<code>JS</code> æ•£åº¦:<br>$$JS(P(x)||Q(x)) &#x3D; \frac{1}{2}KL(P(x)||\frac{P(x)+Q(x)}{2}) + \frac{1}{2}KL(Q(x)||\frac{P(x)+Q(x)}{2}),$$<br><code>JS</code> æ•£åº¦åˆ™å…·æœ‰å¯¹ç§°æ€§ï¼Œå³ $JS(P||Q) &#x3D; JS(Q||P)$ï¼Œä¸”å€¼åŸŸèŒƒå›´ä¸º $[0, 1]$</p></blockquote><h3 id="åŸå§‹-GAN-å­˜åœ¨çš„é—®é¢˜"><a href="#åŸå§‹-GAN-å­˜åœ¨çš„é—®é¢˜" class="headerlink" title="åŸå§‹ GAN å­˜åœ¨çš„é—®é¢˜"></a>åŸå§‹ GAN å­˜åœ¨çš„é—®é¢˜</h3><p><strong>ï¼ˆ1ï¼‰æ¢¯åº¦æ¶ˆå¤±</strong><br>åˆ¤åˆ«å™¨ç½‘ç»œçš„è®­ç»ƒä»¤å…¶è¿‡äºå¼ºå¤§ï¼Œå¯¼è‡´ç”Ÿæˆåˆ†å¸ƒå’ŒçœŸå®åˆ†å¸ƒä¸é‡å æˆ–è€…é‡å è¾ƒå°ï¼Œ</p><table>    <tr>        <td><center><img src="https://s2.loli.net/2022/08/21/TicY8DWJeyP1bvK.png" width=350></center></td>        <td><center><img src="https://s2.loli.net/2022/08/21/siZRotHApnczJeG.png" width=350></center></td>    </tr></table><blockquote><p><strong>å½“ä¸¤ä¸ªåˆ†å¸ƒæ²¡æœ‰é‡å éƒ¨åˆ†æ—¶ï¼Œ</strong>æ­¤æ—¶çš„ <code>JS</code> æ•£åº¦ä¸º<br>$$JS(P_{data}(x)||P_{g}(x))&#x3D;\frac{1}{2}\mathbb{E}_{x \sim P_{data}(x)}[\log\frac{2P_{data}(x)}{P_{data}(x)+P_{g}(x)}] + \frac{1}{2}\mathbb{E}_{x \sim P_{g}(x)}[\log\frac{2P_{g}(x)}{P_{data}(x)+P_{g}(x)}],$$<br>ä¸å¦¨è®¾ $P_{data}(x)&#x3D;0, P_{g}(x)\neq0$ æˆ– $P_{data}(x)\neq0, P_{g}(x)&#x3D;0$ï¼Œåˆ™ $JS(P_{data}(x)||P_{g}(x))&#x3D;\log2$ï¼Œæ­¤æ—¶ç”Ÿæˆå™¨çš„ <strong>æ¢¯åº¦æ¶ˆå¤±</strong>ï¼Œæ— æ³•æ›´æ–°ã€‚</p></blockquote><blockquote><p><strong>å½“ä¸¤ä¸ªåˆ†å¸ƒæœ‰é‡å éƒ¨åˆ†æ—¶ï¼Œ</strong>æœ‰æ–‡çŒ®æŒ‡å‡ºï¼Œä¸¤ä¸ªåˆ†å¸ƒåœ¨é«˜ç»´ç©ºé—´æ˜¯å¾ˆéš¾ç›¸äº¤çš„ï¼Œ<strong>å³ä½¿ç›¸äº¤ï¼Œå…¶ç›¸äº¤éƒ¨åˆ†å…¶å®æ˜¯é«˜ç»´ç©ºé—´ä¸­çš„ä¸€ä¸ªä½ç»´æµå½¢ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡</strong>ï¼Œåˆ™æ­¤æ—¶çš„ <code>JS</code> æ•£åº¦ä¾ç„¶ä¸ºå¸¸æ•°ï¼Œç”Ÿæˆå™¨ä¾ç„¶ <strong>æ¢¯åº¦æ¶ˆå¤±</strong>ï¼Œæ— æ³•æ›´æ–°ã€‚</p></blockquote><p><strong>ï¼ˆ2ï¼‰æ¨¡å¼å´©å¡Œï¼ˆMode Collapseï¼‰</strong><br>å´©å¡Œçš„æ¦‚å¿µæ˜¯é’ˆå¯¹ <strong>ç”Ÿæˆ</strong> å’Œ <strong>åˆ¤åˆ«</strong> çš„ <strong>å¯¹æŠ—æ¨¡å¼</strong> è€Œè¨€çš„ï¼Œæ˜¯æŒ‡ GAN ç”Ÿæˆäº†ä¸çœŸå®æ ·æœ¬ç›¸åŒçš„æ ·æœ¬ï¼Œä½† <strong>ç”Ÿæˆæ ·æœ¬ä¸å…·å¤šæ ·æ€§ï¼ˆæˆ–è¯´å­˜åœ¨å¤§é‡é‡å¤çš„æ ·æœ¬ï¼‰</strong>ï¼Œä½†åœ¨è¿™ç§æƒ…å†µä¸‹ <strong>åˆ¤åˆ«å™¨å´è®¤ä¸ºç”Ÿæˆå™¨çš„æ€§èƒ½ä¼˜è¶Š</strong>ã€‚</p><p>å¦‚å·¦ä¸‹å›¾ä¸­çš„ç»¿è‰²æ ·æœ¬ï¼Œå³ä¸‹å›¾ä¸­çš„é‡å¤æ ·æœ¬ã€‚</p><table>    <tr>        <td><center><img src="https://s2.loli.net/2022/08/21/GfF1DmuV58W6nLZ.png" width=350></center></td>        <td><center><img src="https://s2.loli.net/2022/08/21/vje6TaShCUuLB1F.png" width=350></center></td>    </tr></table><h3 id="Wasserstein-GANï¼ˆW-GANï¼‰"><a href="#Wasserstein-GANï¼ˆW-GANï¼‰" class="headerlink" title="Wasserstein GANï¼ˆW-GANï¼‰"></a>Wasserstein GANï¼ˆW-GANï¼‰</h3><p>å¼•å…¥äº† <code>Wasserstein</code> è·ç¦»ï¼ˆä¹Ÿç§° <code>Earth-Mover (EM)</code> è·ç¦»ï¼‰ï¼Œ<strong>æ— è®ºä¸¤ä¸ªåˆ†å¸ƒå¤šè¿œï¼Œéƒ½æœ‰æ¢¯åº¦</strong>ï¼Œç›¸å¯¹ <code>KL</code> æ•£åº¦ä¸ <code>JS</code> æ•£åº¦å…·æœ‰ä¼˜è¶Šçš„å¹³æ»‘ç‰¹æ€§ï¼Œç†è®ºä¸Šå¯ä»¥è§£å†³ <strong>çœŸå®åˆ†å¸ƒå’Œç”Ÿæˆåˆ†å¸ƒä¸é‡å æˆ–é‡å éƒ¨åˆ†å¯å¿½ç•¥æ—¶</strong> å‡ºç°çš„<strong>æ¢¯åº¦æ¶ˆå¤±é—®é¢˜</strong>ã€‚</p><p>å°†ä¸¤ä¸ªåˆ†å¸ƒ $p$ å’Œ $q$ çœ‹æˆä¸¤å †åœŸï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¸Œæœ›æŠŠå…¶ä¸­çš„ä¸€å †åœŸç§»æˆå¦ä¸€å †åœŸçš„ä½ç½®å’Œå½¢çŠ¶ï¼Œæœ‰å¾ˆå¤šç§å¯èƒ½çš„æ–¹æ¡ˆã€‚æ¨åœŸä»£ä»·è¢«å®šä¹‰ä¸ºç§»åŠ¨åœŸçš„é‡ä¹˜ä»¥åœŸç§»åŠ¨çš„è·ç¦»ï¼Œåœ¨æ‰€æœ‰çš„æ–¹æ¡ˆä¸­ï¼Œå­˜åœ¨ä¸€ç§æ¨åœŸä»£ä»·æœ€å°çš„æ–¹æ¡ˆï¼Œè¿™ä¸ªä»£ä»·å°±ç§°ä¸ºä¸¤ä¸ªåˆ†å¸ƒçš„ <code>Wasserstein</code> è·ç¦»ã€‚</p><p><img src="https://s2.loli.net/2022/09/01/Dt9acjyQOHkdmfX.png"></p><p><code>Wasserstein</code> è·ç¦»çš„å½¢å¼åŒ–çš„è¡¨è¾¾å¼å¦‚ä¸‹ï¼š$$W(p,q)&#x3D;\inf\limits_{\gamma\sim\prod(p,q)}E_{x,y\sim\gamma}[||x-y||]$$å…¶ä¸­ï¼Œ $\prod(p,q)$ è¡¨ç¤ºâ€‹åˆ†å¸ƒ $p$ å’Œ $q$ ç»„åˆèµ·æ¥çš„æ‰€æœ‰å¯èƒ½çš„<strong>è”åˆåˆ†å¸ƒ</strong>çš„é›†åˆã€‚</p><p>å¯¹äºæ¯ä¸€ä¸ªå¯èƒ½çš„è”åˆåˆ†å¸ƒ $\gamma$ï¼Œå¯ä»¥ä»ä¸­<strong>é‡‡æ ·ä¸€å¯¹æ ·æœ¬â€‹</strong> $x$ å’Œâ€‹â€‹â€‹ $y$ï¼Œ$(x,y)\sim\gamma$ï¼Œå¹¶è®¡ç®—å‡ºè¿™å¯¹æ ·æœ¬çš„è·ç¦» $||x-y||$ï¼Œè®¡ç®—è¯¥è”åˆåˆ†å¸ƒ $\gamma$ ä¸‹ï¼Œ<strong>æ ·æœ¬å¯¹è·ç¦»çš„æœŸæœ›å€¼</strong> $E_{x,y\sim\gamma}[||x-y||]$ã€‚</p><p>ç”¨æ¨åœŸçš„æ–¹å¼ç†è§£å°±æ˜¯ï¼Œ$E_{x,y\sim\gamma}[||x-y||]$ æ˜¯<strong>åœ¨ $\gamma$ è·¯å¾„è§„åˆ’ä¸‹ï¼ŒæŠŠ $p$ ç§»åŠ¨æˆâ€‹ $q$ çš„æ¶ˆè€—</strong>ï¼Œè€Œ <code>Wasserstein</code> è·ç¦»å°±æ˜¯åœ¨<strong>â€œæœ€ä¼˜è·¯å¾„è§„åˆ’â€ä¸‹çš„æœ€å°æ¶ˆè€—</strong>ï¼Œä¹Ÿå³<strong>æ‰€æœ‰å¯èƒ½çš„è”åˆåˆ†å¸ƒä¸­èƒ½å¤Ÿå¯¹è¿™ä¸ªæœŸæœ›å€¼å–åˆ°çš„ä¸‹ç•Œ</strong>ã€‚</p><h3 id="CycleGAN"><a href="#CycleGAN" class="headerlink" title="CycleGAN"></a>CycleGAN</h3><p><strong>å¾…è¡¥å……â€¦â€¦</strong></p><hr><h1 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a>Transformer</h1><table>    <tr>        <td><center><img src="https://s2.loli.net/2022/09/03/94btVRgkqF2GpHJ.png" width=350>Transformerï¼ˆEncoderï¼ˆå·¦ï¼‰ï¼ŒDecoderï¼ˆå³ï¼‰ï¼‰</center></td>        <td><center><img src="https://s2.loli.net/2022/09/03/8WQqKJyeM63lULj.png" width=350>Multi-head Self-attention</center></td>    </tr></table><h2 id="Encoder"><a href="#Encoder" class="headerlink" title="Encoder"></a>Encoder</h2><blockquote><p><code>Encoder</code> ç”± <code>N=6</code> ä¸ªç›¸åŒçš„ <code>layers</code> ç»„æˆ, æ¯ä¸ª <code>layers</code> çš„ç»“æ„ï¼š<br>ï¼ˆ1ï¼‰<strong>å¤šå¤´æ³¨æ„åŠ›å±‚</strong>ï¼ˆMulti-head attention layerï¼‰ï¼›<br>ï¼ˆ2ï¼‰<strong>å‰é¦ˆå±‚</strong>ï¼ˆFeed Forward Layerï¼‰ï¼›<br>æ¯ä¸ª <code>sub-layer</code> éƒ½åŠ äº†æ®‹å·®è¿æ¥å’Œå½’ä¸€åŒ–ã€‚</p></blockquote><h3 id="Positional-Embedding"><a href="#Positional-Embedding" class="headerlink" title="Positional Embedding"></a>Positional Embedding</h3><h3 id="Multi-head-Attention"><a href="#Multi-head-Attention" class="headerlink" title="Multi-head Attention"></a>Multi-head Attention</h3><h4 id="å¤šå¤´æ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹"><a href="#å¤šå¤´æ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹" class="headerlink" title="å¤šå¤´æ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹"></a>å¤šå¤´æ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹</h4><p>ä»¥ <code>Head</code> æ•°ç­‰äº <code>4</code> ä¸ºä¾‹<br><img src="https://s2.loli.net/2022/09/02/v3ME1jfh2zWV5eL.png"></p><h4 id="è®¡ç®—æ­¥éª¤"><a href="#è®¡ç®—æ­¥éª¤" class="headerlink" title="è®¡ç®—æ­¥éª¤"></a>è®¡ç®—æ­¥éª¤</h4><blockquote><p><strong>ï¼ˆ1ï¼‰æ±‚å‡º $Q, K, V$</strong></p></blockquote><p>è¿™é‡Œæ˜¯æ±‚ <code>MultiHead</code> çš„ $Q,K,V$ï¼Œæ‰€ä»¥ <code>Shape</code> ä¸º (batch, headæ•°, è¯æ•°ï¼Œd_model&#x2F;headæ•°)</p><ul><li>é¦–å…ˆï¼Œé€šè¿‡å®šä¹‰çš„ $W^q,W^k,W^v$ æ±‚å‡º <code>SelfAttention</code> çš„ $Q,K,V$ï¼Œæ­¤æ—¶ $Q,K,V$ çš„ <code>Shape</code> ä¸º (batch, è¯æ•°, d_model)ï¼Œå¯¹åº”ä»£ç ä¸º <code>linear(x)</code>ï¼›</li><li>åˆ†æˆå¤šå¤´ï¼Œå³å°† <code>Shape</code> ç”± (batch, è¯æ•°, d_model) å˜ä¸º (batch, è¯æ•°, headæ•°ï¼Œd_model&#x2F;headæ•°)ã€‚å¯¹åº”ä»£ç ä¸º <code>view(nbatches, -1, self.h, self.d_k)</code>ï¼›</li><li>æœ€ç»ˆäº¤æ¢ â€œè¯æ•°â€ å’Œ â€œheadæ•°â€ è¿™ä¸¤ä¸ªç»´åº¦ï¼Œå°† headæ•° æ”¾åœ¨å‰é¢ï¼Œæœ€ç»ˆ <code>shape</code> å˜ä¸º (batch, headæ•°, è¯æ•°ï¼Œd_model&#x2F;headæ•°)ã€‚å¯¹åº”ä»£ç ä¸º <code>transpose(1, 2)</code>ã€‚</li></ul><blockquote><p><strong>ï¼ˆ2ï¼‰é€šè¿‡ <code>attention</code> å‡½æ•°è®¡ç®—å‡º <code>Attention</code> ç»“æœ</strong></p></blockquote><p>$$Attention(Q,K,V)&#x3D;softmax(\frac{QK^{T}}{\sqrt{d_{k}}})V$$</p><p>è¿™é‡Œ <code>x</code> çš„ <code>shape</code> ä¸º (batch, headæ•°, è¯æ•°ï¼Œd_model&#x2F;headæ•°)ï¼Œ<code>self.attn</code> çš„ <code>shape</code> ä¸º (batch, headæ•°, è¯æ•°ï¼Œè¯æ•°)</p><blockquote></blockquote><p><strong>ï¼ˆé‡ç‚¹ï¼‰æ³¨ï¼š<code>self-attention</code> ä¸ºä»€ä¹ˆè¦é™¤ä»¥ $\sqrt{d_{k}}$<strong>ï¼ˆ<a href="https://blog.csdn.net/samuelzhoudev/article/details/120417922">å‚è€ƒ</a>ï¼‰<br><strong>ç›®çš„ï¼š</strong>ä½¿å¾— <code>attention</code> çš„ç»“æœå¤„äºä¸€ä¸ªåˆé€‚çš„åŒºé—´ï¼ˆæ•°å€¼ä¸å¤§ä¸å°ï¼‰ï¼Œç»“æœä¸­ä¸ªåˆ«æ•°å€¼åå¤§æˆ–æ•´ä½“åå°éƒ½ä¼šå¯¼è‡´æ¢¯åº¦æ¶ˆå¤±ï¼ˆè§£é‡Šå¦‚ä¸‹ï¼‰ï¼ŒåŒæ—¶ä¹Ÿèµ·åˆ°å½’ä¸€åŒ–çš„ä½œç”¨ï¼›<br><strong>è§£é‡Šï¼šä¸ªåˆ«æ•°å€¼åå¤§</strong> ä¼šå¯¼è‡´æ•°æ®æ•°é‡çº§å·®è·è¿‡å¤§ï¼Œ<code>softmax</code> ä¼šå°†æ¦‚ç‡åˆ†å¸ƒï¼ˆ<code>p=1</code>ï¼‰å…¨éƒ¨åˆ†é…ç»™æœ€å¤§å€¼çš„æ ‡ç­¾ï¼Œå¯¼è‡´å…¶ä»–ç±»åˆ«å¯¹åº”çš„åå¯¼å‘é‡å€¼ä¸º $0$ï¼›</strong>æ•´ä½“æ•°å€¼åå°</strong> åˆ™ä¼šå¯¼è‡´æ¢¯åº¦è¿‡å°ï¼Œä¼šå¯¼è‡´åœ¨å‰é¦ˆæˆ–åé¦ˆçš„è¿‡ç¨‹ä¸­æ¢¯åº¦æ¶ˆå¤±ã€‚<br><strong>è§£å†³æ–¹æ¡ˆï¼š</strong>å¯¹ <code>attention</code> çš„ç»“æœè¿›è¡Œ <code>scale</code>ï¼Œç¼©å°æ•°æ®èŒƒå›´ï¼Œæ‰©å¤§æ•°æ®å·®å¼‚ï¼›<br><strong>æ•°å­¦è¯æ˜ï¼š</strong>å‡è®¾ $Q, K$ å‡æœä»æœŸæœ›ä¸º $0$ï¼Œæ–¹å·®ä¸º $1$ çš„æ¦‚ç‡åˆ†å¸ƒï¼Œåˆ™ $$E(Q)&#x3D;E(K)&#x3D;E(QK)&#x3D;0, D(Q)&#x3D;D(K)&#x3D;1,$$å¯å¾—<br>$$D(QK)&#x3D;D(\sum_{i&#x3D;0}^{d_{k}}q_{i}k_{i})&#x3D;d_{k}\times1&#x3D;d_{k},$$ç”± $D(\frac{X}{a})&#x3D;\frac{D(X)}{a^{2}}$ å¯å¾—$$D(\frac{QK}{\sqrt{q_{k}}})&#x3D;\frac{d_{k}}{(\sqrt{d^{k}})^{2}}&#x3D;1$$</p><blockquote></blockquote><blockquote><p><strong>ï¼ˆ3ï¼‰åˆå¹¶å¤šä¸ª <code>head</code> çš„ç»“æœ</strong></p></blockquote><p>å³å°† <code>x</code> çš„ <code>shape</code> ç”± (batch, headæ•°, è¯æ•°ï¼Œd_model&#x2F;headæ•°)ï¼Œå†å˜ä¸º (batch, è¯æ•°ï¼Œd_model)</p><ul><li>é¦–å…ˆï¼Œäº¤æ¢ â€œ<code>headæ•°</code>â€å’Œâ€œè¯æ•°â€ï¼Œè¿™ä¸¤ä¸ªç»´åº¦ï¼Œç»“æœä¸º(batch, è¯æ•°, headæ•°, d_model&#x2F;headæ•°)ï¼Œå¯¹åº”ä»£ç ä¸ºï¼š<code>x.transpose(1, 2).contiguous()</code>ï¼›</li><li>ç„¶åå°† â€œheadæ•°â€ å’Œ â€œd_model&#x2F;headæ•°â€ è¿™ä¸¤ä¸ªç»´åº¦åˆå¹¶ï¼Œç»“æœä¸º(batch, è¯æ•°ï¼Œd_model)ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># æŒ‰æ³¨æ„åŠ›å…¬å¼è®¡ç®—ç»“æœ</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">attention</span>(<span class="hljs-params">query, key, value</span>):<br>    d_k = query.size(-<span class="hljs-number">1</span>)<br>    scores = torch.matmul(query, key.transpose(-<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>)) / math.sqrt(d_k)<br>    p_attn = scores.softmax(dim=-<span class="hljs-number">1</span>)<br>    <span class="hljs-keyword">return</span> torch.matmul(p_attn, value)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MultiHeadedAttention</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, h, d_model</span>):<br>        <span class="hljs-built_in">super</span>(MultiHeadedAttention, self).__init__()<br>        <span class="hljs-keyword">assert</span> d_model % h == <span class="hljs-number">0</span><br><br>        self.d_k = d_model // h<br>        self.h = h<br><br>        self.linears = [<br>            nn.Linear(d_model, d_model),<br>            nn.Linear(d_model, d_model),<br>            nn.Linear(d_model, d_model),<br>            nn.Linear(d_model, d_model),<br>        ]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        nbatches = x.size(<span class="hljs-number">0</span>)<br><br>        query, key, value = [<br>            linear(x).view(nbatches, -<span class="hljs-number">1</span>, self.h, self.d_k).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>            <span class="hljs-keyword">for</span> linear, x <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(self.linears, (x, x, x))<br>        ]<br><br>        x = attention(query, key, value)<br><br>        x = (x.transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>).contiguous().view(nbatches, -<span class="hljs-number">1</span>, self.h * self.d_k))<br><br>        <span class="hljs-keyword">return</span> self.linears[-<span class="hljs-number">1</span>](x)<br><br><br><span class="hljs-comment"># å®šä¹‰8ä¸ªheadï¼Œè¯å‘é‡ç»´åº¦ä¸º512çš„å¤šå¤´æ³¨æ„åŠ›å±‚</span><br>model = MultiHeadedAttention(<span class="hljs-number">8</span>, <span class="hljs-number">512</span>)<br><br><span class="hljs-comment"># ä¼ å…¥ä¸€ä¸ªbatch_sizeä¸º2ï¼Œ 7ä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯ä¸º512ç»´åº¦</span><br>x = torch.rand(<span class="hljs-number">2</span>, <span class="hljs-number">7</span>, <span class="hljs-number">512</span>)<br><span class="hljs-built_in">print</span>(model(x).size())<br></code></pre></td></tr></table></figure><h3 id="Layer-Normalization-1"><a href="#Layer-Normalization-1" class="headerlink" title="Layer Normalization"></a>Layer Normalization</h3><p>è§ 1.4.2ã€‚</p><h3 id="Feed-Forward"><a href="#Feed-Forward" class="headerlink" title="Feed Forward"></a>Feed Forward</h3><blockquote><p><strong>å‰é¦ˆå…¨è¿æ¥å±‚çš„ä½œç”¨:</strong><br>è€ƒè™‘æ³¨æ„åŠ›æœºåˆ¶å¯èƒ½å¯¹å¤æ‚è¿‡ç¨‹çš„æ‹Ÿåˆç¨‹åº¦ä¸å¤Ÿï¼Œé€šè¿‡å¢åŠ ä¸¤å±‚ç½‘ç»œæ¥å¢å¼ºæ¨¡å‹çš„èƒ½åŠ›ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PositionwiseFeedForward</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, d_model, d_ff, dropout=<span class="hljs-number">0.1</span></span>):<br>        <span class="hljs-built_in">super</span>(PositionwiseFeedForward, self).__init__()<br>        <br>        self.w1 = nn.Linear(d_model, d_ff)<br>        self.w2 = nn.Linear(d_ff, d_model)<br>        self.dropout = nn.Dropout(p=dropout)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.w1(x)<br>        x = F.relu(x)<br>        x = self.dropout(x)<br>        x = self.w2(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="Decoder"><a href="#Decoder" class="headerlink" title="Decoder"></a>Decoder</h2><blockquote><p><code>Dncoder</code> ç”± <code>N=6</code> ä¸ªç›¸åŒçš„ <code>layers</code> ç»„æˆ, æ¯ä¸ª <code>layers</code> çš„ç»“æ„ï¼š<br>ï¼ˆ1ï¼‰<strong>å¸¦maskçš„å¤šå¤´æ³¨æ„åŠ›å±‚</strong><br>ï¼ˆ2ï¼‰<strong>å¤šå¤´æ³¨æ„åŠ›å±‚</strong>ï¼ˆMulti-head attention layerï¼‰ï¼›<br>ï¼ˆ3ï¼‰<strong>å‰é¦ˆå±‚</strong>ï¼ˆFeed Forward Layerï¼‰ï¼›<br>æ¯ä¸ª sub-layer éƒ½åŠ äº†æ®‹å·®è¿æ¥å’Œå½’ä¸€åŒ–ã€‚</p></blockquote><h3 id="Masked-Multi-head-Attention"><a href="#Masked-Multi-head-Attention" class="headerlink" title="Masked Multi-head Attention"></a><strong>Masked</strong> Multi-head Attention</h3><p><a href="https://blog.csdn.net/zhaohongfei_358/article/details/125858248">MultiHead-Attentionå’ŒMasked-Attentionçš„æœºåˆ¶å’ŒåŸç†</a></p><hr><h1 id="æ•°æ®å¤„ç†"><a href="#æ•°æ®å¤„ç†" class="headerlink" title="æ•°æ®å¤„ç†"></a>æ•°æ®å¤„ç†</h1><h2 id="æ•°æ®å¢å¼º"><a href="#æ•°æ®å¢å¼º" class="headerlink" title="æ•°æ®å¢å¼º"></a>æ•°æ®å¢å¼º</h2><h2 id="ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜"><a href="#ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜" class="headerlink" title="ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜"></a>ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜</h2><p>æŒ‡ <strong>åˆ†ç±»ä»»åŠ¡ä¸­ä¸åŒç±»åˆ«çš„è®­ç»ƒæ ·ä¾‹æ•°â½¬å·®åˆ«å¾ˆâ¼¤çš„æƒ…å†µã€‚</strong></p><blockquote><p><strong>è§£å†³æ–¹æ¡ˆï¼š</strong><br><strong>ï¼ˆ1ï¼‰æ‰©å¤§æ•°æ®é›†ï¼›</strong><br><strong>ï¼ˆ2ï¼‰é‡‡æ ·ç­–ç•¥ï¼š</strong>å¯¹å¤§ç±»æ•°æ®æ¬ é‡‡æ ·æˆ–å¯¹å°ç±»æ•°æ®è¿‡é‡‡æ ·ï¼›<br><strong>ï¼ˆ3ï¼‰è®­ç»ƒç­–ç•¥ï¼š</strong>ä»£ä»·åŠ æƒï¼Œæ–°çš„è¯„ä»·æŒ‡æ ‡æˆ–ç®—æ³•ï¼›<br><strong>ï¼ˆ4ï¼‰é—®é¢˜è½¬åŒ–ï¼š</strong>å­é—®é¢˜åˆ’åˆ†æˆ–å°†é—®é¢˜è½¬æ¢æˆå°ç±»æ ·æœ¬æ£€æµ‹é—®é¢˜ï¼ˆå¦‚å¼‚å¸¸ç‚¹æ£€æµ‹ã€å˜åŒ–è¶‹åŠ¿æ£€æµ‹ç­‰ï¼‰ã€‚</p></blockquote><hr><h1 id="ä¼˜åŒ–æ–¹æ³•"><a href="#ä¼˜åŒ–æ–¹æ³•" class="headerlink" title="ä¼˜åŒ–æ–¹æ³•"></a>ä¼˜åŒ–æ–¹æ³•</h1><p>å„ç§ä¼˜åŒ–å™¨çš„è®¡ç®—å…¬å¼ï¼ˆGDï¼ŒSGDï¼Œbatch GDï¼ŒSGD+momentumï¼ŒNAGï¼ŒAdaGradï¼ŒRMSPropï¼ŒAdamï¼‰<br><strong>å¾…è¡¥å……â€¦â€¦</strong></p><hr><h1 id="æŸå¤±å‡½æ•°"><a href="#æŸå¤±å‡½æ•°" class="headerlink" title="æŸå¤±å‡½æ•°"></a>æŸå¤±å‡½æ•°</h1><h2 id="Mean-Square-Errorï¼ˆå‡æ–¹è¯¯å·®ï¼ŒMSEï¼‰"><a href="#Mean-Square-Errorï¼ˆå‡æ–¹è¯¯å·®ï¼ŒMSEï¼‰" class="headerlink" title="Mean Square Errorï¼ˆå‡æ–¹è¯¯å·®ï¼ŒMSEï¼‰"></a>Mean Square Errorï¼ˆå‡æ–¹è¯¯å·®ï¼ŒMSEï¼‰</h2><h2 id="mathcal-L-MSE-x3D-frac-1-n-sum-i-x3D-1-n-p-i-y-i-2-Root-Mean-Square-Errorï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼ŒRMSEï¼‰-mathcal-L-RMSE-x3D-sqrt-frac-1-n-sum-i-x3D-1-n-p-i-y-i-2-Mean-Absolute-Errorï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼ŒMAEï¼‰-mathcal-L-MAE-x3D-frac-1-n-sum-i-x3D-1-n-p-i-y-i-Cross-Entropyï¼ˆäº¤å‰ç†µï¼ŒCEï¼‰-mathcal-L-CE-x3D-frac-1-n-sum-i-x3D-1-n-y-i-log-p-i-Weighted-Cross-Entropyï¼ˆå¸¦æƒäº¤å‰ç†µï¼ŒWCEï¼‰-mathcal-L-WCE-x3D-frac-1-n-sum-i-x3D-1-n-w-i-y-i-log-p-i-Binary-Cross-Entropyï¼ˆäºŒç±»äº¤å‰ç†µï¼ŒBCEï¼‰-mathcal-L-BCE-x3D-frac-1-n-sum-i-x3D-1-n-y-i-log-p-i-1-y-i-log-1-p-i-Dice-Loss-IOU-Loss-Focal-Loss"><a href="#mathcal-L-MSE-x3D-frac-1-n-sum-i-x3D-1-n-p-i-y-i-2-Root-Mean-Square-Errorï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼ŒRMSEï¼‰-mathcal-L-RMSE-x3D-sqrt-frac-1-n-sum-i-x3D-1-n-p-i-y-i-2-Mean-Absolute-Errorï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼ŒMAEï¼‰-mathcal-L-MAE-x3D-frac-1-n-sum-i-x3D-1-n-p-i-y-i-Cross-Entropyï¼ˆäº¤å‰ç†µï¼ŒCEï¼‰-mathcal-L-CE-x3D-frac-1-n-sum-i-x3D-1-n-y-i-log-p-i-Weighted-Cross-Entropyï¼ˆå¸¦æƒäº¤å‰ç†µï¼ŒWCEï¼‰-mathcal-L-WCE-x3D-frac-1-n-sum-i-x3D-1-n-w-i-y-i-log-p-i-Binary-Cross-Entropyï¼ˆäºŒç±»äº¤å‰ç†µï¼ŒBCEï¼‰-mathcal-L-BCE-x3D-frac-1-n-sum-i-x3D-1-n-y-i-log-p-i-1-y-i-log-1-p-i-Dice-Loss-IOU-Loss-Focal-Loss" class="headerlink" title="$$\mathcal{L}_{MSE}&#x3D;\frac{1}{n}\sum_{i&#x3D;1}^{n}(p_{i}-y_{i})^{2}$$## Root Mean Square Errorï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼ŒRMSEï¼‰$$\mathcal{L}_{RMSE}&#x3D;\sqrt{\frac{1}{n}\sum_{i&#x3D;1}^{n}(p_{i}-y_{i})^{2}}$$## Mean Absolute Errorï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼ŒMAEï¼‰$$\mathcal{L}_{MAE}&#x3D;\frac{1}{n}\sum_{i&#x3D;1}^{n}|p_{i}-y_{i}|$$## Cross Entropyï¼ˆäº¤å‰ç†µï¼ŒCEï¼‰$$\mathcal{L}_{CE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}y_{i}\log(p_{i})$$Weighted Cross Entropyï¼ˆå¸¦æƒäº¤å‰ç†µï¼ŒWCEï¼‰$$\mathcal{L}_{WCE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}w_{i}y_{i}\log(p_{i})$$Binary Cross Entropyï¼ˆäºŒç±»äº¤å‰ç†µï¼ŒBCEï¼‰$$\mathcal{L}_{BCE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}(y_{i}\log(p_{i})+(1-y_{i})\log(1-p_{i}))$$## Dice Loss## IOU Loss## Focal Loss"></a>$$\mathcal{L}_{MSE}&#x3D;\frac{1}{n}\sum_{i&#x3D;1}^{n}(p_{i}-y_{i})^{2}$$<br>## Root Mean Square Errorï¼ˆå‡æ–¹æ ¹è¯¯å·®ï¼ŒRMSEï¼‰<br>$$\mathcal{L}_{RMSE}&#x3D;\sqrt{\frac{1}{n}\sum_{i&#x3D;1}^{n}(p_{i}-y_{i})^{2}}$$<br>## Mean Absolute Errorï¼ˆå¹³å‡ç»å¯¹è¯¯å·®ï¼ŒMAEï¼‰<br>$$\mathcal{L}_{MAE}&#x3D;\frac{1}{n}\sum_{i&#x3D;1}^{n}|p_{i}-y_{i}|$$<br>## Cross Entropyï¼ˆäº¤å‰ç†µï¼ŒCEï¼‰<br>$$\mathcal{L}_{CE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}y_{i}\log(p_{i})$$<br><strong>Weighted Cross Entropyï¼ˆå¸¦æƒäº¤å‰ç†µï¼ŒWCEï¼‰</strong><br>$$\mathcal{L}_{WCE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}w_{i}y_{i}\log(p_{i})$$<br><strong>Binary Cross Entropyï¼ˆäºŒç±»äº¤å‰ç†µï¼ŒBCEï¼‰</strong><br>$$\mathcal{L}_{BCE}&#x3D;-\frac{1}{n}\sum_{i&#x3D;1}^{n}(y_{i}\log(p_{i})+(1-y_{i})\log(1-p_{i}))$$<br>## Dice Loss<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class SoftDiceLoss(nn.Module):<br>    def __init__(self, weight=None, size_average=True):<br>        super(SoftDiceLoss, self).__init__()<br> <br>    def forward(self, logits, targets):<br>        num = targets.size(0)<br>        // ä¸ºäº†é˜²æ­¢é™¤0çš„å‘ç”Ÿ<br>        smooth = 1<br>        <br>        probs = F.sigmoid(logits)<br>        m1 = probs.view(num, -1)<br>        m2 = targets.view(num, -1)<br>        intersection = (m1 * m2)<br> <br>        score = 2. * (intersection.sum(1) + smooth) / (m1.sum(1) + m2.sum(1) + smooth)<br>        score = 1 - score.sum() / num<br>        return score<br></code></pre></td></tr></table></figure><br>## IOU Loss<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#PyTorch<br>class IoULoss(nn.Module):<br>    def __init__(self, weight=None, size_average=True):<br>        super(IoULoss, self).__init__()<br><br>    def forward(self, inputs, targets, smooth=1):<br>        inputs = F.sigmoid(inputs)       <br>        <br>        inputs = inputs.view(-1)<br>        targets = targets.view(-1)<br>        <br>        intersection = (inputs * targets).sum()<br>        total = (inputs + targets).sum()<br>        union = total - intersection <br>        <br>        IoU = (intersection + smooth)/(union + smooth)<br>                <br>        return 1 - IoU<br></code></pre></td></tr></table></figure><br>## Focal Loss<br><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">#PyTorch<br>ALPHA = 0.8<br>GAMMA = 2<br><br>class FocalLoss(nn.Module):<br>    def __init__(self, weight=None, size_average=True):<br>        super(FocalLoss, self).__init__()<br><br>    def forward(self, inputs, targets, alpha=ALPHA, gamma=GAMMA, smooth=1):<br>        inputs = F.sigmoid(inputs)       <br>        <br>        inputs = inputs.view(-1)<br>        targets = targets.view(-1)<br>        <br>        BCE = F.binary_cross_entropy(inputs, targets, reduction=&#x27;mean&#x27;)<br>        BCE_EXP = torch.exp(-BCE)<br>        focal_loss = alpha * (1-BCE_EXP)**gamma * BCE<br>                       <br>        return focal_loss<br></code></pre></td></tr></table></figure></h2><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="ç›®æ ‡æ£€æµ‹"><a href="#ç›®æ ‡æ£€æµ‹" class="headerlink" title="ç›®æ ‡æ£€æµ‹"></a>ç›®æ ‡æ£€æµ‹</h2><p><a href="https://www.showmeai.tech/article-detail/271">æ·±åº¦å­¦ä¹ ä¸è®¡ç®—æœºè§†è§‰æ•™ç¨‹(12) | ç›®æ ‡æ£€æµ‹ (ä¸¤é˜¶æ®µ, R-CNNç³»åˆ—)</a><br><a href="https://www.showmeai.tech/article-detail/272">æ·±åº¦å­¦ä¹ ä¸è®¡ç®—æœºè§†è§‰æ•™ç¨‹(13) | ç›®æ ‡æ£€æµ‹ (SSD, YOLOç³»åˆ—)</a></p><h3 id="ä¼ ç»Ÿæ£€æµ‹æ–¹æ³•"><a href="#ä¼ ç»Ÿæ£€æµ‹æ–¹æ³•" class="headerlink" title="ä¼ ç»Ÿæ£€æµ‹æ–¹æ³•"></a>ä¼ ç»Ÿæ£€æµ‹æ–¹æ³•</h3><blockquote><p><strong>ä¸‰ä¸ªæ­¥éª¤ï¼š</strong><br>ï¼ˆ1ï¼‰æ»‘åŠ¨çª—å£é€‰æ‹©å€™é€‰åŒºåŸŸï¼›<br>ï¼ˆ2ï¼‰æå–å€™é€‰åŒºåŸŸçš„è§†è§‰ç‰¹å¾ï¼›<br>ï¼ˆ3ï¼‰åˆ†ç±»å™¨è¯†åˆ«ï¼›<br><strong>å¯ä»¥è§†ä¸º ç©·ä¸¾æ³•</strong></p></blockquote><h3 id="æ·±åº¦å­¦ä¹ æ–¹æ³•"><a href="#æ·±åº¦å­¦ä¹ æ–¹æ³•" class="headerlink" title="æ·±åº¦å­¦ä¹ æ–¹æ³•"></a>æ·±åº¦å­¦ä¹ æ–¹æ³•</h3><blockquote><p><strong>ä¸¤é˜¶æ®µå’Œä¸€é˜¶æ®µçš„åŒºåˆ«ï¼š</strong><br>ï¼ˆ1ï¼‰ä¸¤é˜¶æ®µï¼šç”Ÿæˆä¸€ç³»åˆ—<strong>å€™é€‰æ¡†</strong>ï¼Œå†é€šè¿‡ <code>CNN</code> åˆ†ç±»ï¼›ï¼ˆR-CNNã€Fast R-CNNã€Faster R-CNN ç­‰ï¼‰<br>ï¼ˆ2ï¼‰ä¸€é˜¶æ®µï¼šç›´æ¥å°†<strong>ç›®æ ‡æ¡†çš„å®šä½é—®é¢˜è½¬åŒ–ä¸ºå›å½’é—®é¢˜</strong>ï¼›ï¼ˆYOLOã€SSD ç­‰ï¼‰<br><strong>æ³¨ï¼šä¸¤é˜¶æ®µæ–¹æ³•ç²¾åº¦æ›´é«˜ï¼Œä¸€é˜¶æ®µæ–¹æ³•é€Ÿåº¦æ›´å¿«</strong></p></blockquote><h3 id="R-CNN-ç³»åˆ—"><a href="#R-CNN-ç³»åˆ—" class="headerlink" title="R-CNN ç³»åˆ—"></a>R-CNN ç³»åˆ—</h3><h4 id="R-CNN"><a href="#R-CNN" class="headerlink" title="R-CNN"></a>R-CNN</h4><p><strong><code>R-CNN</code>ï¼ˆ<code>Region with CNN features</code>ï¼‰ å°è¯•å°†çˆ†ç«çš„ <code>CNN</code>ï¼ˆ<code>AlexNet</code>ï¼‰åº”ç”¨åˆ°ç›®æ ‡æ£€æµ‹çš„ç‰¹å¾æå–è¿‡ç¨‹ä¸­</strong></p><blockquote><p><strong>Insights:</strong><br>ï¼ˆ1ï¼‰ç”¨ CNN åšç‰¹å¾æå–ï¼›<br>ï¼ˆ2ï¼‰è¿ç§»å­¦ä¹ çš„ç­–ç•¥åº”å¯¹æ£€æµ‹æ•°æ®é‡å°‘çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯é¢„è®­ç»ƒ</p></blockquote><blockquote><p><strong>æ£€æµ‹æ–¹æ¡ˆï¼š</strong><br>ï¼ˆ1ï¼‰ç›´æ¥å›å½’é”šæ¡†åæ ‡ï¼›<br>ï¼ˆ2ï¼‰æ»‘åŠ¨çª—å£ï¼›<br>ï¼ˆ3ï¼‰<strong>å€™é€‰æ¡†ç­–ç•¥ã€‚ï¼ˆ<code>RCNN</code>ï¼‰</strong></p></blockquote><h4 id="Fast-R-CNN"><a href="#Fast-R-CNN" class="headerlink" title="Fast R-CNN"></a>Fast R-CNN</h4><h4 id="Faster-R-CNN"><a href="#Faster-R-CNN" class="headerlink" title="Faster R-CNN"></a>Faster R-CNN</h4><h3 id="YOLO-ç³»åˆ—"><a href="#YOLO-ç³»åˆ—" class="headerlink" title="YOLO ç³»åˆ—"></a>YOLO ç³»åˆ—</h3><h4 id="YOLO-V1ï¼ˆPaperï¼‰"><a href="#YOLO-V1ï¼ˆPaperï¼‰" class="headerlink" title="YOLO V1ï¼ˆPaperï¼‰"></a>YOLO V1ï¼ˆ<a href="https://www.cv-foundation.org/openaccess/content_cvpr_2016/papers/Redmon_You_Only_Look_CVPR_2016_paper.pdf">Paper</a>ï¼‰</h4><h4 id="YOLO-V2ï¼ˆPaperï¼‰"><a href="#YOLO-V2ï¼ˆPaperï¼‰" class="headerlink" title="YOLO V2ï¼ˆPaperï¼‰"></a>YOLO V2ï¼ˆ<a href="https://openaccess.thecvf.com/content_cvpr_2017/papers/Redmon_YOLO9000_Better_Faster_CVPR_2017_paper.pdf">Paper</a>ï¼‰</h4><h4 id="YOLO-V3ï¼ˆPaperï¼‰"><a href="#YOLO-V3ï¼ˆPaperï¼‰" class="headerlink" title="YOLO V3ï¼ˆPaperï¼‰"></a>YOLO V3ï¼ˆ<a href="https://arxiv.org/pdf/1804.02767.pdf">Paper</a>ï¼‰</h4><h4 id="YOLO-V4ï¼ˆPaperï¼‰"><a href="#YOLO-V4ï¼ˆPaperï¼‰" class="headerlink" title="YOLO V4ï¼ˆPaperï¼‰"></a>YOLO V4ï¼ˆ<a href="https://arxiv.org/pdf/2004.10934">Paper</a>ï¼‰</h4><h4 id="YOLO-V5"><a href="#YOLO-V5" class="headerlink" title="YOLO V5"></a>YOLO V5</h4><p><strong>å¾…è¡¥å……â€¦â€¦</strong></p><h2 id="æ— ç›‘ç£å­¦ä¹ "><a href="#æ— ç›‘ç£å­¦ä¹ " class="headerlink" title="æ— ç›‘ç£å­¦ä¹ "></a>æ— ç›‘ç£å­¦ä¹ </h2><ul><li>èšç±»</li><li>ä¸»æˆåˆ†åˆ†æï¼ˆPCAï¼‰</li></ul><h2 id="åŠç›‘ç£å­¦ä¹ "><a href="#åŠç›‘ç£å­¦ä¹ " class="headerlink" title="åŠç›‘ç£å­¦ä¹ "></a>åŠç›‘ç£å­¦ä¹ </h2><p><strong>å¾…è¡¥å……â€¦â€¦</strong></p><h2 id="è‡ªç›‘ç£å­¦ä¹ "><a href="#è‡ªç›‘ç£å­¦ä¹ " class="headerlink" title="è‡ªç›‘ç£å­¦ä¹ "></a>è‡ªç›‘ç£å­¦ä¹ </h2><blockquote><p>è‡ªç›‘ç£ä¸­çš„å´©æºƒè§£é—®é¢˜çš„ç†è§£</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>For Offersssss! ï¼ˆLinuxä¸Pythonç¯‡ï¼‰</title>
      <link href="/2022/09/06/029-InterviewQs_Python/"/>
      <url>/2022/09/06/029-InterviewQs_Python/</url>
      
        <content type="html"><![CDATA[<h2 id="ACM-æ¨¡å¼ä¸‹çš„-python"><a href="#ACM-æ¨¡å¼ä¸‹çš„-python" class="headerlink" title="ACM æ¨¡å¼ä¸‹çš„ python"></a>ACM æ¨¡å¼ä¸‹çš„ python</h2><h3 id="æ¨¡æ¿"><a href="#æ¨¡æ¿" class="headerlink" title="æ¨¡æ¿"></a>æ¨¡æ¿</h3><p>ä¸‡èƒ½è¾“å…¥è¯­å¥ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x), <span class="hljs-built_in">input</span>().split())<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">Function</span>(<span class="hljs-params">self, ...</span>):<br>    <span class="hljs-built_in">print</span>(...)<br>    <span class="hljs-keyword">return</span><br><br><span class="hljs-keyword">if</span> __name__==<span class="hljs-string">&quot;__main__&quot;</span>:<br><span class="hljs-comment"># å•è¡Œè¾“å…¥ä¸¤ä¸ªæ•°</span><br>    n, m = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x), <span class="hljs-built_in">input</span>().split())<br>    <br>    <span class="hljs-comment"># mè¡Œè¾“å…¥ï¼Œä¿å­˜ä¸ºåˆ—è¡¨å³å¯</span><br>    lst = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        lst.append(<span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x), <span class="hljs-built_in">input</span>().split())))<br><br>    <span class="hljs-comment"># è¾“å‡º</span><br>    Solution().Function(...)<br></code></pre></td></tr></table></figure><blockquote></blockquote><p>ä»¥ä¸‹ä¸ºä¸¾ä¾‹ï¼šã€æ¨¡æ¿ã€‘ æ‹“æ‰‘æ’åº</p><h3 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h3><p>ç»™å®šä¸€ä¸ªåŒ…å« $n$ ä¸ªç‚¹ $m$ æ¡è¾¹çš„æœ‰å‘æ— ç¯å›¾ï¼Œæ±‚å‡ºè¯¥å›¾çš„æ‹“æ‰‘åºã€‚è‹¥å›¾çš„æ‹“æ‰‘åºä¸å”¯ä¸€ï¼Œè¾“å‡ºä»»æ„åˆæ³•çš„æ‹“æ‰‘åºå³å¯ã€‚è‹¥è¯¥å›¾ä¸èƒ½æ‹“æ‰‘æ’åºï¼Œè¾“å‡º $âˆ’1$ã€‚<br><strong>è¾“å…¥æè¿°ï¼š</strong><br>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° $n,m(1 \leq n,m \leq 2 \times 10^{5})$ï¼Œè¡¨ç¤ºç‚¹çš„ä¸ªæ•°å’Œè¾¹çš„æ¡æ•°ã€‚<br>æ¥ä¸‹æ¥çš„ $m$ è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ•´æ•° $u_{i},v{i}(1 \leq u,v \leq n)$ï¼Œè¡¨ç¤º $u_{i}$ åˆ° $v_{i}$ ä¹‹é—´æœ‰ä¸€æ¡æœ‰å‘è¾¹ã€‚<br><strong>è¾“å‡ºæè¿°ï¼š</strong><br>è‹¥å›¾å­˜åœ¨æ‹“æ‰‘åºï¼Œè¾“å‡ºä¸€è¡Œnnä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºæ‹“æ‰‘åºã€‚å¦åˆ™è¾“å‡º-1âˆ’1ã€‚</p><blockquote><p>ç¤ºä¾‹1<br><strong>è¾“å…¥ï¼š</strong><br>5 4<br>1 2<br>2 3<br>3 4<br>4 5<br><strong>è¾“å‡ºï¼š</strong><br>1 2 3 4 5</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">TopologicalSort</span>(<span class="hljs-params">self, n, m, edges</span>):<br>        indegrees = [<span class="hljs-number">0</span>]*(n+<span class="hljs-number">1</span>)<br>        visited = [<span class="hljs-number">0</span>]*(n+<span class="hljs-number">1</span>)<br>        dst = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n+<span class="hljs-number">1</span>)]<br>        path = []<br>        queue = []<br>        <span class="hljs-keyword">for</span> edge <span class="hljs-keyword">in</span> edges:<br>            indegrees[edge[<span class="hljs-number">1</span>]] += <span class="hljs-number">1</span><br>            dst[edge[<span class="hljs-number">0</span>]].append(edge[<span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, n+<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">if</span> indegrees[node] == <span class="hljs-number">0</span>:<br>                path.append(node)<br>                visited[node] = <span class="hljs-number">1</span><br>                queue.append(node)<br>        <br>        <span class="hljs-keyword">while</span> queue:<br>            node = queue.pop(<span class="hljs-number">0</span>)<br>            <span class="hljs-keyword">for</span> d <span class="hljs-keyword">in</span> dst[node]:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[d]:<br>                    queue.append(d)<br>                indegrees[d] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> indegrees[d]:<br>                    path.append(d)<br>                    visited[d] = <span class="hljs-number">1</span><br>        <span class="hljs-comment"># è¾“å‡º</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-built_in">print</span>(path[i], end=<span class="hljs-string">&#x27; &#x27;</span>)<br>        <span class="hljs-keyword">return</span><br><br><br><span class="hljs-keyword">if</span> __name__==<span class="hljs-string">&quot;__main__&quot;</span>:<br><span class="hljs-comment"># å•è¡Œè¾“å…¥</span><br>    n, m = <span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x), <span class="hljs-built_in">input</span>().split())<br>    <br>    <span class="hljs-comment"># å¤šè¡Œè¾“å…¥</span><br>    edges = []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(m):<br>        edges.append(<span class="hljs-built_in">list</span>(<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-built_in">int</span>(x), <span class="hljs-built_in">input</span>().split())))<br><br>    <span class="hljs-comment"># è¾“å‡º</span><br>    Solution().TopologicalSort(n, m, edges)<br></code></pre></td></tr></table></figure><h2 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h2><h3 id="PythonåŸºç¡€"><a href="#PythonåŸºç¡€" class="headerlink" title="PythonåŸºç¡€"></a>PythonåŸºç¡€</h3><p>pythonå¤šçº¿ç¨‹ï¼Œå¤šè¿›ç¨‹<br>pythonçš„GIL<br>ç”Ÿæˆå™¨ä¸è¿­ä»£å™¨<br>è£…é¥°å™¨<br>æ·±æµ…æ‹·è´<br>do whileä¸while doå¾ªç¯è¯­å¥çš„åŒºåˆ«<br>å¤šå…ƒèµ‹å€¼æœºåˆ¶</p><h3 id="Python3"><a href="#Python3" class="headerlink" title="Python3"></a>Python3</h3><p>nonlocalã€globalåŒºåˆ«</p><h2 id="linuxå¸¸ç”¨å‘½ä»¤"><a href="#linuxå¸¸ç”¨å‘½ä»¤" class="headerlink" title="linuxå¸¸ç”¨å‘½ä»¤"></a>linuxå¸¸ç”¨å‘½ä»¤</h2><p>æŸ¥æ‰¾æ–‡ä»¶å‘½ä»¤ï¼ˆwhereisï¼Œwhichï¼Œfindï¼Œgrepï¼Œlocateï¼‰<br>æŸ¥çœ‹è¿›ç¨‹<br>æ€æ­»è¿›ç¨‹<br>sshï¼Œscp<br>nohup &amp;<br>æ–‡ä»¶æƒé™</p>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>For Offersssss! ï¼ˆå›¾åƒå¤„ç†ç¯‡ï¼‰</title>
      <link href="/2022/09/01/028-InterviewQs_IP/"/>
      <url>/2022/09/01/028-InterviewQs_IP/</url>
      
        <content type="html"><![CDATA[<h2 id="å›¾åƒå¤„ç†"><a href="#å›¾åƒå¤„ç†" class="headerlink" title="å›¾åƒå¤„ç†"></a>å›¾åƒå¤„ç†</h2><h3 id="å›¾åƒå¤„ç†åŸºç¡€"><a href="#å›¾åƒå¤„ç†åŸºç¡€" class="headerlink" title="å›¾åƒå¤„ç†åŸºç¡€"></a>å›¾åƒå¤„ç†åŸºç¡€</h3><ul><li><p><strong>å›¾åƒé¢„å¤„ç†æ–¹æ³•åŠåŸç†</strong><br>ä½é€šé«˜é€šæ»¤æ³¢å™¨<br>é«˜æ–¯æ»¤æ³¢å™¨<br>å‡å€¼ã€ä¸­å€¼æ»¤æ³¢</p></li><li><p><strong>å›¾åƒçš„å¢å¼ºå’Œé™å™ª</strong><br>å‡ ä½•å˜æ¢<br>é¢œè‰²å˜æ¢<br>åŒºåŸŸç½®é›¶</p></li><li><p><strong>å¸¸ç”¨çš„å›¾åƒç‰¹å¾æå–ç®—æ³•</strong><br>æ–¹å‘æ¢¯åº¦ç›´æ–¹å›¾ï¼ˆHOGï¼‰<br>å°ºåº¦ä¸å˜ç‰¹å¾å˜æ¢ï¼ˆSIFTï¼‰<br>åŠ é€Ÿç¨³å¥ç‰¹å¾ï¼ˆSURFï¼‰<br>é«˜æ–¯å‡½æ•°å·®åˆ†ï¼ˆDOGï¼‰<br>å±€éƒ¨äºŒå€¼æ¨¡å¼ï¼ˆLBPï¼‰<br>å“ˆå°”å˜æ¢ï¼ˆHAARï¼‰</p></li><li><p><strong>å¸¸ç”¨çš„å›¾åƒæ’å€¼ç®—æ³•</strong></p></li><li><p><strong>ç›´æ–¹å›¾</strong><br>ç›´æ–¹å›¾çš„æ¦‚å¿µ<br>ç›´æ–¹å›¾å‡è¡¡åŒ–</p></li></ul><h3 id="å›¾åƒå˜æ¢"><a href="#å›¾åƒå˜æ¢" class="headerlink" title="å›¾åƒå˜æ¢"></a>å›¾åƒå˜æ¢</h3><h3 id="å›¾åƒç¼–ç å’Œå‹ç¼©"><a href="#å›¾åƒç¼–ç å’Œå‹ç¼©" class="headerlink" title="å›¾åƒç¼–ç å’Œå‹ç¼©"></a>å›¾åƒç¼–ç å’Œå‹ç¼©</h3><h3 id="å›¾åƒå¢å¼ºå’Œå¤åŸ"><a href="#å›¾åƒå¢å¼ºå’Œå¤åŸ" class="headerlink" title="å›¾åƒå¢å¼ºå’Œå¤åŸ"></a>å›¾åƒå¢å¼ºå’Œå¤åŸ</h3><h3 id="å›¾åƒåˆ†å‰²"><a href="#å›¾åƒåˆ†å‰²" class="headerlink" title="å›¾åƒåˆ†å‰²"></a>å›¾åƒåˆ†å‰²</h3><h3 id="è¾¹ç¼˜æ£€æµ‹"><a href="#è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="è¾¹ç¼˜æ£€æµ‹"></a>è¾¹ç¼˜æ£€æµ‹</h3><ul><li><p><strong>ä¼ ç»Ÿçš„è¾¹ç¼˜æ£€æµ‹ç®—å­</strong><br>Sobel<br>Canny<br>Prewitt<br>Laplace<br>Robert<br>å„ç®—æ³•ä¼˜ç¼ºç‚¹</p></li><li><p><strong>æå¤§å€¼æŠ‘åˆ¶</strong></p></li></ul><h3 id="å½¢æ€å­¦å¤„ç†"><a href="#å½¢æ€å­¦å¤„ç†" class="headerlink" title="å½¢æ€å­¦å¤„ç†"></a>å½¢æ€å­¦å¤„ç†</h3><ul><li><strong>è…èš€</strong></li><li><strong>è†¨èƒ€</strong></li><li><strong>å¼€è¿ç®—</strong></li><li><strong>é—­è¿ç®—</strong></li></ul><hr><h2 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV"></a>OpenCV</h2><p>æ³¨ï¼šä»¥ä¸‹è½¬è‡ª<a href="https://blog.csdn.net/qq_45445740/article/details/120354641">é¢è¯•é—®é¢˜æ€»ç»“â€”â€”å…³äºOpenCV</a><br><a href="https://aistudio.baidu.com/aistudio/projectdetail/2360571">ã€åœ°è¡¨æœ€å…¨ã€‘é›¶åŸºç¡€ï¼è®¡ç®—æœºè§†è§‰OpenCVä»å…¥é—¨åˆ°å…¥åœŸ</a></p><h3 id="OpenCV-ä¸­-cv-Mat-çš„æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜"><a href="#OpenCV-ä¸­-cv-Mat-çš„æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜" class="headerlink" title="OpenCV ä¸­ cv::Mat çš„æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜"></a>OpenCV ä¸­ cv::Mat çš„æ·±æ‹·è´å’Œæµ…æ‹·è´é—®é¢˜</h3><p><code>æ·±æ‹·è´</code>ï¼šåˆ†é…æ–°å†…å­˜çš„åŒæ—¶æ‹·è´æ•°æ®ï¼Œå½“è¢«èµ‹å€¼çš„å®¹å™¨è¢«ä¿®æ”¹æ—¶ï¼ŒåŸå§‹å®¹å™¨æ•°æ®ä¸ä¼šæ”¹å˜ã€‚<br><code>æµ…æ‹·è´</code>ï¼šä»…æ‹·è´æ•°æ®ï¼Œå½“è¢«èµ‹å€¼å®¹å™¨ä¿®æ”¹æ—¶ï¼ŒåŸå§‹å®¹å™¨æ•°æ®ä¹Ÿä¼šåšåŒæ ·æ”¹å˜ã€‚</p><p>OpenCV çš„ Mat æ—¶ï¼Œæœ‰å‡ ç§èµ‹å€¼æ–¹å¼åˆ†åˆ«ä¸ºï¼š<br>â€ƒâ€ƒæ·±æ‹·è´ æ˜¯ <code>b = a.clone();</code> å’Œ <code>a.copyTo(b);</code><br>â€ƒâ€ƒæµ…æ‹·è´ æ˜¯ <code>b = a;</code> å’Œ <code>b(a);</code></p><p>â€ƒâ€ƒå…³äºè¿™ä¸ªé—®é¢˜ï¼Œæˆ‘è¿˜æµ‹è¯•äº† OpenCV ä¸­çš„ ROIï¼Œå°±æ˜¯å›¾åƒæˆªå›¾ï¼Œå‘ç°ROIä¹Ÿæ˜¯æµ…æ‹·è´ã€‚</p><p>â€ƒâ€ƒC++ ä¸­åˆ©ç”¨opencvå­˜å‚¨å›¾åƒçš„ç»“æ„ä½“æ˜¯ Matã€‚</p><h3 id="OpenCV-ä¸­-RGB2GRAY-æ˜¯æ€ä¹ˆå®ç°çš„"><a href="#OpenCV-ä¸­-RGB2GRAY-æ˜¯æ€ä¹ˆå®ç°çš„" class="headerlink" title="OpenCV ä¸­ RGB2GRAY æ˜¯æ€ä¹ˆå®ç°çš„"></a>OpenCV ä¸­ RGB2GRAY æ˜¯æ€ä¹ˆå®ç°çš„</h3><p>â€ƒâ€ƒæœ¬è´¨ä¸Šå°±æ˜¯å¯»æ‰¾ä¸€ä¸ªä¸‰ç»´ç©ºé—´åˆ°ä¸€ç»´ç©ºé—´çš„æ˜ å°„ï¼Œä»¥ <code>Rã€Gã€B</code> ä¸ºè½´å»ºç«‹ç©ºé—´ç›´è§’åæ ‡ç³»ï¼Œåˆ™å›¾ç‰‡ä¸Šçš„æ¯ä¸€ä¸ªåƒç´ ç‚¹éƒ½å¯ä»¥ç”¨ä¸€ä¸ªç‚¹è¡¨ç¤ºï¼Œåˆ™å¯ä»¥é€šè¿‡ä¸€ä¸ªå…¬å¼ $Gray &#x3D; 0.29900Ã—R + 0.58700Ã—G + 0.11400Ã—B$ï¼Œæ¥å®Œæˆä¸€ç»´ç©ºé—´çš„æ˜ å°„ã€‚</p><h3 id="è¿ç»­å›¾åƒè½¬åŒ–ä¸ºæ•°å­—å›¾åƒéœ€è¦è¿›è¡Œå“ªäº›æ“ä½œï¼Ÿ"><a href="#è¿ç»­å›¾åƒè½¬åŒ–ä¸ºæ•°å­—å›¾åƒéœ€è¦è¿›è¡Œå“ªäº›æ“ä½œï¼Ÿ" class="headerlink" title="è¿ç»­å›¾åƒè½¬åŒ–ä¸ºæ•°å­—å›¾åƒéœ€è¦è¿›è¡Œå“ªäº›æ“ä½œï¼Ÿ"></a>è¿ç»­å›¾åƒè½¬åŒ–ä¸ºæ•°å­—å›¾åƒéœ€è¦è¿›è¡Œå“ªäº›æ“ä½œï¼Ÿ</h3><p>â€ƒâ€ƒå–æ · é‡åŒ–</p><h3 id="æ•°å­—å›¾åƒä¸­æœ‰å“ªäº›åŸºæœ¬ç‰¹å¾ï¼Ÿ"><a href="#æ•°å­—å›¾åƒä¸­æœ‰å“ªäº›åŸºæœ¬ç‰¹å¾ï¼Ÿ" class="headerlink" title="æ•°å­—å›¾åƒä¸­æœ‰å“ªäº›åŸºæœ¬ç‰¹å¾ï¼Ÿ"></a>æ•°å­—å›¾åƒä¸­æœ‰å“ªäº›åŸºæœ¬ç‰¹å¾ï¼Ÿ</h3><p>â€ƒâ€ƒé¢œè‰²ç‰¹å¾ã€çº¹ç†ç‰¹å¾ã€å½¢çŠ¶ç‰¹å¾ã€ç©ºé—´å…³ç³»ç‰¹å¾ç­‰ã€‚</p><h3 id="å›¾åƒè¾¹ç¼˜æ£€æµ‹ä¸­å¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹ç®—å­æœ‰å“ªäº›ï¼Ÿ"><a href="#å›¾åƒè¾¹ç¼˜æ£€æµ‹ä¸­å¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹ç®—å­æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å›¾åƒè¾¹ç¼˜æ£€æµ‹ä¸­å¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹ç®—å­æœ‰å“ªäº›ï¼Ÿ"></a>å›¾åƒè¾¹ç¼˜æ£€æµ‹ä¸­å¸¸ç”¨çš„è¾¹ç¼˜æ£€æµ‹ç®—å­æœ‰å“ªäº›ï¼Ÿ</h3><p>â€ƒâ€ƒ<code>Roberts</code> ç®—å­ã€<code>Prewitt</code> ç®—å­ã€<code>Sobel</code> ç®—å­ã€<code>Canny</code> ç®—å­ã€<code>Laplacian</code> ç®—å­ç­‰ã€‚</p><h3 id="å¯¹éœå¤«å˜æ¢çš„ç†è§£"><a href="#å¯¹éœå¤«å˜æ¢çš„ç†è§£" class="headerlink" title="å¯¹éœå¤«å˜æ¢çš„ç†è§£"></a>å¯¹éœå¤«å˜æ¢çš„ç†è§£</h3><p>â€ƒâ€ƒéœå¤«å˜æ¢å¸¸ç”¨æ¥æå–å›¾åƒä¸­çš„ç›´çº¿å’Œåœ†ç­‰å‡ ä½•å½¢çŠ¶ã€‚å®ƒé€šè¿‡ä¸€ç§æŠ•ç¥¨ç®—æ³•æ£€æµ‹å…·æœ‰ç‰¹å®šå½¢çŠ¶çš„ç‰©ä½“ï¼Œå°±æ˜¯<strong>é€šè¿‡è®¡ç®—ç´¯è®¡ç»“æœçš„å±€éƒ¨æœ€å¤§å€¼å¾—åˆ°ä¸€ä¸ªç¬¦åˆè¯¥å‡ ä½•å½¢çŠ¶çš„é›†åˆ</strong>ä½œä¸ºç»“æœã€‚</p><p>â€ƒâ€ƒç®—æ³•åŸç†ï¼šé’ˆå¯¹æ¯ä¸ªåƒç´ ç‚¹ï¼Œä½¿å¾— $\theta$ åœ¨ <code>-90</code> åº¦åˆ° <code>180</code> åº¦ä¹‹é—´ï¼Œç”¨æåæ ‡ $p &#x3D; xcos\theta + ysin\theta$ è®¡ç®—å¾—åˆ°å…± <code>270</code> ç»„ $(p,\theta)$ ä»£è¡¨ç€éœå¤«ç©ºé—´çš„ <code>270</code> æ¡ç›´çº¿ã€‚å°†è¿™ <code>270</code> ç»„å€¼å­˜å‚¨åˆ° $H$ ä¸­ã€‚å¦‚æœä¸€ç»„ç‚¹å…±çº¿ï¼Œåˆ™è¿™ç»„ç‚¹ä¸­çš„æ¯ä¸ªå€¼ï¼Œéƒ½ä¼šä½¿å¾— $H(p,\theta)$ åŠ  <code>1</code>ï¼Œå› æ­¤æ‰¾åˆ°æœ€å¤§çš„ $H$ å€¼ï¼Œå°±æ˜¯å…±çº¿çš„ç‚¹æœ€å¤šçš„ç›´çº¿ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¾å®šé˜ˆå€¼æ¥åˆ¤å®šã€‚</p><h3 id="å¯¹-HOG-ç‰¹å¾çš„ç†è§£"><a href="#å¯¹-HOG-ç‰¹å¾çš„ç†è§£" class="headerlink" title="å¯¹ HOG ç‰¹å¾çš„ç†è§£"></a>å¯¹ HOG ç‰¹å¾çš„ç†è§£</h3><p>â€ƒâ€ƒ<strong>ä¸»è¦æ€æƒ³</strong>ï¼šåœ¨è¾¹ç¼˜å…·ä½“ä½ç½®æœªçŸ¥çš„æƒ…å†µä¸‹ï¼Œè¾¹ç¼˜æ–¹å‘çš„åˆ†å¸ƒä¹Ÿå¯ä»¥å¾ˆå¥½çš„è¡¨ç¤ºè¡Œäººç›®æ ‡çš„å¤–å½¢è½®å»“ï¼Œå³æ¢¯åº¦çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œè€Œæ¢¯åº¦ä¸»è¦ä½äºè¾¹ç¼˜çš„åœ°æ–¹å¾ˆå¥½åœ°æè¿°ã€‚<br>â€ƒâ€ƒ<strong><code>HOG</code> ç‰¹å¾æ£€æµ‹ç®—æ³•çš„å‡ ä¸ªæ­¥éª¤</strong>ï¼šé¢œè‰²ç©ºé—´å½’ä¸€åŒ– â€”&gt; æ¢¯åº¦è®¡ç®— â€”&gt; æ¢¯åº¦æ–¹å‘ç›´æ–¹å›¾ â€”&gt; é‡å å—ç›´æ–¹å›¾å½’ä¸€åŒ– â€”&gt; <code>HOG</code> ç‰¹å¾ã€‚</p><h3 id="å›¾åƒçš„æ’å€¼æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#å›¾åƒçš„æ’å€¼æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="å›¾åƒçš„æ’å€¼æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ"></a>å›¾åƒçš„æ’å€¼æ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h3><p>â€ƒâ€ƒæœ€è¿‘é‚»æ³•<br>â€ƒâ€ƒåŒçº¿æ€§å†…æ’æ³•<br>â€ƒâ€ƒä¸‰æ¬¡å†…æ’æ³•</p><h3 id="Grabcut-çš„åŸºæœ¬åŸç†å’Œåº”ç”¨"><a href="#Grabcut-çš„åŸºæœ¬åŸç†å’Œåº”ç”¨" class="headerlink" title="Grabcut çš„åŸºæœ¬åŸç†å’Œåº”ç”¨"></a>Grabcut çš„åŸºæœ¬åŸç†å’Œåº”ç”¨</h3><p>â€ƒâ€ƒ<code>Graph Cut</code> å’Œ <code>Grab Cut</code> ç®—æ³•ï¼Œä¸¤è€…éƒ½æ˜¯åŸºäºå›¾è®ºçš„åˆ†å‰²æ–¹æ³•ã€‚<br>â€ƒâ€ƒ<code>Graph Cut</code> åœ¨è®¡ç®—æœºè§†è§‰é¢†åŸŸæ™®éåº”ç”¨äºå‰èƒŒæ™¯åˆ†å‰²ã€æŠ å›¾ç­‰ã€‚<br>â€ƒâ€ƒåŸºæœ¬åŸç†ï¼šæ ¹æ®å¾…åˆ†å‰²çš„å›¾åƒï¼Œç¡®å®šå›¾çš„èŠ‚ç‚¹ä¸è¾¹ï¼Œå³å›¾çš„å½¢çŠ¶å·²ç¡®å®šä¸‹æ¥,æ˜¯ç»™å›¾ä¸­æ‰€æœ‰è¾¹èµ‹å€¼ç›¸åº”çš„æƒå€¼ï¼Œç„¶åæ‰¾åˆ°æƒå€¼å’Œæœ€å°çš„è¾¹çš„ç»„åˆï¼Œå°±å®Œæˆäº†å›¾åƒåˆ†å‰²ã€‚</p><h3 id="SIFT-x2F-SURFçš„ç‰¹å¾æå–æ–¹æ³•ï¼Œæ˜¯å¦‚ä½•ä¿æŒå°ºåº¦ä¸å˜æ€§çš„ï¼Ÿ"><a href="#SIFT-x2F-SURFçš„ç‰¹å¾æå–æ–¹æ³•ï¼Œæ˜¯å¦‚ä½•ä¿æŒå°ºåº¦ä¸å˜æ€§çš„ï¼Ÿ" class="headerlink" title="SIFT &#x2F; SURFçš„ç‰¹å¾æå–æ–¹æ³•ï¼Œæ˜¯å¦‚ä½•ä¿æŒå°ºåº¦ä¸å˜æ€§çš„ï¼Ÿ"></a>SIFT &#x2F; SURFçš„ç‰¹å¾æå–æ–¹æ³•ï¼Œæ˜¯å¦‚ä½•ä¿æŒå°ºåº¦ä¸å˜æ€§çš„ï¼Ÿ</h3><p>â€ƒâ€ƒ<code>SIFT (Scale-Invariant Feature Transform)</code> ç®—æ³•çš„å®è´¨æ˜¯åœ¨ä¸åŒçš„å°ºåº¦ç©ºé—´ä¸ŠæŸ¥æ‰¾å…³é”®ç‚¹(ç‰¹å¾ç‚¹)ï¼Œå¹¶è®¡ç®—å‡ºå…³é”®ç‚¹çš„æ–¹å‘ã€‚<code>SIFT</code> æ‰€æŸ¥æ‰¾åˆ°çš„å…³é”®ç‚¹æ˜¯ä¸€äº›ååˆ†çªå‡ºï¼Œä¸ä¼šå› å…‰ç…§ï¼Œä»¿å°„å˜æ¢å’Œå™ªéŸ³ç­‰å› ç´ è€Œå˜åŒ–çš„ç‚¹ï¼Œå¦‚è§’ç‚¹ã€è¾¹ç¼˜ç‚¹ã€æš—åŒºçš„äº®ç‚¹åŠäº®åŒºçš„æš—ç‚¹ç­‰ã€‚</p><p>â€ƒâ€ƒ<strong>å¦‚ä½•ä¿æŒå°ºåº¦ä¸å˜æ€§ï¼Ÿ</strong><br>â€ƒâ€ƒâ‘  <strong>å°ºåº¦ç©ºé—´æå€¼æ£€æµ‹</strong>ï¼šæœç´¢æ‰€æœ‰å°ºåº¦ä¸Šçš„å›¾åƒä½ç½®ã€‚é€šè¿‡é«˜æ–¯å·®åˆ†å‡½æ•°æ¥è¯†åˆ«æ½œåœ¨çš„å¯¹äºå°ºåº¦å’Œæ—‹è½¬ä¸å˜çš„å…³é”®ç‚¹ã€‚ï¼ˆç¬¬ä¸€æ­¥è·å–å›¾ç‰‡çš„é«˜æ–¯é‡‘å­—å¡”ï¼Œé«˜æ–¯é‡‘å­—å¡”æŒ‡çš„æ˜¯å›¾ç‰‡åœ¨ä¸åŒå°ºå¯¸ä¸‹è¿›è¡Œçš„é«˜æ–¯æ¨¡ç³Šå¤„ç†åçš„å›¾ç‰‡ï¼Œä¸ºäº†å¯»æ‰¾å›¾ç‰‡çš„ç‰¹å¾ç‚¹ï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°å›¾ç‰‡åœ¨ä¸åŒå°ºå¯¸ç©ºé—´é‡Œçš„æå€¼ï¼Œè¿™äº›æå€¼é€šå¸¸å­˜åœ¨äºå›¾ç‰‡çš„è¾¹ç¼˜æˆ–è€…ç°åº¦çªå˜çš„åœ°æ–¹ï¼Œæ‰€ä»¥è¦å¯¹é«˜æ–¯æ¨¡ç³Šåçš„å›¾ç‰‡è¿›è¡Œé«˜æ–¯å·®åˆ†ï¼Œç„¶ååˆ°å¯»æ‰¾æå€¼ç‚¹ã€‚ï¼‰<br>â€ƒâ€ƒâ‘¡ <strong>å…³é”®ç‚¹å®šä½</strong>ï¼šç”±äºå›¾ç‰‡çš„åæ ‡æ˜¯ç¦»æ•£ï¼Œæ‰€ä»¥è¦ç²¾ç¡®å®šä½çš„è¯ï¼Œä½œè€…é‡‡ç”¨äº†æ›²é¢æ‹Ÿåˆçš„æ–¹æ³•ï¼Œé€šè¿‡æ’å€¼æ‰¾åˆ°çœŸæ­£æå€¼ç‚¹çš„ä½ç½®ï¼Œä½ç½®æ‰¾åˆ°ä¹‹åï¼Œæˆ‘ä»¬è¦æ‰¾åˆ°è¿™ä¸ªæå€¼ç‚¹çš„ä¸»æ–¹å‘ã€‚<br>â€ƒâ€ƒâ‘¢ <strong>å…³é”®ç‚¹æ–¹å‘ç¡®å®š</strong>ï¼šåŸºäºå›¾åƒå±€éƒ¨çš„æ¢¯åº¦æ–¹å‘ï¼Œåˆ†é…ç»™æ¯ä¸ªå…³é”®ç‚¹ä½ç½®ä¸€ä¸ªæˆ–å¤šä¸ªæ–¹å‘ã€‚æ‰€æœ‰åé¢çš„å¯¹å›¾åƒæ•°æ®çš„æ“ä½œéƒ½ç›¸å¯¹äºå…³é”®ç‚¹çš„æ–¹å‘ã€å°ºåº¦å’Œä½ç½®è¿›è¡Œå˜æ¢ï¼Œä»è€Œä¿è¯äº†å¯¹äºè¿™äº›å˜æ¢çš„ä¸å˜æ€§ã€‚<br>â€ƒâ€ƒâ‘£ <strong>å…³é”®ç‚¹æè¿°</strong>ï¼šåœ¨æ¯ä¸ªå…³é”®ç‚¹å‘¨å›´çš„é‚»åŸŸå†…ï¼Œåœ¨é€‰å®šçš„å°ºåº¦ä¸Šæµ‹é‡å›¾åƒå±€éƒ¨çš„æ¢¯åº¦ã€‚è¿™äº›æ¢¯åº¦ä½œä¸ºå…³é”®ç‚¹çš„æè¿°ç¬¦ï¼Œå®ƒå…è®¸æ¯”è¾ƒå¤§çš„å±€éƒ¨å½¢çŠ¶çš„å˜å½¢æˆ–å…‰ç…§å˜åŒ–ã€‚</p><p>â€ƒâ€ƒ<code>SURF</code> æ˜¯åœ¨ <code>SIFT</code> çš„åŸºç¡€ä¸Šæ”¹è¿›çš„ï¼ŒåŸç†åŸºæœ¬ç›¸ä¼¼ï¼Œåœ¨ç‰¹å¾ç‚¹æ£€æµ‹è¿™å„¿ï¼Œ<code>SIFT</code> æ˜¯å…ˆè¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ï¼Œå†å»é™¤ä½å¯¹æ¯”åº¦çš„ç‚¹ï¼Œæœ€åå†é€šè¿‡ <code>Hessian</code> çŸ©é˜µå»é™¤è¾¹ç¼˜çš„ç‚¹ï¼›è€Œ <code>SURF</code> æ˜¯å…ˆç”¨ <code>Hessian</code> çŸ©é˜µç¡®å®šå€™é€‰ç‚¹ï¼Œç„¶åå†è¿›è¡Œéæå¤§å€¼æŠ‘åˆ¶ï¼Œè¯¥ç®—æ³•æé«˜äº† <code>SIFT</code> çš„é€Ÿåº¦å’Œé²æ£’æ€§ï¼Œä¸”ç†è®ºä¸Š <code>SURF</code> æ˜¯ <code>SIFT</code> é€Ÿåº¦çš„ <code>3</code> å€ã€‚ï¼ˆè§ä¹¦ã€ŠOpenCV3ç¼–ç¨‹å…¥é—¨ã€‹P417ï¼‰</p><h3 id="å…³äº-FLANN-ç®—æ³•"><a href="#å…³äº-FLANN-ç®—æ³•" class="headerlink" title="å…³äº FLANN ç®—æ³•"></a>å…³äº FLANN ç®—æ³•</h3><p>â€ƒâ€ƒ<code>FLANN</code> ç®—æ³•ä¹Ÿå±äºå…³é”®ç‚¹åŒ¹é…ç®—æ³•ï¼Œç®—æ³•æ­¥éª¤æ•´ä½“æ¥è¯´åˆ†ä¸ºä¸¤æ­¥ï¼šä¸€æ˜¯å»ºç«‹ç´¢å¼•ï¼Œè€Œæ˜¯æœç´¢ã€‚<br>â€ƒâ€ƒå»ºç«‹ç´¢å¼•ï¼šå…¶å®å°±æ˜¯è¦ä¸¤éƒ¨åˆ†å‚æ•°ï¼Œä¸€æ˜¯æ•°æ®ä¹Ÿå°±æ˜¯ <code>mat</code> çŸ©é˜µï¼ŒäºŒæ˜¯ä¸€äº›å…·ä½“å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¦æ ¹æ®å»ºç«‹çš„ç´¢å¼•ç±»å‹æ¥è®¾ç½®ã€‚è€Œæœ‰å“ªäº›ç´¢å¼•ç±»å‹å‘¢ï¼Ÿå…±æœ‰ï¼šçº¿æ€§ç´¢å¼•ã€<code>KD-Tree</code> ç´¢å¼•ã€Kå‡å€¼ç´¢å¼•ã€å¤åˆç´¢å¼•ã€<code>LSH</code> æ–¹æ³•ç´¢å¼•ã€è‡ªåŠ¨ç´¢å¼•å…­ç§ã€‚<br>â€ƒâ€ƒè¿›è¡Œæœç´¢ï¼šæœ‰ä¸¤ç§æœç´¢æ–¹å¼ ï¼šæœç´¢ k é‚»è¿‘ ï¼ˆå…·ä½“ç‚¹çš„ä¸ªæ•°ç”±ç”¨æˆ·è®¾å®šï¼Œè®¾ <code>n</code> ä¸ªå°±ä¸€å®šè¿”å› <code>n</code> ä¸ªï¼‰ã€æœç´¢åŠå¾„æœ€è¿‘ ï¼ˆå³å¯èƒ½ä¸å­˜åœ¨ç¬¦åˆæ¡ä»¶çš„ç‚¹ï¼Œåˆ™è¿”å›ç©ºçš„ï¼‰ã€‚<br>â€ƒâ€ƒ<code>SIFT / SURF</code> æ˜¯åŸºäºæµ®ç‚¹æ•°çš„åŒ¹é…ï¼Œ<code>ORB</code> æ˜¯äºŒå€¼åŒ¹é…ï¼Œé€Ÿåº¦æ›´å¿«ã€‚å¯¹äº <code>FLANN</code> åŒ¹é…ç®—æ³•ï¼Œå½“ä½¿ç”¨ <code>ORB</code> åŒ¹é…ç®—æ³•çš„æ—¶å€™ï¼Œéœ€è¦é‡æ–°æ„é€  <code>HASH</code>ã€‚</p><h3 id="Cannyè¾¹ç¼˜æ£€æµ‹çš„æµç¨‹"><a href="#Cannyè¾¹ç¼˜æ£€æµ‹çš„æµç¨‹" class="headerlink" title="Cannyè¾¹ç¼˜æ£€æµ‹çš„æµç¨‹"></a>Cannyè¾¹ç¼˜æ£€æµ‹çš„æµç¨‹</h3><p>â€ƒâ€ƒå›¾åƒé™å™ªâ€”â€”è®¡ç®—å›¾åƒæ¢¯åº¦ï¼Œå¾—åˆ°å¯èƒ½è¾¹ç¼˜â€”â€”éæå¤§å€¼æŠ‘åˆ¶â€”â€”åŒé˜ˆå€¼ç­›é€‰</p><h3 id="å›¾åƒé”åŒ–-â€“-sharpen"><a href="#å›¾åƒé”åŒ–-â€“-sharpen" class="headerlink" title="å›¾åƒé”åŒ– â€“ sharpen"></a>å›¾åƒé”åŒ– â€“ sharpen</h3><p>â€ƒâ€ƒå¹³æ»‘ï¼šæŠŠå›¾åƒå˜æ¨¡ç³Šï¼›<br>â€ƒâ€ƒé”åŒ–ï¼šæŠŠå›¾åƒå˜æ¸…æ™°ï¼›<br>â€ƒâ€ƒå›¾åƒé”åŒ–ä¸»è¦ç”¨äºå¢å¼ºå›¾åƒçš„ç°åº¦è·³å˜éƒ¨åˆ†ï¼Œè¿™å’Œå›¾åƒå¹³æ»‘å¯¹ç°åº¦è·³å˜çš„æŠ‘åˆ¶æ­£å¥½ç›¸åã€‚</p><h3 id="å›¾åƒå¯¹æ¯”åº¦"><a href="#å›¾åƒå¯¹æ¯”åº¦" class="headerlink" title="å›¾åƒå¯¹æ¯”åº¦"></a>å›¾åƒå¯¹æ¯”åº¦</h3><p>â€ƒâ€ƒå¯¹æ¯”åº¦ï¼šæŒ‡ä¸€å¹…å›¾åƒä¸­ç°åº¦åå·®çš„å¤§å°ï¼›<br>â€ƒâ€ƒå¯¹æ¯”åº¦ &#x3D; æœ€å¤§äº®åº¦ &#x2F; æœ€å°äº®åº¦</p><h3 id="å›¾åƒæ»¤æ³¢"><a href="#å›¾åƒæ»¤æ³¢" class="headerlink" title="å›¾åƒæ»¤æ³¢"></a>å›¾åƒæ»¤æ³¢</h3><p>â€ƒâ€ƒ<strong>å®šä¹‰</strong>ï¼šæŠŠæ»¤æ³¢æƒ³è±¡æˆä¸€ä¸ªåŒ…å«åŠ æƒç³»æ•°çš„çª—å£ï¼Œå½“ä½¿ç”¨è¿™ä¸ªæ»¤æ³¢å™¨å¹³æ»‘å¤„ç†å›¾åƒæ—¶ï¼Œå°±æŠŠè¿™ä¸ªçª—å£æ”¾åˆ°å›¾åƒä¸Šï¼Œé€è¿‡è¯¥çª—å£æŸ¥çœ‹ã€‚<br>â€ƒâ€ƒ<strong>æ»¤æ³¢çš„ä½œç”¨</strong>ï¼šå»é™¤å›¾åƒä¸­çš„å™ªå£°<br>â€ƒâ€ƒ<strong>ä½é€šæ»¤æ³¢å™¨</strong>ï¼šå»é™¤å›¾åƒä¸­çš„é«˜é¢‘éƒ¨åˆ†â€”â€”æ¨¡ç³ŠåŒ–<br>â€ƒâ€ƒ<strong>é«˜é€šæ»¤æ³¢å™¨</strong>ï¼šå»é™¤å›¾åƒä¸­çš„ä½é¢‘éƒ¨åˆ†â€”â€”é”åŒ–<br>â€ƒâ€ƒ<strong>çº¿æ€§æ»¤æ³¢å™¨</strong>ï¼šæ–¹æ¡†æ»¤æ³¢ã€å‡å€¼æ»¤æ³¢ã€é«˜æ–¯æ»¤æ³¢<br>â€ƒâ€ƒ<strong>éçº¿æ€§æ»¤æ³¢</strong>ï¼šä¸­å€¼æ»¤æ³¢ã€åŒè¾¹æ»¤æ³¢</p><h3 id="OpenCV-ä¸­å›¾åƒåŠ æ³•ï¼ˆcv2-add-ï¼‰ä¸å›¾åƒèåˆï¼ˆcv2-addWeighted-ï¼‰æœ‰ä½•åŒºåˆ«ï¼Ÿ"><a href="#OpenCV-ä¸­å›¾åƒåŠ æ³•ï¼ˆcv2-add-ï¼‰ä¸å›¾åƒèåˆï¼ˆcv2-addWeighted-ï¼‰æœ‰ä½•åŒºåˆ«ï¼Ÿ" class="headerlink" title="OpenCV ä¸­å›¾åƒåŠ æ³•ï¼ˆcv2.add()ï¼‰ä¸å›¾åƒèåˆï¼ˆcv2.addWeighted()ï¼‰æœ‰ä½•åŒºåˆ«ï¼Ÿ"></a>OpenCV ä¸­å›¾åƒåŠ æ³•ï¼ˆcv2.add()ï¼‰ä¸å›¾åƒèåˆï¼ˆcv2.addWeighted()ï¼‰æœ‰ä½•åŒºåˆ«ï¼Ÿ</h3><p>â€ƒâ€ƒ<strong>å›¾åƒåŠ æ³•</strong>ï¼šç›®æ ‡å›¾åƒ &#x3D; å›¾åƒ1 + å›¾åƒ2<br>â€ƒâ€ƒ<strong>å›¾åƒèåˆ</strong>ï¼šç›®æ ‡å›¾åƒ &#x3D; å›¾åƒ1 Ã— ç³»æ•°1 + å›¾åƒ2 Ã— ç³»æ•°2 + äº®åº¦è°ƒèŠ‚é‡</p><h3 id="å¦‚ä½•æ£€æµ‹å›¾ç‰‡ä¸­çš„æ±½è½¦ï¼Œå¹¶è¯†åˆ«è½¦å‹ï¼Œå¦‚æœæœ‰é®æŒ¡æ€ä¹ˆåŠï¼Ÿ"><a href="#å¦‚ä½•æ£€æµ‹å›¾ç‰‡ä¸­çš„æ±½è½¦ï¼Œå¹¶è¯†åˆ«è½¦å‹ï¼Œå¦‚æœæœ‰é®æŒ¡æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="å¦‚ä½•æ£€æµ‹å›¾ç‰‡ä¸­çš„æ±½è½¦ï¼Œå¹¶è¯†åˆ«è½¦å‹ï¼Œå¦‚æœæœ‰é®æŒ¡æ€ä¹ˆåŠï¼Ÿ"></a>å¦‚ä½•æ£€æµ‹å›¾ç‰‡ä¸­çš„æ±½è½¦ï¼Œå¹¶è¯†åˆ«è½¦å‹ï¼Œå¦‚æœæœ‰é®æŒ¡æ€ä¹ˆåŠï¼Ÿ</h3><p>â€ƒâ€ƒé¦–å…ˆè¿™æ˜¯ä¸€ä¸ªç»†ç²’åº¦çš„åˆ†ç±»ï¼ˆFine-Grained Classificationï¼‰é—®é¢˜ï¼Œå’Œæ™®é€šçš„åˆ†ç±»ä¸ä¸€æ ·ï¼Œè¦åˆ†ç±»çš„ç±»åˆ«å¾€å¾€åªæ˜¯æœ‰ç»†å¾®çš„å·®å¼‚ã€‚<br>â€ƒâ€ƒæ€è·¯ï¼š<br>â€ƒâ€ƒâ‘  äººå·¥æ¡†å®šå±€éƒ¨å›¾åƒï¼Œç„¶åè¯†åˆ«ã€‚æ¯”å¦‚æˆ‘å»æ¡†å®šï¼Œæ±½è½¦çš„è½¦ç¯ï¼Œæ±½è½¦çš„å‰è„¸ï¼Œæ±½è½¦è½®æ¯‚ç­‰ï¼Œç„¶åç”¨ <code>cnn</code> æˆ– <code>deep cnn</code> å…¶ä»–çš„åˆ†ç±»å™¨åšè¿™äº›çš„åˆ†ç±»ï¼Œå¯¹äºåˆ†ç±»å™¨æ¥è¯´è¾“å…¥æ˜¯æ±½è½¦çš„è½¦ç¯+æ±½è½¦çš„å‰è„¸+æ±½è½¦è½®æ¯‚ï¼Œè€Œä¸æ˜¯æ•´å¼ å›¾ç‰‡ï¼Œåˆ†ç±»å™¨å†ä»è½¦ç¯å‰è„¸ç­‰æå–é«˜çº§ç‰¹å¾ï¼Œä»è€Œå¾—åˆ°ä¸€ä¸ªåˆ†ç±»æ¨¡å‹ã€‚<br>â€ƒâ€ƒâ‘¡ ä¸åšå±€éƒ¨å˜æ¢ï¼Œåšå›¾ç‰‡æ•´ä½“è¯†åˆ«ã€‚ä½†æ˜¯åšåˆ†çº§æˆ–æ˜¯åˆ†å±‚ã€‚é¦–å…ˆï¼Œè®­ç»ƒç¬¬ä¸€ä¸ªåˆ†ç±»å™¨ï¼Œå®ƒåªé’ˆå¯¹æ±½è½¦å’Œéæ±½è½¦è¿›è¡Œåˆ†ç±»ï¼Œæ ‡è®°äº† <code>car</code> å’Œ <code>other</code>ã€‚è¿™ä¸€æ­¥è¦æ±‚å°½å¯èƒ½çš„å¹¿ï¼Œæ¶µç›–ç”Ÿæ´»ä¸­å¸¸è§çš„å›¾ç‰‡ï¼ŒåŠ›æ±‚ 98% ä»¥ä¸Šçš„å‡†ç¡®ç‡ï¼Œæ¯ä¸ªåˆ†ç±»ç”¨äº†2wå¼ å›¾ç‰‡ï¼Œå®é™…ä¸Šèƒ½è¾¾åˆ° 99.5% çš„å‡†ç¡®ç‡ã€‚æ¥ç€ï¼Œå¯¹äºæ±½è½¦åšå“ç‰Œåˆ†ç±»å™¨ï¼Œåªå¯¹æ±½è½¦æ‰€å±çš„å“ç‰Œè¿›è¡Œåˆ†ç±»ï¼Œä¸å¯¹ç»†åˆ†çš„å­å“ç‰Œåˆ†ç±»ã€‚è¿™ä¸€æ­¥æ¯ä¸€ç±»äººå·¥æ ‡è®°5000å¼ å›¾ç‰‡ï¼Œè¾“å…¥æ˜¯ç¬¬ä¸€æ­¥çš„è¾“å‡ºï¼Œå‡†ç¡®ç‡èƒ½è¾¾åˆ°96%ä»¥ä¸Šã€‚<br>æœ€åï¼Œå¯¹æ¯ä¸ªå“ç‰Œçš„æ±½è½¦è¿›è¡Œè½¦å‹åˆ†ç±»ï¼Œè¿™ä¸€å±‚è¯†åˆ«ç‡åœ¨ 94% å·¦å³ã€‚è¿™æ ·ä¼šå¾—åˆ°ä¸€ä¸ª 0.98Ã—0.96Ã—0.94~0.88 çš„è¯†åˆ«ç‡ã€‚</p><h3 id="å¸¸ç”¨å›¾åƒå¢å¼ºç®—æ³•"><a href="#å¸¸ç”¨å›¾åƒå¢å¼ºç®—æ³•" class="headerlink" title="å¸¸ç”¨å›¾åƒå¢å¼ºç®—æ³•"></a>å¸¸ç”¨å›¾åƒå¢å¼ºç®—æ³•</h3><p>â€ƒâ€ƒâ‘  <strong>ç›´æ–¹å›¾å‡è¡¡åŒ–</strong>ï¼šç›´æ–¹å›¾å‡è¡¡åŒ–æ˜¯å›¾åƒå¤„ç†é¢†åŸŸä¸­åˆ©ç”¨å›¾åƒç›´æ–¹å›¾å¯¹å¯¹æ¯”åº¦è¿›è¡Œè°ƒæ•´çš„æ–¹æ³•ã€‚<br>è¿™ç§æ–¹æ³•é€šå¸¸ç”¨æ¥å¢åŠ è®¸å¤šå›¾åƒçš„å±€éƒ¨å¯¹æ¯”åº¦ï¼Œè¿™ç§æ–¹æ³•å¯¹äºèƒŒæ™¯å’Œå‰æ™¯éƒ½å¤ªäº®æˆ–è€…å¤ªæš—çš„å›¾åƒéå¸¸æœ‰ç”¨ï¼Œè¿™ç§æ–¹æ³•å°¤å…¶æ˜¯å¯ä»¥å¸¦æ¥Xå…‰å›¾åƒä¸­æ›´å¥½çš„éª¨éª¼ç»“æ„æ˜¾ç¤ºä»¥åŠæ›å…‰è¿‡åº¦æˆ–è€…æ›å…‰ä¸è¶³ç…§ç‰‡ä¸­æ›´å¥½çš„ç»†èŠ‚ã€‚</p><p>â€ƒâ€ƒâ‘¡ <strong>å¯¹æ•°å›¾åƒå¢å¼ºç®—æ³•</strong>ï¼šå¯¹æ•°å›¾åƒå¢å¼ºæ˜¯å›¾åƒå¢å¼ºçš„ä¸€ç§å¸¸è§æ–¹æ³•ï¼Œå…¶å…¬å¼ä¸ºï¼š $S &#x3D; c \times log(r+1)$ï¼Œå…¶ä¸­ $c$ æ˜¯å¸¸æ•°ï¼ˆä»¥ä¸‹ç®—æ³• $c&#x3D;255&#x2F;(log(256)$ï¼‰ï¼Œè¿™æ ·å¯ä»¥å®ç°æ•´ä¸ªç”»é¢çš„äº®åº¦å¢å¤§ã€‚</p><p>â€ƒâ€ƒâ‘¢ <strong>æŒ‡æ•°å›¾åƒå¢å¼ºç®—æ³•</strong>ï¼šæŒ‡æ•°å›¾åƒå¢å¼ºçš„è¡¨è¾¾ä¸ºï¼š$S &#x3D; cR^{r}$ï¼Œé€šè¿‡åˆç†çš„é€‰æ‹©cå’Œrå¯ä»¥å‹ç¼©ç°åº¦èŒƒå›´ï¼Œç®—æ³•ä»¥ $c&#x3D;1.0&#x2F;255.0, r&#x3D;2$ å®ç°ã€‚</p><p>â€ƒâ€ƒâ‘£ <strong>åŠ Masaicç®—æ³•ï¼ˆé©¬èµ›å…‹ï¼‰</strong>ï¼šåŸç†ï¼šç”¨ä¸­å¿ƒåƒç´ æ¥è¡¨ç¤ºé‚»åŸŸåƒç´ </p><p>â€ƒâ€ƒâ‘¤ <strong>æ›å…‰è¿‡åº¦é—®é¢˜å¤„ç†</strong>ï¼šå¯¹äºæ›å…‰è¿‡åº¦é—®é¢˜ï¼Œå¯ä»¥é€šè¿‡è®¡ç®—å½“å‰å›¾åƒçš„åç›¸ï¼ˆ$255-image$)ï¼Œç„¶åå–å½“å‰å›¾åƒå’Œåç›¸å›¾åƒçš„è¾ƒå°è€…ä¸ºå½“å‰åƒç´ ä½ç½®çš„å€¼ã€‚</p><p>â€ƒâ€ƒâ‘¥ <strong>é«˜åå·®ä¿ç•™</strong>ï¼šé«˜åå·®ä¿ç•™ä¸»è¦æ˜¯å°†å›¾åƒä¸­é¢œè‰²ã€æ˜æš—åå·®è¾ƒå¤§ä¸¤éƒ¨åˆ†çš„äº¤ç•Œå¤„ä¿ç•™ä¸‹æ¥ï¼Œæ¯”å¦‚å›¾åƒä¸­æœ‰ä¸€ä¸ªäººå’Œä¸€å—çŸ³å¤´ï¼Œé‚£ä¹ˆçŸ³å¤´çš„è½®å»“çº¿å’Œäººçš„è½®å»“çº¿ä»¥åŠé¢éƒ¨ã€æœè£…ç­‰æœ‰æ˜æ˜¾çº¿æ¡çš„åœ°æ–¹ä¼šå˜è¢«ä¿ç•™ï¼Œè€Œå…¶ä»–å¤§é¢ç§¯æ— æ˜æ˜¾æ˜æš—å˜åŒ–çš„åœ°æ–¹åˆ™ç”Ÿæˆæ£•ç°è‰²ã€‚å…¶è¡¨è¾¾å½¢å¼ä¸ºï¼š$dst &#x3D; r \times(img - Blur(img))$ã€‚</p><p>â€ƒâ€ƒâ‘¦ <strong>æ‹‰æ™®æ‹‰æ–¯ç®—å­å›¾åƒå¢å¼º</strong>ï¼šä½¿ç”¨ä¸­å¿ƒä¸º <code>5</code> çš„ <code>8</code> é‚»åŸŸæ‹‰æ™®æ‹‰æ–¯ç®—å­ä¸å›¾åƒå·ç§¯å¯ä»¥è¾¾åˆ°é”åŒ–å¢å¼ºå›¾åƒçš„ç›®çš„ã€‚</p><p>â€ƒâ€ƒâ‘§ <strong>Gammaæ ¡æ­£</strong>ï¼šä¼½é©¬å˜æ¢ä¸»è¦ç”¨äºå›¾åƒçš„æ ¡æ­£ï¼Œå°†ç°åº¦è¿‡é«˜æˆ–è€…ç°åº¦è¿‡ä½çš„å›¾ç‰‡è¿›è¡Œä¿®æ­£ï¼Œå¢å¼ºå¯¹æ¯”åº¦ã€‚ä¼½é©¬å˜æ¢å¯¹å›¾åƒçš„ä¿®æ­£ä½œç”¨å…¶å®å°±æ˜¯é€šè¿‡å¢å¼ºä½ç°åº¦æˆ–é«˜ç°åº¦çš„ç»†èŠ‚å®ç°çš„ã€‚</p><h3 id="æ•°å­—å›¾åƒå¤„ç†ä¸­å¸¸ç”¨å›¾åƒåˆ†å‰²ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"><a href="#æ•°å­—å›¾åƒå¤„ç†ä¸­å¸¸ç”¨å›¾åƒåˆ†å‰²ç®—æ³•æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="æ•°å­—å›¾åƒå¤„ç†ä¸­å¸¸ç”¨å›¾åƒåˆ†å‰²ç®—æ³•æœ‰å“ªäº›ï¼Ÿ"></a>æ•°å­—å›¾åƒå¤„ç†ä¸­å¸¸ç”¨å›¾åƒåˆ†å‰²ç®—æ³•æœ‰å“ªäº›ï¼Ÿ</h3><p>â€ƒâ€ƒâ‘  <strong>å¤šæ•°çš„å›¾åƒåˆ†å‰²ç®—æ³•</strong>ï¼šå‡æ˜¯åŸºäºç°åº¦å€¼çš„ä¸è¿ç»­å’Œç›¸ä¼¼çš„æ€§è´¨ã€‚</p><p>â€ƒâ€ƒâ‘¡ <strong>å›¾åƒè¾¹ç¼˜åˆ†å‰²</strong>ï¼šè¾¹ç¼˜æ˜¯å›¾åƒä¸­ç°åº¦çªå˜åƒç´ çš„é›†åˆï¼Œä¸€èˆ¬ç”¨å¾®åˆ†è¿›è¡Œæ£€æµ‹ã€‚åŸºæœ¬çš„è¾¹ç¼˜æ£€æµ‹ç®—æ³•æœ‰ï¼š<code>Roberts</code> ç®—å­ã€<code>Sobel</code> ç®—å­ã€‚ç¨é«˜çº§çš„ç®—æ³•æœ‰ï¼š<code>Canny</code> è¾¹ç¼˜æ£€æµ‹å™¨ã€‚</p><p>â€ƒâ€ƒâ‘¢ <strong>å›¾åƒé˜ˆå€¼åˆ†å‰²</strong>ï¼šç”±äºé˜ˆå€¼å¤„ç†ç›´è§‚ã€å®ç°ç®€å•ä¸”è®¡ç®—é€Ÿåº¦å¿«ï¼Œå› æ­¤é˜ˆå€¼å¤„ç†åœ¨åˆ†å‰²åº”ç”¨ä¸­å¤„äºæ ¸å¿ƒåœ°ä½ã€‚å¦‚ <code>Otsu</code>ï¼ˆæœ€å¤§ç±»é—´æ–¹å·®ç®—æ³•ï¼‰ç®—æ³•ã€‚</p><p>â€ƒâ€ƒâ‘£ <strong>åŸºäºåŒºåŸŸçš„åˆ†å‰²</strong>ï¼šåŒºåŸŸç”Ÿé•¿ç®—æ³•å’ŒåŒºåŸŸåˆ†è£‚ä¸èšåˆéƒ½æ˜¯å±äºåŸºäºåŒºåŸŸçš„åˆ†å‰²ç®—æ³•ã€‚</p><hr>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆæŒç»­æ›´æ–°ä¸­...ï¼‰Leetcode å‘¨èµ›è®°å½•</title>
      <link href="/2022/08/14/032-Leetcode/"/>
      <url>/2022/08/14/032-Leetcode/</url>
      
        <content type="html"><![CDATA[<ul><li>æ…¢æ…¢åˆ·é¢˜æ…¢æ…¢è¡¥å……~</li><li>å†™åœ¨æœ€å‰é¢çš„å°ç¬”è®°ï¼ˆæŒç»­è¡¥å……ï¼‰ï¼š<br>ï¼ˆ1ï¼‰<code>ASCII</code> ç è¡¨ï¼š<a href="https://www.habaijian.com/">ASCIIç ä¸­æ–‡ç«™</a><br>ï¼ˆ2ï¼‰å­—ç¬¦ä¸²æ•°ç»„ç”¨ <code>strings.sort()</code> æ’åºï¼Œ<code>sorted</code> ä¸é€‚ç”¨<br>ï¼ˆ3ï¼‰<code>Python</code> å­—ç¬¦ä¸² <code>string</code> ç±»å‹ä¸æ”¯æŒæ›´æ”¹<br>ï¼ˆ4ï¼‰åˆå§‹åŒ–ä¸€ä¸ªå­—å…¸ç”¨ <code>collections.defaultdict</code><br>ï¼ˆ5ï¼‰æœ‰åºåˆ—è¡¨å¯ä»¥ç”¨ <code>sortedcontainers.SortedList</code></li></ul><hr><h1 id="2022-08-14-ç¬¬-306-åœºå‘¨èµ›"><a href="#2022-08-14-ç¬¬-306-åœºå‘¨èµ›" class="headerlink" title="2022-08-14 ç¬¬ 306 åœºå‘¨èµ›"></a>2022-08-14 ç¬¬ 306 åœºå‘¨èµ›</h1><h2 id="T1-6148-çŸ©é˜µä¸­çš„å±€éƒ¨æœ€å¤§å€¼"><a href="#T1-6148-çŸ©é˜µä¸­çš„å±€éƒ¨æœ€å¤§å€¼" class="headerlink" title="T1 6148. çŸ©é˜µä¸­çš„å±€éƒ¨æœ€å¤§å€¼"></a>T1 <a href="https://leetcode.cn/contest/weekly-contest-306/problems/largest-local-values-in-a-matrix/">6148. çŸ©é˜µä¸­çš„å±€éƒ¨æœ€å¤§å€¼</a></h2><blockquote><p><strong>æ¨¡æ‹Ÿæœ€å¤§æ± åŒ–ï¼ŒDeep Learning äººç‹‚å–œ</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">largestLocal</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]:<br>        n = <span class="hljs-built_in">len</span>(grid)<br>        self.grid = grid<br>        maxLocal = [[<span class="hljs-number">0</span>]*(n-<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">2</span>)]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">2</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n-<span class="hljs-number">2</span>):<br>                maxLocal[i][j] = self.findMax(i, i+<span class="hljs-number">2</span>, j, j+<span class="hljs-number">2</span>)<br>        <span class="hljs-keyword">return</span> maxLocal<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">findMax</span>(<span class="hljs-params">self, x1, x2, y1, y2</span>):<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(x1, x2+<span class="hljs-number">1</span>):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(y1, y2+<span class="hljs-number">1</span>):<br>                <span class="hljs-keyword">if</span> self.grid[i][j] &gt; ret:<br>                    ret = self.grid[i][j]<br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h2 id="T2-6149-è¾¹ç§¯åˆ†æœ€é«˜çš„èŠ‚ç‚¹"><a href="#T2-6149-è¾¹ç§¯åˆ†æœ€é«˜çš„èŠ‚ç‚¹" class="headerlink" title="T2 6149. è¾¹ç§¯åˆ†æœ€é«˜çš„èŠ‚ç‚¹"></a>T2 <a href="https://leetcode.cn/contest/weekly-contest-306/problems/node-with-highest-edge-score/">6149. è¾¹ç§¯åˆ†æœ€é«˜çš„èŠ‚ç‚¹</a></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">edgeScore</span>(<span class="hljs-params">self, edges: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(edges)<br>        ret = [<span class="hljs-number">0</span>]*n<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            ret[edges[i]] += i<br>        <span class="hljs-keyword">return</span> ret.index(<span class="hljs-built_in">max</span>(ret))<br></code></pre></td></tr></table></figure><h2 id="T3-6150-æ ¹æ®æ¨¡å¼ä¸²æ„é€ æœ€å°æ•°å­—"><a href="#T3-6150-æ ¹æ®æ¨¡å¼ä¸²æ„é€ æœ€å°æ•°å­—" class="headerlink" title="T3 6150. æ ¹æ®æ¨¡å¼ä¸²æ„é€ æœ€å°æ•°å­—"></a>T3 <a href="https://leetcode.cn/contest/weekly-contest-306/problems/construct-smallest-number-from-di-string/">6150. æ ¹æ®æ¨¡å¼ä¸²æ„é€ æœ€å°æ•°å­—</a></h2><p>æˆ‘ä»¥ä¸ºåªæœ‰ T4 æ˜¯åŸé¢˜ï¼Œæ²¡æƒ³åˆ° T3 å±…ç„¶ä¹Ÿæ˜¯åŸé¢˜ <a href="https://leetcode.cn/problems/find-permutation/">484. å¯»æ‰¾æ’åˆ—</a>ï¼Œè€Œä¸”è¿˜æ¬ºè´Ÿæˆ‘æ˜¯ç©·é€¼ä¸æ˜¯ä¼šå‘˜çœ‹ä¸åˆ°åŸé¢˜ã€‚</p><p><img src="https://s2.loli.net/2022/08/14/bkprtLgSMixRBEA.jpg"></p><h2 id="T4-6151-ç»Ÿè®¡ç‰¹æ®Šæ•´æ•°"><a href="#T4-6151-ç»Ÿè®¡ç‰¹æ®Šæ•´æ•°" class="headerlink" title="T4 6151. ç»Ÿè®¡ç‰¹æ®Šæ•´æ•°"></a>T4 <a href="https://leetcode.cn/contest/weekly-contest-306/problems/count-special-integers/">6151. ç»Ÿè®¡ç‰¹æ®Šæ•´æ•°</a></h2><p>çœ‹äº†èµ›åè®¨è®ºåŒºæ‰å‘ç°æ˜¯åŸé¢˜ <a href="https://leetcode.cn/problems/numbers-with-repeated-digits/">1012. è‡³å°‘æœ‰ 1 ä½é‡å¤çš„æ•°å­—</a>ï¼Œæ²¡æ„æ€ã€‚æˆ‘è¿˜çº³é—·å¤§å®¶ Hard é¢˜ A å¾—è¿™ä¹ˆå¿«ã€‚</p><hr><h1 id="2022-08-07-ç¬¬-305-åœºå‘¨èµ›"><a href="#2022-08-07-ç¬¬-305-åœºå‘¨èµ›" class="headerlink" title="2022-08-07 ç¬¬ 305 åœºå‘¨èµ›"></a>2022-08-07 ç¬¬ 305 åœºå‘¨èµ›</h1><p><strong>åŠ¨æ€è§„åˆ’ä¸“åœº</strong>äº†å±äºæ˜¯ï¼Œåˆšå¥½æˆ‘ <code>DP</code> æ¯”è¾ƒèœ</p><h2 id="T1-6136-ç®—æœ¯ä¸‰å…ƒç»„çš„æ•°ç›®"><a href="#T1-6136-ç®—æœ¯ä¸‰å…ƒç»„çš„æ•°ç›®" class="headerlink" title="T1 6136. ç®—æœ¯ä¸‰å…ƒç»„çš„æ•°ç›®"></a>T1 <a href="https://leetcode.cn/contest/weekly-contest-305/problems/number-of-arithmetic-triplets/">6136. ç®—æœ¯ä¸‰å…ƒç»„çš„æ•°ç›®</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹ã€<strong>ä¸¥æ ¼é€’å¢</strong> çš„æ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>diff</code> ã€‚å¦‚æœæ»¡è¶³ä¸‹è¿°å…¨éƒ¨æ¡ä»¶ï¼Œåˆ™ä¸‰å…ƒç»„ <code>(i, j, k)</code> å°±æ˜¯ä¸€ä¸ª <strong>ç®—æœ¯ä¸‰å…ƒç»„</strong> ï¼š</p><ul><li><code>i &lt; j &lt; k</code> ï¼Œ</li><li><code>nums[j] - nums[i] == diff</code> ä¸”</li><li><code>nums[k] - nums[j] == diff</code></li></ul><p>è¿”å›ä¸åŒ <strong>ç®—æœ¯ä¸‰å…ƒç»„</strong> çš„æ•°ç›®ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [0,1,4,6,7,10], diff &#x3D; 3<br><strong>è¾“å‡º</strong>ï¼š2<br><strong>è§£é‡Š</strong>ï¼š<br>(1, 2, 4) æ˜¯ç®—æœ¯ä¸‰å…ƒç»„ï¼š7 - 4 &#x3D;&#x3D; 3 ä¸” 4 - 1 &#x3D;&#x3D; 3 ã€‚<br>(2, 4, 5) æ˜¯ç®—æœ¯ä¸‰å…ƒç»„ï¼š10 - 7 &#x3D;&#x3D; 3 ä¸” 7 - 4 &#x3D;&#x3D; 3 ã€‚</p></blockquote><p>æç¤ºï¼š<br>$3 \leq$ <code>nums.length</code> $\leq 200$<br>$0 \leq$ <code>nums[i]</code> $\leq 200$<br>$1 \leq$ <code>diff</code> $\leq 50$<br><code>nums</code> <strong>ä¸¥æ ¼</strong> é€’å¢</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">arithmeticTriplets</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], diff: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        self.nums = nums<br>        self.n = <span class="hljs-built_in">len</span>(self.nums)<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(self.n):<br>            j = self.helper(i+<span class="hljs-number">1</span>, self.nums[i]+diff)<br>            k = self.helper(i+<span class="hljs-number">1</span>, self.nums[i]+<span class="hljs-number">2</span>*diff)<br>            <span class="hljs-keyword">if</span> j &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> k &gt;= <span class="hljs-number">0</span>:<br>                ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">helper</span>(<span class="hljs-params">self, startIndex, target</span>):<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(startIndex, self.n):<br>            <span class="hljs-keyword">if</span> self.nums[i] == target:<br>                <span class="hljs-keyword">return</span> i<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="T2-6139-å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾èŠ‚ç‚¹çš„æ•°ç›®"><a href="#T2-6139-å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾èŠ‚ç‚¹çš„æ•°ç›®" class="headerlink" title="T2 6139. å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾èŠ‚ç‚¹çš„æ•°ç›®"></a>T2 <a href="https://leetcode.cn/contest/weekly-contest-305/problems/reachable-nodes-with-restrictions/">6139. å—é™æ¡ä»¶ä¸‹å¯åˆ°è¾¾èŠ‚ç‚¹çš„æ•°ç›®</a></h2><p>ç°æœ‰ä¸€æ£µç”± <code>n</code> ä¸ªèŠ‚ç‚¹ç»„æˆçš„æ— å‘æ ‘ï¼ŒèŠ‚ç‚¹ç¼–å·ä» <code>0</code> åˆ° <code>n - 1</code> ï¼Œå…±æœ‰ <code>n - 1</code> æ¡è¾¹ã€‚</p><p>ç»™ä½ ä¸€ä¸ªäºŒç»´æ•´æ•°æ•°ç»„ <code>edges</code> ï¼Œé•¿åº¦ä¸º <code>n - 1</code> ï¼Œå…¶ä¸­ <code>edges[i] = [ai, bi]</code> è¡¨ç¤ºæ ‘ä¸­èŠ‚ç‚¹ <code>ai</code> å’Œ <code>bi</code> ä¹‹é—´å­˜åœ¨ä¸€æ¡è¾¹ã€‚å¦ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>restricted</code> è¡¨ç¤º <strong>å—é™</strong> èŠ‚ç‚¹ã€‚</p><p>åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œè¿”å›ä½ å¯ä»¥ä»èŠ‚ç‚¹ <code>0</code> åˆ°è¾¾çš„ <strong>æœ€å¤š</strong> èŠ‚ç‚¹æ•°ç›®ã€‚</p><p>æ³¨æ„ï¼ŒèŠ‚ç‚¹ <code>0</code> <strong>ä¸</strong> ä¼šæ ‡è®°ä¸ºå—é™èŠ‚ç‚¹ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šn &#x3D; 7, edges &#x3D; [[0,1],[1,2],[3,1],[4,0],[0,5],[5,6]], restricted &#x3D; [4,5]<br><strong>è¾“å‡º</strong>ï¼š4<br><strong>è§£é‡Š</strong>ï¼šä¸Šå›¾æ‰€ç¤ºæ­£æ˜¯è¿™æ£µæ ‘ã€‚<br>åœ¨ä¸è®¿é—®å—é™èŠ‚ç‚¹çš„å‰æä¸‹ï¼Œåªæœ‰èŠ‚ç‚¹ [0,1,2,3] å¯ä»¥ä»èŠ‚ç‚¹ 0 åˆ°è¾¾ã€‚<br><img src="https://s2.loli.net/2022/08/07/Je27Wnlz8X9siRr.png"></p></blockquote><p>æç¤ºï¼š<br>$2 \leq$ <code>n</code> $\leq 10^{5}$<br><code>edges.length</code> $&#x3D;&#x3D; n - 1$<br><code>edges[i].length</code> $&#x3D;&#x3D; 2$<br>$0 \leq a_{i}, b_{i} &lt; n$<br>$a_{i} !&#x3D; b_{i}$<br><code>edges</code> è¡¨ç¤ºä¸€æ£µæœ‰æ•ˆçš„æ ‘<br>$1 \leq$ <code>restricted.length</code> $&lt; n$<br>$1 \leq$ <code>restricted[i]</code> $&lt; n$<br><code>restricted</code> ä¸­çš„æ‰€æœ‰å€¼ <strong>äº’ä¸ç›¸åŒ</strong></p><blockquote><p>ä»èŠ‚ç‚¹ <code>0</code> å¼€å§‹ <code>BFS</code> å³å¯ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reachableNodes</span>(<span class="hljs-params">self, n: <span class="hljs-built_in">int</span>, edges: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]], restricted: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        restr_flag = [<span class="hljs-number">0</span>]*n<br>        paths = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]<br>        visited = [<span class="hljs-number">0</span>]*n<br>        <br>        <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> restricted:<br>            restr_flag[node] = <span class="hljs-number">1</span><br>            <br>        <span class="hljs-keyword">for</span> edge <span class="hljs-keyword">in</span> edges:<br>            <span class="hljs-keyword">if</span> restr_flag[edge[<span class="hljs-number">0</span>]] <span class="hljs-keyword">or</span> restr_flag[edge[<span class="hljs-number">1</span>]]:<br>                <span class="hljs-keyword">continue</span><br>            paths[edge[<span class="hljs-number">0</span>]].append(edge[<span class="hljs-number">1</span>])<br>            paths[edge[<span class="hljs-number">1</span>]].append(edge[<span class="hljs-number">0</span>])<br>            <br>        queue = [<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">while</span> queue:<br>            node = queue.pop(<span class="hljs-number">0</span>)<br>            visited[node] = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> nd <span class="hljs-keyword">in</span> paths[node]:<br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visited[nd]:<br>                    queue.append(nd)<br>        <span class="hljs-keyword">return</span> visited.count(<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h2 id="T3-6137-æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨æœ‰æ•ˆåˆ’åˆ†"><a href="#T3-6137-æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨æœ‰æ•ˆåˆ’åˆ†" class="headerlink" title="T3 6137. æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨æœ‰æ•ˆåˆ’åˆ†"></a>T3 <a href="https://leetcode.cn/contest/weekly-contest-305/problems/check-if-there-is-a-valid-partition-for-the-array/">6137. æ£€æŸ¥æ•°ç»„æ˜¯å¦å­˜åœ¨æœ‰æ•ˆåˆ’åˆ†</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œä½ å¿…é¡»å°†æ•°ç»„åˆ’åˆ†ä¸ºä¸€ä¸ªæˆ–å¤šä¸ª <strong>è¿ç»­</strong> å­æ•°ç»„ã€‚</p><p>å¦‚æœè·å¾—çš„è¿™äº›å­æ•°ç»„ä¸­æ¯ä¸ªéƒ½èƒ½æ»¡è¶³ä¸‹è¿°æ¡ä»¶ <strong>ä¹‹ä¸€</strong> ï¼Œåˆ™å¯ä»¥ç§°å…¶ä¸ºæ•°ç»„çš„ä¸€ç§ <strong>æœ‰æ•ˆ</strong> åˆ’åˆ†ï¼š</p><ul><li>å­æ•°ç»„ <strong>æ°</strong> ç”± <code>2</code> ä¸ªç›¸ç­‰å…ƒç´ ç»„æˆï¼Œä¾‹å¦‚ï¼Œå­æ•°ç»„ <code>[2,2]</code> ã€‚</li><li>å­æ•°ç»„ <strong>æ°</strong> ç”± <code>3</code> ä¸ªç›¸ç­‰å…ƒç´ ç»„æˆï¼Œä¾‹å¦‚ï¼Œå­æ•°ç»„ <code>[4,4,4]</code> ã€‚</li><li>å­æ•°ç»„ <strong>æ°</strong> ç”± <code>3</code> ä¸ªè¿ç»­é€’å¢å…ƒç´ ç»„æˆï¼Œå¹¶ä¸”ç›¸é‚»å…ƒç´ ä¹‹é—´çš„å·®å€¼ä¸º <code>1</code> ã€‚ä¾‹å¦‚ï¼Œå­æ•°ç»„ <code>[3,4,5]</code> ï¼Œä½†æ˜¯å­æ•°ç»„ <code>[1,3,5]</code> ä¸ç¬¦åˆè¦æ±‚ã€‚</li></ul><p>å¦‚æœæ•°ç»„ <strong>è‡³å°‘</strong> å­˜åœ¨ä¸€ç§æœ‰æ•ˆåˆ’åˆ†ï¼Œè¿”å› <code>true</code> ï¼Œå¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [4,4,4,5,6]<br><strong>è¾“å‡º</strong>ï¼štrue<br><strong>è§£é‡Š</strong>ï¼šæ•°ç»„å¯ä»¥åˆ’åˆ†æˆå­æ•°ç»„ [4,4] å’Œ [4,5,6] ã€‚<br>è¿™æ˜¯ä¸€ç§æœ‰æ•ˆåˆ’åˆ†ï¼Œæ‰€ä»¥è¿”å› true ã€‚</p></blockquote><p>æç¤ºï¼š<br>$2 \leq$ <code>nums.length</code> $\leq 10^{5}$<br>$1 \leq$ <code>nums[i]</code> $\leq 10^{6}$</p><blockquote><p>æ•°æ®é‡å°çš„æƒ…å†µä¸‹å¯ä»¥ç”¨é€’å½’ï¼Œä½†æœ¬é¢˜ç”¨é€’å½’ä¼š <code>T</code>â€¦â€¦</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">validPartition</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(nums) == <span class="hljs-number">2</span> <span class="hljs-keyword">and</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>]:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(nums) == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">2</span>]:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">elif</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>]-<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>]-<span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(nums) &gt; <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">2</span>]:<br>                <span class="hljs-keyword">return</span> self.validPartition(nums[<span class="hljs-number">2</span>:]) <span class="hljs-keyword">or</span> self.validPartition(nums[<span class="hljs-number">3</span>:])<br>            <span class="hljs-keyword">if</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>] <span class="hljs-keyword">and</span> nums[<span class="hljs-number">0</span>] != nums[<span class="hljs-number">2</span>]:<br>                <span class="hljs-keyword">return</span> self.validPartition(nums[<span class="hljs-number">2</span>:])<br>            <span class="hljs-keyword">elif</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>]-<span class="hljs-number">1</span> <span class="hljs-keyword">and</span> nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>]-<span class="hljs-number">1</span>:<br>                <span class="hljs-keyword">return</span> self.validPartition(nums[<span class="hljs-number">3</span>:])<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br></code></pre></td></tr></table></figure><blockquote><p>åŠ¨æ€è§„åˆ’ï¼šéå†æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œåˆ¤æ–­è¯¥å…ƒç´ åŠå…¶å‰çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦åˆæ³•ï¼Œæ›´æ–°å½“å‰çš„çŠ¶æ€å³å¯ï¼Œå½“å…¨éƒ¨å…ƒç´ éå†å®Œåå³ä¸ºæœ€åç»“æœã€‚<br>ï¼ˆ1ï¼‰<code>dp</code> æ•°ç»„å…¨éƒ¨åˆå§‹åŒ–ä¸º <code>False</code>ï¼š<br><code>dp[0] = True, dp[1] = False</code>ï¼›<br>è‹¥ <code>nums[0] == nums[1]</code>ï¼ˆ<strong>æ¡ä»¶ä¸€</strong>ï¼‰, åˆ™ <code>dp[2] = True</code>ï¼Œå¦åˆ™ä¸º <code>False</code>ï¼›<br>è‹¥ <code>nums[0] == nums[1] == nums[2]</code>ï¼ˆ<strong>æ¡ä»¶äºŒ</strong>ï¼‰æˆ– <code>nums[0]+1 == nums[1] == nums[2]-1</code>ï¼ˆ<strong>æ¡ä»¶ä¸‰</strong>ï¼‰, åˆ™ <code>dp[3] = True</code>ï¼Œå¦åˆ™ä¸º <code>False</code>ï¼›<br>ï¼ˆ2ï¼‰å¯¹äº <code>nums[i]</code>ï¼Œæœ‰ä»¥ä¸‹ä¸‰ç§æ–¹å¼å¤„ç†ï¼ŒçŠ¶æ€è½¬ç§»è§„åˆ™ä¸ºï¼š<br>a. è‹¥ <code>nums[i]</code> ä¸ <code>nums[i-1]</code> æŒ‰<strong>æ¡ä»¶ä¸€</strong>ç»„æˆå­æ•°ç»„ï¼Œåˆ™ <code>dp[i] = dp[i-2] &amp; nums[i-1] == nums[i]</code>ï¼›<br>b. è‹¥ <code>nums[i]</code> ä¸ <code>nums[i-1]</code>ï¼Œ<code>nums[i-2]</code> æŒ‰<strong>æ¡ä»¶äºŒ</strong>ç»„æˆå­æ•°ç»„ï¼Œåˆ™ <code>dp[i] = dp[i-3] &amp; nums[i-2] == nums[i-1] == nums[i]</code>ï¼›<br>c. è‹¥ <code>nums[i]</code> ä¸ <code>nums[i-1]</code>ï¼Œ<code>nums[i-2]</code> æŒ‰<strong>æ¡ä»¶ä¸‰</strong>ç»„æˆå­æ•°ç»„ï¼Œåˆ™ <code>dp[i] = dp[i-3] &amp; nums[i-2]+1 == nums[i-1] == nums[i]-1</code>ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">validPartition</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">if</span> n == <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>]<br>        <span class="hljs-keyword">elif</span> n == <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">return</span> nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>] <span class="hljs-keyword">or</span> nums[<span class="hljs-number">0</span>]+<span class="hljs-number">1</span> == nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>]-<span class="hljs-number">1</span><br>        <br>        dp = [<span class="hljs-literal">False</span>]*n<br>        dp[<span class="hljs-number">1</span>] = nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>]<br>        dp[<span class="hljs-number">2</span>] = nums[<span class="hljs-number">0</span>] == nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>] <span class="hljs-keyword">or</span> nums[<span class="hljs-number">0</span>]+<span class="hljs-number">1</span> == nums[<span class="hljs-number">1</span>] == nums[<span class="hljs-number">2</span>]-<span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">3</span>, n):<br>            <span class="hljs-keyword">if</span> dp[i-<span class="hljs-number">2</span>] <span class="hljs-keyword">and</span> nums[i-<span class="hljs-number">1</span>] == nums[i]:<br>                dp[i] = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">if</span> dp[i-<span class="hljs-number">3</span>] <span class="hljs-keyword">and</span> nums[i-<span class="hljs-number">2</span>] == nums[i-<span class="hljs-number">1</span>] == nums[i]:<br>                dp[i] = <span class="hljs-literal">True</span><br>            <span class="hljs-keyword">if</span> dp[i-<span class="hljs-number">3</span>] <span class="hljs-keyword">and</span> nums[i-<span class="hljs-number">2</span>]+<span class="hljs-number">1</span> == nums[i-<span class="hljs-number">1</span>] == nums[i]-<span class="hljs-number">1</span>:<br>                dp[i] = <span class="hljs-literal">True</span><br><br>        <span class="hljs-keyword">return</span> dp[n-<span class="hljs-number">1</span>]<br></code></pre></td></tr></table></figure><h2 id="T4-6138-æœ€é•¿ç†æƒ³å­åºåˆ—"><a href="#T4-6138-æœ€é•¿ç†æƒ³å­åºåˆ—" class="headerlink" title="T4 6138. æœ€é•¿ç†æƒ³å­åºåˆ—"></a>T4 <a href="https://leetcode.cn/contest/weekly-contest-305/problems/longest-ideal-subsequence/">6138. æœ€é•¿ç†æƒ³å­åºåˆ—</a></h2><p>ç»™ä½ ä¸€ä¸ªç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² <code>s</code> ï¼Œå’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚å¦‚æœæ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œåˆ™å¯ä»¥å°†å­—ç¬¦ä¸² <code>t</code> è§†ä½œæ˜¯ <strong>ç†æƒ³å­—ç¬¦ä¸²</strong> ï¼š</p><p><code>t</code> æ˜¯å­—ç¬¦ä¸² <code>s</code> çš„ä¸€ä¸ªå­åºåˆ—ã€‚<br><code>t</code> ä¸­æ¯ä¸¤ä¸ª <strong>ç›¸é‚»</strong> å­—æ¯åœ¨å­—æ¯è¡¨ä¸­ä½æ¬¡çš„ç»å¯¹å·®å€¼å°äºæˆ–ç­‰äº <code>k</code> ã€‚<br>è¿”å› <strong>æœ€é•¿</strong> ç†æƒ³å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</p><p>å­—ç¬¦ä¸²çš„å­åºåˆ—åŒæ ·æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶ä¸”å­åºåˆ—è¿˜æ»¡è¶³ï¼šå¯ä»¥ç»ç”±å…¶ä»–å­—ç¬¦ä¸²åˆ é™¤æŸäº›å­—ç¬¦ï¼ˆä¹Ÿå¯ä»¥ä¸åˆ é™¤ï¼‰ä½†ä¸æ”¹å˜å‰©ä½™å­—ç¬¦çš„é¡ºåºå¾—åˆ°ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå­—æ¯è¡¨é¡ºåºä¸ä¼šå¾ªç¯ã€‚ä¾‹å¦‚ï¼Œ<code>&#39;a&#39;</code> å’Œ <code>&#39;z&#39;</code> åœ¨å­—æ¯è¡¨ä¸­ä½æ¬¡çš„ç»å¯¹å·®å€¼æ˜¯ <code>25</code> ï¼Œè€Œä¸æ˜¯ <code>1</code> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šs &#x3D; â€œacfgbdâ€, k &#x3D; 2<br><strong>è¾“å‡º</strong>ï¼š4<br><strong>è§£é‡Š</strong>ï¼šæœ€é•¿ç†æƒ³å­—ç¬¦ä¸²æ˜¯ â€œacbdâ€ ã€‚è¯¥å­—ç¬¦ä¸²é•¿åº¦ä¸º 4 ï¼Œæ‰€ä»¥è¿”å› 4 ã€‚<br>æ³¨æ„ â€œacfgbdâ€ ä¸æ˜¯ç†æƒ³å­—ç¬¦ä¸²ï¼Œå› ä¸º â€˜câ€™ å’Œ â€˜fâ€™ çš„å­—æ¯è¡¨ä½æ¬¡å·®å€¼ä¸º 3 ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>s.length</code> $\leq 10^{5}$<br>$0 \leq$ <code>k</code> $\leq 25$<br><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ</p><blockquote><p>åŠ¨æ€è§„åˆ’ï¼š<code>dp</code> æ•°ç»„è®°å½•ä»¥æŸä¸€å­—æ¯ç»“å°¾çš„æœ€é•¿ç†æƒ³å­—ç¬¦ä¸²é•¿åº¦ï¼›å¯¹äº <code>s[i]</code>ï¼Œå…¶åœ¨å­—æ¯è¡¨ä¸­çš„ç´¢å¼•ä¸º <code>t</code>ï¼Œä»¥å…¶ç»“å°¾çš„æœ€å¤§é•¿åº¦ï¼Œä»…éœ€è€ƒè™‘å…¶ <code>[t-k, t+k]</code> èŒƒå›´å†…çš„å­—æ¯å³å¯ï¼Œè€Œæ— éœ€è€ƒè™‘ <code>s[i]</code> ä¹‹å‰çš„æ‰€æœ‰å­—æ¯ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">longestIdealString</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span>, k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        dp = [<span class="hljs-number">0</span>]*<span class="hljs-number">26</span><br>        n = <span class="hljs-built_in">len</span>(s)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            t = <span class="hljs-built_in">ord</span>(s[i]) - <span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)<br>            dp[t] = <span class="hljs-number">1</span> + <span class="hljs-built_in">max</span>(dp[<span class="hljs-built_in">max</span>(t-k, <span class="hljs-number">0</span>): t+k+<span class="hljs-number">1</span>])<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(dp)<br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-31-ç¬¬-304-åœºå‘¨èµ›"><a href="#2022-07-31-ç¬¬-304-åœºå‘¨èµ›" class="headerlink" title="2022-07-31 ç¬¬ 304 åœºå‘¨èµ›"></a>2022-07-31 ç¬¬ 304 åœºå‘¨èµ›</h1><h2 id="T1-6132-ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äºé›¶"><a href="#T1-6132-ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äºé›¶" class="headerlink" title="T1 6132. ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äºé›¶"></a>T1 <a href="https://leetcode.cn/contest/weekly-contest-304/problems/make-array-zero-by-subtracting-equal-amounts/">6132. ä½¿æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äºé›¶</a></h2><p>ç»™ä½ ä¸€ä¸ªéè´Ÿæ•´æ•°æ•°ç»„ <code>nums</code> ã€‚åœ¨ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¿…é¡»ï¼š</p><p>é€‰å‡ºä¸€ä¸ªæ­£æ•´æ•° <code>x</code> ï¼Œ<code>x</code> éœ€è¦å°äºæˆ–ç­‰äº <code>nums</code> ä¸­ <strong>æœ€å°</strong> çš„ <strong>éé›¶</strong> å…ƒç´ ã€‚<br><code>nums</code> ä¸­çš„æ¯ä¸ªæ­£æ•´æ•°éƒ½å‡å» <code>x</code>ã€‚<br>è¿”å›ä½¿ <code>nums</code> ä¸­æ‰€æœ‰å…ƒç´ éƒ½ç­‰äº <code>0</code> éœ€è¦çš„ <strong>æœ€å°‘</strong> æ“ä½œæ•°ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [1,5,0,3,5]<br><strong>è¾“å‡º</strong>ï¼š3<br><strong>è§£é‡Š</strong>ï¼š<br>ç¬¬ä¸€æ­¥æ“ä½œï¼šé€‰å‡º x &#x3D; 1 ï¼Œä¹‹å nums &#x3D; [0,4,0,2,4] ã€‚<br>ç¬¬äºŒæ­¥æ“ä½œï¼šé€‰å‡º x &#x3D; 2 ï¼Œä¹‹å nums &#x3D; [0,2,0,0,2] ã€‚<br>ç¬¬ä¸‰æ­¥æ“ä½œï¼šé€‰å‡º x &#x3D; 2 ï¼Œä¹‹å nums &#x3D; [0,0,0,0,0] ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>nums.length</code> $\leq 100$<br>$0 \leq$ <code>nums[i]</code> $\leq 100$</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>æ¨¡æ‹Ÿ</strong>ï¼šæ¯æ¬¡å‡æ‰æ•°ç»„ä¸­çš„æœ€å°éé›¶å…ƒç´ å³å¯ï¼Œç›´åˆ°å…¨éƒ¨ç½®é›¶</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minimumOperations</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums.sort()<br>        k = self.helper(nums)<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> k:<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>                <span class="hljs-keyword">if</span> nums[i] &gt; <span class="hljs-number">0</span>:<br>                    nums[i] -= k<br>            k = self.helper(nums)<br>            ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br>        <br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">helper</span>(<span class="hljs-params">self, nums</span>):<br>        <span class="hljs-keyword">for</span> num <span class="hljs-keyword">in</span> nums:<br>            <span class="hljs-keyword">if</span> num &gt; <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> num<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><h2 id="T2-6133-åˆ†ç»„çš„æœ€å¤§æ•°é‡"><a href="#T2-6133-åˆ†ç»„çš„æœ€å¤§æ•°é‡" class="headerlink" title="T2 6133. åˆ†ç»„çš„æœ€å¤§æ•°é‡"></a>T2 <a href="https://leetcode.cn/contest/weekly-contest-304/problems/maximum-number-of-groups-entering-a-competition/">6133. åˆ†ç»„çš„æœ€å¤§æ•°é‡</a></h2><p>ç»™ä½ ä¸€ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>grades</code> ï¼Œè¡¨ç¤ºå¤§å­¦ä¸­ä¸€äº›å­¦ç”Ÿçš„æˆç»©ã€‚ä½ æ‰“ç®—å°† <strong>æ‰€æœ‰</strong> å­¦ç”Ÿåˆ†ä¸ºä¸€äº› <strong>æœ‰åº</strong> çš„éç©ºåˆ†ç»„ï¼Œå…¶ä¸­åˆ†ç»„é—´çš„é¡ºåºæ»¡è¶³ä»¥ä¸‹å…¨éƒ¨æ¡ä»¶ï¼š</p><p>ç¬¬ <code>i</code> ä¸ªåˆ†ç»„ä¸­çš„å­¦ç”Ÿæ€»æˆç»© <strong>å°äº</strong> ç¬¬ <code>(i + 1)</code> ä¸ªåˆ†ç»„ä¸­çš„å­¦ç”Ÿæ€»æˆç»©ï¼Œå¯¹æ‰€æœ‰ç»„å‡æˆç«‹ï¼ˆé™¤äº†æœ€åä¸€ç»„ï¼‰ã€‚<br>ç¬¬ <code>i</code> ä¸ªåˆ†ç»„ä¸­çš„å­¦ç”Ÿæ€»æ•° <strong>å°äº</strong> ç¬¬ <code>(i + 1)</code> ä¸ªåˆ†ç»„ä¸­çš„å­¦ç”Ÿæ€»æ•°ï¼Œå¯¹æ‰€æœ‰ç»„å‡æˆç«‹ï¼ˆé™¤äº†æœ€åä¸€ç»„ï¼‰ã€‚<br>è¿”å›å¯ä»¥å½¢æˆçš„ <strong>æœ€å¤§</strong> ç»„æ•°ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šgrades &#x3D; [10,6,12,7,3,5]<br><strong>è¾“å‡º</strong>ï¼š3<br><strong>è§£é‡Š</strong>ï¼šä¸‹é¢æ˜¯å½¢æˆ 3 ä¸ªåˆ†ç»„çš„ä¸€ç§å¯è¡Œæ–¹æ³•ï¼š<br>-&gt; ç¬¬ 1 ä¸ªåˆ†ç»„çš„å­¦ç”Ÿæˆç»©ä¸º grades &#x3D; [12] ï¼Œæ€»æˆç»©ï¼š12 ï¼Œå­¦ç”Ÿæ•°ï¼š1<br>-&gt; ç¬¬ 2 ä¸ªåˆ†ç»„çš„å­¦ç”Ÿæˆç»©ä¸º grades &#x3D; [6,7] ï¼Œæ€»æˆç»©ï¼š6 + 7 &#x3D; 13 ï¼Œå­¦ç”Ÿæ•°ï¼š2<br>-&gt; ç¬¬ 3 ä¸ªåˆ†ç»„çš„å­¦ç”Ÿæˆç»©ä¸º grades &#x3D; [10,3,5] ï¼Œæ€»æˆç»©ï¼š10 + 3 + 5 &#x3D; 18 ï¼Œå­¦ç”Ÿæ•°ï¼š3<br>å¯ä»¥è¯æ˜æ— æ³•å½¢æˆè¶…è¿‡ 3 ä¸ªåˆ†ç»„ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>grades.length</code> $\leq 10^{5}$<br>$1 \leq$ <code>grades[i]</code> $\leq 10^{5}$</p><blockquote><p>åˆæ˜¯è„‘ç­‹æ€¥è½¬å¼¯ï¼Œå¤§æ— è¯­<br><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>åˆ†ç»„çš„å½¢å¼å¯ä»¥æ˜¯ï¼šå°† <code>n</code> ä¸ªå­¦ç”Ÿåˆ†æˆ <code>k</code> ç»„ï¼Œæ¯ç»„äººæ•°ä¸º <code>1ã€2ã€...ã€k</code>ï¼Œè‹¥ $\frac{k \times (k+1)}{2} &lt; n$ï¼Œå³å¤šå‡ºæ¥ <code>m(&lt; k+1)</code> ä¸ªå­¦ç”Ÿï¼Œåˆ™å°†å¤šå‡ºæ¥çš„å­¦ç”Ÿéšæœºåˆ†é…åˆ°å‰é¢çš„ç»„å†…ã€‚æŒ‰æˆç»©æœ‰åºåˆ†ç»„åˆ™å¯ä»¥æ»¡è¶³æ€»æˆç»©é€’å¢çš„åŸåˆ™ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumGroups</span>(<span class="hljs-params">self, grades: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        i = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> i * (i+<span class="hljs-number">1</span>) // <span class="hljs-number">2</span> &lt;= <span class="hljs-built_in">len</span>(grades):<br>            i += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> i-<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><h2 id="T3-6134-æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹"><a href="#T3-6134-æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹" class="headerlink" title="T3 6134. æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹"></a>T3 <a href="https://leetcode.cn/contest/weekly-contest-304/problems/find-closest-node-to-given-two-nodes/">6134. æ‰¾åˆ°ç¦»ç»™å®šä¸¤ä¸ªèŠ‚ç‚¹æœ€è¿‘çš„èŠ‚ç‚¹</a></h2><p>ç»™ä½ ä¸€ä¸ª <code>n</code> ä¸ªèŠ‚ç‚¹çš„ <strong>æœ‰å‘å›¾</strong> ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º <code>0</code> åˆ° <code>n - 1</code> ï¼Œæ¯ä¸ªèŠ‚ç‚¹ <strong>è‡³å¤š</strong> æœ‰ä¸€æ¡å‡ºè¾¹ã€‚</p><p>æœ‰å‘å›¾ç”¨å¤§å°ä¸º <code>n</code> ä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•°ç»„ <code>edges</code> è¡¨ç¤ºï¼Œè¡¨ç¤ºèŠ‚ç‚¹ <code>i</code> æœ‰ä¸€æ¡æœ‰å‘è¾¹æŒ‡å‘ <code>edges[i]</code> ã€‚å¦‚æœèŠ‚ç‚¹ <code>i</code> æ²¡æœ‰å‡ºè¾¹ï¼Œé‚£ä¹ˆ <code>edges[i] == -1</code> ã€‚</p><p>åŒæ—¶ç»™ä½ ä¸¤ä¸ªèŠ‚ç‚¹ <code>node1</code> å’Œ <code>node2</code> ã€‚</p><p>è¯·ä½ è¿”å›ä¸€ä¸ªä» <code>node1</code> å’Œ <code>node2</code> éƒ½èƒ½åˆ°è¾¾èŠ‚ç‚¹çš„ç¼–å·ï¼Œä½¿èŠ‚ç‚¹ <code>node1</code> å’ŒèŠ‚ç‚¹ <code>node2</code> åˆ°è¿™ä¸ªèŠ‚ç‚¹çš„è·ç¦» è¾ƒå¤§å€¼æœ€å°åŒ–ã€‚å¦‚æœæœ‰å¤šä¸ªç­”æ¡ˆï¼Œè¯·è¿”å› <strong>æœ€å°</strong> çš„èŠ‚ç‚¹ç¼–å·ã€‚å¦‚æœç­”æ¡ˆä¸å­˜åœ¨ï¼Œè¿”å› <code>-1</code> ã€‚</p><p>æ³¨æ„ <code>edges</code> å¯èƒ½åŒ…å«ç¯ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šedges &#x3D; [2,2,3,-1], node1 &#x3D; 0, node2 &#x3D; 1<br><strong>è¾“å‡º</strong>ï¼š2<br><strong>è§£é‡Š</strong>ï¼šä»èŠ‚ç‚¹ 0 åˆ°èŠ‚ç‚¹ 2 çš„è·ç¦»ä¸º 1 ï¼Œä»èŠ‚ç‚¹ 1 åˆ°èŠ‚ç‚¹ 2 çš„è·ç¦»ä¸º 1 ã€‚<br>ä¸¤ä¸ªè·ç¦»çš„è¾ƒå¤§å€¼ä¸º 1 ã€‚æˆ‘ä»¬æ— æ³•å¾—åˆ°ä¸€ä¸ªæ¯” 1 æ›´å°çš„è¾ƒå¤§å€¼ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å›èŠ‚ç‚¹ 2 ã€‚<br><img src="https://s2.loli.net/2022/08/01/ouWwCn3yR51z4G8.png"></p></blockquote><p>æç¤ºï¼š<br><code>n</code> &#x3D;&#x3D; <code>edges.length</code><br>$2 \leq$ <code>n</code> $\leq 10^{5}$<br>$-1 \leq$ <code>edges[i]</code> $&lt;$ <code>n</code><br><code>edges[i]</code> !&#x3D; <code>i</code><br>$0 \leq$ <code>node1</code>, <code>node2</code> $&lt;$ <code>n</code></p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>ä»ä¸¤ä¸ªèŠ‚ç‚¹å¼€å§‹ <code>BFS</code>ï¼Œè®°å½•åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„è·ç¦»ï¼Œæœ€åé€‰æ‹©äºŒè€…å‡èƒ½åˆ°è¾¾ä¸”è·ç¦»æœ€å°çš„å³å¯ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">closestMeetingNode</span>(<span class="hljs-params">self, edges: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], node1: <span class="hljs-built_in">int</span>, node2: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(edges)<br>        dst = [[-<span class="hljs-number">1</span>]*n <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>)]<br>        starts = [node1, node2]<br>        <br>        <span class="hljs-keyword">for</span> i, start <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(starts):<br>            dst[i][start] = <span class="hljs-number">0</span><br>            queue = [start]<br>            dist = <span class="hljs-number">1</span><br>            flag = [<span class="hljs-number">0</span>]*n<br>            <span class="hljs-keyword">while</span> queue:<br>                node = queue.pop(<span class="hljs-number">0</span>)<br>                <span class="hljs-keyword">if</span> edges[node] &gt;= <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">if</span> dst[i][edges[node]] &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dist &lt; dst[i][edges[node]] <span class="hljs-keyword">or</span> dst[i][edges[node]] &lt; <span class="hljs-number">0</span>:<br>                        dst[i][edges[node]] = dist<br>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> flag[edges[node]]:<br>                        queue.append(edges[node])<br>                        flag[edges[node]] = <span class="hljs-number">1</span><br>                dist += <span class="hljs-number">1</span><br>        <br>        minD = inf<br>        retNode = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> dst[<span class="hljs-number">0</span>][i] &gt;= <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> dst[<span class="hljs-number">1</span>][i] &gt;= <span class="hljs-number">0</span>:<br>                dst = <span class="hljs-built_in">max</span>(dst[<span class="hljs-number">0</span>][i], dst[<span class="hljs-number">1</span>][i])<br>                <span class="hljs-keyword">if</span> dst &lt; minD:<br>                    retNode = i<br>                    minD = dst<br>        <span class="hljs-keyword">return</span> retNode<br>                <br></code></pre></td></tr></table></figure><h2 id="T4-6135-å›¾ä¸­çš„æœ€é•¿ç¯"><a href="#T4-6135-å›¾ä¸­çš„æœ€é•¿ç¯" class="headerlink" title="T4 6135. å›¾ä¸­çš„æœ€é•¿ç¯"></a>T4 <a href="https://leetcode.cn/contest/weekly-contest-304/problems/longest-cycle-in-a-graph/">6135. å›¾ä¸­çš„æœ€é•¿ç¯</a></h2><p>ç»™ä½ ä¸€ä¸ª <code>n</code> ä¸ªèŠ‚ç‚¹çš„ <strong>æœ‰å‘å›¾</strong> ï¼ŒèŠ‚ç‚¹ç¼–å·ä¸º <code>0</code> åˆ° <code>n - 1</code> ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹ <strong>è‡³å¤š</strong> æœ‰ä¸€æ¡å‡ºè¾¹ã€‚</p><p>å›¾ç”¨ä¸€ä¸ªå¤§å°ä¸º <code>n</code> ä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•°ç»„ <code>edges</code> è¡¨ç¤ºï¼ŒèŠ‚ç‚¹ <code>i</code> åˆ°èŠ‚ç‚¹ <code>edges[i]</code> ä¹‹é—´æœ‰ä¸€æ¡æœ‰å‘è¾¹ã€‚å¦‚æœèŠ‚ç‚¹ <code>i</code> æ²¡æœ‰å‡ºè¾¹ï¼Œé‚£ä¹ˆ <code>edges[i] == -1</code> ã€‚</p><p>è¯·ä½ è¿”å›å›¾ä¸­çš„ <strong>æœ€é•¿</strong> ç¯ï¼Œå¦‚æœæ²¡æœ‰ä»»ä½•ç¯ï¼Œè¯·è¿”å› <code>-1</code> ã€‚</p><p>ä¸€ä¸ªç¯æŒ‡çš„æ˜¯èµ·ç‚¹å’Œç»ˆç‚¹æ˜¯ <strong>åŒä¸€ä¸ª</strong> èŠ‚ç‚¹çš„è·¯å¾„ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šedges &#x3D; [3,3,4,2,3]<br><strong>è¾“å‡º</strong>ï¼š3<br><strong>è§£é‡Š</strong>ï¼šå›¾ä¸­çš„æœ€é•¿ç¯æ˜¯ï¼š2 -&gt; 4 -&gt; 3 -&gt; 2 ã€‚<br>è¿™ä¸ªç¯çš„é•¿åº¦ä¸º 3 ï¼Œæ‰€ä»¥è¿”å› 3 ã€‚<br><img src="https://s2.loli.net/2022/08/01/mwDHV6cRz8EoiPa.png"></p></blockquote><p>æç¤ºï¼š<br><code>n</code> &#x3D;&#x3D; <code>edges.length</code><br>$2 \leq$ <code>n</code> $\leq 10^{5}$<br>$-1 \leq$ <code>edges[i]</code> $&lt;$ <code>n</code><br><code>edges[i]</code> !&#x3D; <code>i</code></p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>åšå®Œ <code>T3</code>ï¼Œä¸€ç§<strong>å®¹æ˜“æƒ³åˆ°çš„æ€è·¯</strong>æ˜¯ï¼šä»æ¯ä¸ªèŠ‚ç‚¹å¼€å§‹éå†æ•´ä¸ªæœ‰å‘å›¾ï¼Œè‹¥èƒ½åˆ°è¾¾è‡ªèº«èŠ‚ç‚¹åˆ™è¯´æ˜å…¶å¤„äºç¯å†…ï¼Œä¸”è·ç¦»ä¸ºç¯çš„é•¿åº¦ï¼Œéå†æ‰€æœ‰èŠ‚ç‚¹ï¼Œæ›´æ–°æœ€é•¿ç¯çš„é•¿åº¦å³ä¸ºç­”æ¡ˆã€‚æ—¶é—´å¤æ‚åº¦ä¸º $O(N^{2}+N)$ï¼Œè¶…æ—¶æ— ç–‘ã€‚<br><strong>ä¼˜åŒ–æ€è·¯</strong>ï¼š<br>é€šè¿‡<strong>æ‹“æ‰‘æ’åº</strong>ä¾æ¬¡<strong>å»é™¤å…¥åº¦ä¸º <code>0</code> çš„èŠ‚ç‚¹</strong>åï¼Œä»…<strong>ä¿ç•™å¤„äºé—­ç¯å†…çš„èŠ‚ç‚¹</strong>ï¼Œå†é€šè¿‡ä¸Šè¿°æ–¹å¼éå†ï¼Œä¸”æ¯ä¸ªèŠ‚ç‚¹ä»…éœ€è®¿é—®ä¸€éï¼Œ å¯å°† <code>visit</code> æ•°ç»„ç½®äºå¾ªç¯å¤–ã€‚æ—¶é—´å¤æ‚åº¦ä¸º $O(N)$ ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">longestCycle</span>(<span class="hljs-params">self, edges: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(edges)<br>        inDegrees = [<span class="hljs-number">0</span>]*n   <span class="hljs-comment"># å…¥åº¦</span><br>        ret = -<span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> edges:<br>            <span class="hljs-keyword">if</span> node &gt;= <span class="hljs-number">0</span>:<br>                inDegrees[node] += <span class="hljs-number">1</span><br>        <br>        <span class="hljs-comment"># æ‹“æ‰‘æ’åºï¼Œä¾æ¬¡å»é™¤å…¥åº¦ä¸º0çš„èŠ‚ç‚¹</span><br>        queue = [node <span class="hljs-keyword">for</span> node <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n) <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> inDegrees[node]]<br>        <span class="hljs-keyword">while</span> queue:<br>            node = queue.pop() <br>            dst_node = edges[node]<br>            <span class="hljs-keyword">if</span> dst_node &gt;= <span class="hljs-number">0</span>:<br>                inDegrees[dst_node] -= <span class="hljs-number">1</span><br>                <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> inDegrees[dst_node]:<br>                    queue.append(dst_node)<br><br>        visit = [<span class="hljs-number">0</span>]*n<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> inDegrees[i] <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> visit[i]:<br>                <span class="hljs-keyword">continue</span><br>            queue = [i]<br>            dist = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span> queue:<br>                node = queue.pop() <span class="hljs-comment"># æ³¨æ„è¿™é‡Œç”¨ pop()ï¼Œpop(0) å¤æ‚åº¦ä¸º O(N)ï¼Œä¼šè¶…æ—¶                 </span><br>                <span class="hljs-keyword">if</span> edges[node] &gt;= <span class="hljs-number">0</span>:<br>                    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> visit[edges[node]]:      <span class="hljs-comment"># æœªè®¿é—®</span><br>                        queue.append(edges[node])<br>                        visit[edges[node]] = <span class="hljs-number">1</span><br>                    <span class="hljs-keyword">else</span>:                           <span class="hljs-comment"># å·²è®¿é—®ï¼Œé—­ç¯ç»“æŸï¼Œæ›´æ–°æœ€é•¿ç¯</span><br>                        <span class="hljs-keyword">if</span> dist &gt; ret:<br>                            ret = dist<br>                dist += <span class="hljs-number">1</span><br><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-24-ç¬¬-303-åœºå‘¨èµ›"><a href="#2022-07-24-ç¬¬-303-åœºå‘¨èµ›" class="headerlink" title="2022-07-24 ç¬¬ 303 åœºå‘¨èµ›"></a>2022-07-24 ç¬¬ 303 åœºå‘¨èµ›</h1><h2 id="T1-6124-ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯"><a href="#T1-6124-ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯" class="headerlink" title="T1 6124. ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯"></a>T1 <a href="https://leetcode.cn/contest/weekly-contest-303/problems/first-letter-to-appear-twice/">6124. ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯</a></h2><p>ç»™ä½ ä¸€ä¸ªç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸² s ï¼Œè¯·ä½ æ‰¾å‡ºå¹¶è¿”å›ç¬¬ä¸€ä¸ªå‡ºç° ä¸¤æ¬¡ çš„å­—æ¯ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š</p><ul><li>å¦‚æœ a çš„ ç¬¬äºŒæ¬¡ å‡ºç°æ¯” b çš„ ç¬¬äºŒæ¬¡ å‡ºç°åœ¨å­—ç¬¦ä¸²ä¸­çš„ä½ç½®æ›´é å‰ï¼Œåˆ™è®¤ä¸ºå­—æ¯ a åœ¨å­—æ¯ b ä¹‹å‰å‡ºç°ä¸¤æ¬¡ã€‚</li><li>s åŒ…å«è‡³å°‘ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯ã€‚</li></ul><blockquote><p><strong>è¾“å…¥</strong>ï¼šs &#x3D; â€œabccbaaczâ€<br><strong>è¾“å‡º</strong>ï¼šâ€câ€<br><strong>è§£é‡Š</strong>ï¼š<br>å­—æ¯ â€˜aâ€™ åœ¨ä¸‹æ ‡ 0 ã€5 å’Œ 6 å¤„å‡ºç°ã€‚<br>å­—æ¯ â€˜bâ€™ åœ¨ä¸‹æ ‡ 1 å’Œ 4 å¤„å‡ºç°ã€‚<br>å­—æ¯ â€˜câ€™ åœ¨ä¸‹æ ‡ 2 ã€3 å’Œ 7 å¤„å‡ºç°ã€‚<br>å­—æ¯ â€˜zâ€™ åœ¨ä¸‹æ ‡ 8 å¤„å‡ºç°ã€‚<br>å­—æ¯ â€˜câ€™ æ˜¯ç¬¬ä¸€ä¸ªå‡ºç°ä¸¤æ¬¡çš„å­—æ¯ï¼Œå› ä¸ºåœ¨æ‰€æœ‰å­—æ¯ä¸­ï¼Œâ€™câ€™ ç¬¬äºŒæ¬¡å‡ºç°çš„ä¸‹æ ‡æ˜¯æœ€å°çš„ã€‚</p></blockquote><p>æç¤ºï¼š<br>$2 \leq$ <code>s.length</code> $\leq 100$<br><code>s</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<br><code>s</code> åŒ…å«è‡³å°‘ä¸€ä¸ªé‡å¤å­—æ¯</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>å“ˆå¸Œè¡¨ï¼‹æ¨¡æ‹Ÿ</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">repeatedCharacter</span>(<span class="hljs-params">self, s: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        hashmap = [<span class="hljs-number">0</span>]*<span class="hljs-number">26</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s)):<br>            t = <span class="hljs-built_in">ord</span>(s[i])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;a&#x27;</span>)<br>            hashmap[t] += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> hashmap[t] == <span class="hljs-number">2</span>:<br>                <span class="hljs-keyword">return</span> s[i]<br></code></pre></td></tr></table></figure><h2 id="T2-6125-ç›¸ç­‰è¡Œåˆ—å¯¹"><a href="#T2-6125-ç›¸ç­‰è¡Œåˆ—å¯¹" class="headerlink" title="T2 6125. ç›¸ç­‰è¡Œåˆ—å¯¹"></a>T2 <a href="https://leetcode.cn/contest/weekly-contest-303/problems/equal-row-and-column-pairs/">6125. ç›¸ç­‰è¡Œåˆ—å¯¹</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹ã€å¤§å°ä¸º <code>n x n</code> çš„æ•´æ•°çŸ©é˜µ <code>grid</code> ï¼Œè¿”å›æ»¡è¶³ <code>Ri</code> è¡Œå’Œ <code>Cj</code> åˆ—ç›¸ç­‰çš„è¡Œåˆ—å¯¹ <code>(Ri, Cj)</code> çš„æ•°ç›®ã€‚</p><p>å¦‚æœè¡Œå’Œåˆ—ä»¥ç›¸åŒçš„é¡ºåºåŒ…å«ç›¸åŒçš„å…ƒç´ ï¼ˆå³ç›¸ç­‰çš„æ•°ç»„ï¼‰ï¼Œåˆ™è®¤ä¸ºäºŒè€…æ˜¯ç›¸ç­‰çš„ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šgrid &#x3D; [[3,1,2,2],[1,4,4,5],[2,4,2,2],[2,4,2,2]]<br><strong>è¾“å‡º</strong>ï¼š3<br><strong>è§£é‡Š</strong>ï¼šå­˜åœ¨ä¸‰å¯¹ç›¸ç­‰è¡Œåˆ—å¯¹ï¼š<br>-&gt; (ç¬¬ 0 è¡Œï¼Œç¬¬ 0 åˆ—)ï¼š[3,1,2,2]<br>-&gt; (ç¬¬ 2 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]<br>-&gt; (ç¬¬ 3 è¡Œ, ç¬¬ 2 åˆ—)ï¼š[2,4,2,2]<br><img src="https://s2.loli.net/2022/07/24/DOSv9eRTg2JaFXt.jpg" width=128 height=128 left=0/></p></blockquote><p>æç¤ºï¼š<br><code>n</code> &#x3D;&#x3D; <code>grid.length</code> &#x3D;&#x3D; <code>grid[i].length</code><br>$1 \leq$ <code>n</code> $\leq 200$<br>$1 \leq$ <code>grid[i][j]</code> $\leq 10^{5}$</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>æš´åŠ›å³å¯ï¼Œå¯¹æ¯”æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">equalPairs</span>(<span class="hljs-params">self, grid: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        n = <span class="hljs-built_in">len</span>(grid)<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                <span class="hljs-keyword">if</span> grid[i] == [grid[k][j] <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n)]:<br>                    ret += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h2 id="T3-6126-è®¾è®¡é£Ÿç‰©è¯„åˆ†ç³»ç»Ÿ"><a href="#T3-6126-è®¾è®¡é£Ÿç‰©è¯„åˆ†ç³»ç»Ÿ" class="headerlink" title="T3 6126. è®¾è®¡é£Ÿç‰©è¯„åˆ†ç³»ç»Ÿ"></a>T3 <a href="https://leetcode.cn/contest/weekly-contest-303/problems/design-a-food-rating-system/">6126. è®¾è®¡é£Ÿç‰©è¯„åˆ†ç³»ç»Ÿ</a></h2><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒä¸‹è¿°æ“ä½œçš„é£Ÿç‰©è¯„åˆ†ç³»ç»Ÿï¼š</p><p>ä¿®æ”¹ ç³»ç»Ÿä¸­åˆ—å‡ºçš„æŸç§é£Ÿç‰©çš„è¯„åˆ†ã€‚<br>è¿”å›ç³»ç»Ÿä¸­æŸä¸€ç±»çƒ¹é¥ªæ–¹å¼ä¸‹è¯„åˆ†æœ€é«˜çš„é£Ÿç‰©ã€‚<br>å®ç° <code>FoodRatings</code> ç±»ï¼š</p><ul><li><code>FoodRatings(String[] foods, String[] cuisines, int[] ratings)</code> åˆå§‹åŒ–ç³»ç»Ÿã€‚é£Ÿç‰©ç”± <code>foods</code>ã€<code>cuisines</code> å’Œ <code>ratings</code> æè¿°ï¼Œé•¿åº¦å‡ä¸º <code>n</code> ã€‚</li><li><code>foods[i]</code> æ˜¯ç¬¬ <code>i</code> ç§é£Ÿç‰©çš„åå­—ã€‚</li><li><code>cuisines[i]</code> æ˜¯ç¬¬ <code>i</code> ç§é£Ÿç‰©çš„çƒ¹é¥ªæ–¹å¼ã€‚</li><li><code>ratings[i]</code> æ˜¯ç¬¬ <code>i</code> ç§é£Ÿç‰©çš„æœ€åˆè¯„åˆ†ã€‚</li><li><code>void changeRating(String food, int newRating)</code> ä¿®æ”¹åå­—ä¸º <code>food</code> çš„é£Ÿç‰©çš„è¯„åˆ†ã€‚</li><li><code>String highestRated(String cuisine)</code> è¿”å›æŒ‡å®šçƒ¹é¥ªæ–¹å¼ <code>cuisine</code> ä¸‹è¯„åˆ†æœ€é«˜çš„é£Ÿç‰©çš„åå­—ã€‚å¦‚æœå­˜åœ¨å¹¶åˆ—ï¼Œè¿”å› <strong>å­—å…¸åºè¾ƒå°</strong> çš„åå­—ã€‚<br><strong>æ³¨æ„</strong>ï¼šå­—ç¬¦ä¸² <code>x</code> çš„å­—å…¸åºæ¯”å­—ç¬¦ä¸² <code>y</code> æ›´å°çš„å‰ææ˜¯ï¼š<code>x</code> åœ¨å­—å…¸ä¸­å‡ºç°çš„ä½ç½®åœ¨ <code>y</code> ä¹‹å‰ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¦ä¹ˆ <code>x</code> æ˜¯ <code>y</code> çš„å‰ç¼€ï¼Œæˆ–è€…åœ¨æ»¡è¶³ <code>x[i] != y[i]</code> çš„ç¬¬ä¸€ä¸ªä½ç½® <code>i</code> å¤„ï¼Œ<code>x[i]</code> åœ¨å­—æ¯è¡¨ä¸­å‡ºç°çš„ä½ç½®åœ¨ <code>y[i]</code> ä¹‹å‰ã€‚</li></ul><blockquote><p><strong>è¾“å…¥</strong>:<br>[â€œFoodRatingsâ€, â€œhighestRatedâ€, â€œhighestRatedâ€, â€œchangeRatingâ€, â€œhighestRatedâ€, â€œchangeRatingâ€, â€œhighestRatedâ€]<br>[[[â€œkimchiâ€, â€œmisoâ€, â€œsushiâ€, â€œmoussakaâ€, â€œramenâ€, â€œbulgogiâ€], [â€œkoreanâ€, â€œjapaneseâ€, â€œjapaneseâ€, â€œgreekâ€, â€œjapaneseâ€, â€œkoreanâ€], [9, 12, 8, 15, 14, 7]], [â€œkoreanâ€], [â€œjapaneseâ€], [â€œsushiâ€, 16], [â€œjapaneseâ€], [â€œramenâ€, 16], [â€œjapaneseâ€]]<br><strong>è¾“å‡º</strong>:<br>[null, â€œkimchiâ€, â€œramenâ€, null, â€œsushiâ€, null, â€œramenâ€]<br><strong>è§£é‡Š</strong>:<br>FoodRatings foodRatings &#x3D; new FoodRatings([â€œkimchiâ€, â€œmisoâ€, â€œsushiâ€, â€œmoussakaâ€, â€œramenâ€, â€œbulgogiâ€], [â€œkoreanâ€, â€œjapaneseâ€, â€œjapaneseâ€, â€œgreekâ€, â€œjapaneseâ€, â€œkoreanâ€], [9, 12, 8, 15, 14, 7]);<br>foodRatings.highestRated(â€œkoreanâ€); &#x2F;&#x2F; è¿”å› â€œkimchiâ€ï¼Œkimchiâ€ æ˜¯åˆ†æ•°æœ€é«˜çš„éŸ©å¼æ–™ç†ï¼Œè¯„åˆ†ä¸º 9 ã€‚<br>foodRatings.highestRated(â€œjapaneseâ€); &#x2F;&#x2F; è¿”å› â€œramenâ€ï¼Œâ€ramenâ€ æ˜¯åˆ†æ•°æœ€é«˜çš„æ—¥å¼æ–™ç†ï¼Œè¯„åˆ†ä¸º 14 ã€‚<br>foodRatings.changeRating(â€œsushiâ€, 16); &#x2F;&#x2F; â€œsushiâ€ ç°åœ¨è¯„åˆ†å˜æ›´ä¸º 16 ã€‚<br>foodRatings.highestRated(â€œjapaneseâ€); &#x2F;&#x2F; è¿”å› â€œsushiâ€ï¼Œâ€sushiâ€ æ˜¯åˆ†æ•°æœ€é«˜çš„æ—¥å¼æ–™ç†ï¼Œè¯„åˆ†ä¸º 16 ã€‚<br>foodRatings.changeRating(â€œramenâ€, 16); &#x2F;&#x2F; â€œramenâ€ ç°åœ¨è¯„åˆ†å˜æ›´ä¸º 16 ã€‚<br>foodRatings.highestRated(â€œjapaneseâ€); &#x2F;&#x2F; è¿”å› â€œramenâ€ï¼Œâ€sushiâ€ å’Œ â€œramenâ€ çš„è¯„åˆ†éƒ½æ˜¯ 16ï¼Œä½†æ˜¯ï¼Œâ€ramenâ€ çš„å­—å…¸åºæ¯” â€œsushiâ€ æ›´å°ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>n</code> $\leq 2 * 10^{4}$<br><code>n</code> &#x3D;&#x3D; <code>foods.length</code> &#x3D;&#x3D; <code>cuisines.length</code> &#x3D;&#x3D; <code>ratings.length</code><br>$1 \leq$ <code>foods[i].length, cuisines[i].length</code> $\leq 10$<br><code>foods[i]ã€cuisines[i]</code> ç”±å°å†™è‹±æ–‡å­—æ¯ç»„æˆ<br>$1 \leq$ <code>ratings[i]</code> $\leq 10^{8}$<br><code>foods</code> ä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸² <strong>äº’ä¸ç›¸åŒ</strong><br>åœ¨å¯¹Â <code>changeRating</code> çš„æ‰€æœ‰è°ƒç”¨ä¸­ï¼Œ<code>food</code> æ˜¯ç³»ç»Ÿä¸­é£Ÿç‰©çš„åå­—ã€‚<br>åœ¨å¯¹Â <code>highestRated</code> çš„æ‰€æœ‰è°ƒç”¨ä¸­ï¼Œ<code>cuisine</code> æ˜¯ç³»ç»Ÿä¸­ <strong>è‡³å°‘ä¸€ç§</strong> é£Ÿç‰©çš„çƒ¹é¥ªæ–¹å¼ã€‚<br>æœ€å¤šè°ƒç”¨ <code>changeRating</code> å’Œ <code>highestRated</code> æ€»è®¡ $2 * 10^{4}$ æ¬¡</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>å»ºç«‹æ˜ å°„ï¼š å°† <code>food[i]</code> çš„çƒ¹é¥ªæ–¹å¼ <code>cuisines[i]</code> å’Œ æœ€åˆè¯„åˆ† <code>ratings[i]</code> å­˜å…¥ä¸€ä¸ªå­—å…¸ä¸­ã€‚å°† <code>cuisines[i]</code> çš„ä¸‹æ‰€æœ‰é£Ÿç‰©å’Œæœ€åˆè¯„åˆ†å­˜å…¥ä¸€ä¸ªå­—å…¸ä¸­ï¼Œå¹¶æŒ‰ç…§è¯„åˆ†æ’åºã€‚<br><strong>å®ç°æ–¹å¼</strong>ï¼š<br>åˆ©ç”¨ <code>defaultdict</code> å»ºç«‹å­—å…¸ï¼Œç›¸æ¯”äº <code>dict</code>ï¼Œå…¶å¯ä»¥é¿å…å­—å…¸ä¸­ <code>key</code> å€¼ä¸å­˜åœ¨æ—¶çš„ <code>KeyError</code> å¼‚å¸¸ï¼Œ<code>SortedList</code> ç”¨äºè¯„åˆ†æ’åºï¼Œå…¶æ’å…¥å…ƒç´ çš„æ—¶é—´å¤æ‚åº¦ä¸º $O(logn)$<br><strong><code>Dict + SortedList</code> å¯ä»¥è§£å†³æ‰€æœ‰è¿™ç±»é—®é¢˜</strong></p></blockquote><blockquote><p><code>defaultdict</code> ä½¿ç”¨è¯¦è§£ï¼š<code>defaultdict</code> åœ¨åˆå§‹åŒ–æ—¶å¯ä»¥æä¾›ä¸€ä¸ª <code>default_factory</code> çš„å‚æ•°ï¼Œ<code>default_factory</code> æ¥æ”¶ä¸€ä¸ªå·¥å‚å‡½æ•°ä½œä¸ºå‚æ•°ï¼Œ å¯ä»¥æ˜¯ <code>int</code>ã€<code>str</code>ã€<code>list</code> ç­‰å†…ç½®å‡½æ•°ï¼Œä¹Ÿå¯ä»¥æ˜¯ <strong>è‡ªå®šä¹‰å‡½æ•°</strong>ã€‚å…¶ä»–æ–¹æ³•ä¸ <code>dict</code> ä¸€è‡´ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList<br><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> defaultdict<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FoodRatings</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, foods: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], cuisines: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], ratings: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>):<br>        self.food_cuisine = defaultdict(<span class="hljs-built_in">str</span>)<br>        self.food_rating = defaultdict(<span class="hljs-built_in">int</span>)<br>        self.cuisine = defaultdict(<span class="hljs-keyword">lambda</span>: SortedList(key=<span class="hljs-keyword">lambda</span> x: (-x[<span class="hljs-number">1</span>], x[<span class="hljs-number">0</span>])))<br>        n = <span class="hljs-built_in">len</span>(foods)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            self.food_cuisine[foods[i]] = cuisines[i]              <span class="hljs-comment"># food -&gt; cuisine</span><br>            self.food_rating[foods[i]] = ratings[i]                <span class="hljs-comment"># food -&gt; rating</span><br>            self.cuisine[cuisines[i]].add([foods[i], ratings[i]])  <span class="hljs-comment"># cuisine -&gt; [food, rating]</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">changeRating</span>(<span class="hljs-params">self, food: <span class="hljs-built_in">str</span>, newRating: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        cuisine = self.food_cuisine[food]<br>        rating = self.food_rating[food]<br>        self.cuisine[cuisine].discard([food, rating])   <span class="hljs-comment"># åˆ é™¤å·²æœ‰è¯„åˆ†è®°å½•ï¼Œè¿™é‡Œç”¨ discard ä»¥é˜²æŠ¥é”™</span><br>        self.food_rating[food] = newRating              <span class="hljs-comment"># æ›´æ–° food -&gt; rating</span><br>        self.cuisine[cuisine].add([food, newRating])    <span class="hljs-comment"># æ·»åŠ è¯„åˆ†è®°å½• cuisine -&gt; [food, rating]</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">highestRated</span>(<span class="hljs-params">self, cuisine: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-comment"># è®¾å®šäº†æŒ‰è¯„åˆ†çš„è´Ÿå€¼æ’åºï¼Œå½“æœ€å¤§è¯„åˆ†æœ‰å¤šä¸ª food æ—¶ï¼Œå­—å…¸åºæ›´å°çš„ä¼šåœ¨å‰</span><br>        <span class="hljs-keyword">return</span> self.cuisine[cuisine][<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]<br><br><br><span class="hljs-comment"># Your FoodRatings object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = FoodRatings(foods, cuisines, ratings)</span><br><span class="hljs-comment"># obj.changeRating(food,newRating)</span><br><span class="hljs-comment"># param_2 = obj.highestRated(cuisine)</span><br></code></pre></td></tr></table></figure><h2 id="T4-6127-ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®"><a href="#T4-6127-ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®" class="headerlink" title="T4 6127. ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®"></a>T4 <a href="https://leetcode.cn/contest/weekly-contest-303/problems/number-of-excellent-pairs/">6127. ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ­£æ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ­£æ•´æ•° <code>k</code> ã€‚</p><p>å¦‚æœæ»¡è¶³ä¸‹è¿°æ¡ä»¶ï¼Œåˆ™æ•°å¯¹ <code>(num1, num2)</code> æ˜¯ <strong>ä¼˜è´¨æ•°å¯¹</strong> ï¼š</p><ul><li><code>num1</code> å’Œ <code>num2</code> <strong>éƒ½</strong> åœ¨æ•°ç»„ <code>nums</code> ä¸­å­˜åœ¨ã€‚</li><li><code>num1 OR num2</code> å’Œ <code>num1 AND num2</code> çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­å€¼ä¸º <code>1</code> çš„ä½æ•°ä¹‹å’Œå¤§äºç­‰äº <code>k</code> ï¼Œå…¶ä¸­ <code>OR</code> æ˜¯æŒ‰ä½ <strong>æˆ–</strong> æ“ä½œï¼Œè€Œ <code>AND</code> æ˜¯æŒ‰ä½ <strong>ä¸</strong> æ“ä½œã€‚<br>è¿”å› <strong>ä¸åŒ</strong> ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®ã€‚</li></ul><p>å¦‚æœ <code>a != c</code> æˆ–è€… <code>b != d</code> ï¼Œåˆ™è®¤ä¸º <code>(a, b)</code> å’Œ <code>(c, d)</code> æ˜¯ä¸åŒçš„ä¸¤ä¸ªæ•°å¯¹ã€‚ä¾‹å¦‚ï¼Œ<code>(1, 2)</code> å’Œ <code>(2, 1)</code> ä¸åŒã€‚</p><p><strong>æ³¨æ„</strong>ï¼šå¦‚æœ <code>num1</code> åœ¨æ•°ç»„ä¸­è‡³å°‘å‡ºç° <strong>ä¸€æ¬¡</strong> ï¼Œåˆ™æ»¡è¶³ <code>num1 == num2</code> çš„æ•°å¯¹ <code>(num1, num2)</code> ä¹Ÿå¯ä»¥æ˜¯ä¼˜è´¨æ•°å¯¹ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [1,2,3,1], k &#x3D; 3<br><strong>è¾“å‡º</strong>ï¼š5<br><strong>è§£é‡Š</strong>ï¼šæœ‰å¦‚ä¸‹å‡ ä¸ªä¼˜è´¨æ•°å¯¹ï¼š<br>-&gt; (3, 3)ï¼š(3 AND 3) å’Œ (3 OR 3) çš„äºŒè¿›åˆ¶è¡¨ç¤ºéƒ½ç­‰äº (11) ã€‚å€¼ä¸º 1 çš„ä½æ•°å’Œç­‰äº 2 + 2 &#x3D; 4 ï¼Œå¤§äºç­‰äº k &#x3D; 3 ã€‚<br>-&gt; (2, 3) å’Œ (3, 2)ï¼š (2 AND 3) çš„äºŒè¿›åˆ¶è¡¨ç¤ºç­‰äº (10) ï¼Œ(2 OR 3) çš„äºŒè¿›åˆ¶è¡¨ç¤ºç­‰äº (11) ã€‚å€¼ä¸º 1 çš„ä½æ•°å’Œç­‰äº 1 + 2 &#x3D; 3 ã€‚<br>-&gt; (1, 3) å’Œ (3, 1)ï¼š (1 AND 3) çš„äºŒè¿›åˆ¶è¡¨ç¤ºç­‰äº (01) ï¼Œ(1 OR 3) çš„äºŒè¿›åˆ¶è¡¨ç¤ºç­‰äº (11) ã€‚å€¼ä¸º 1 çš„ä½æ•°å’Œç­‰äº 1 + 2 &#x3D; 3 ã€‚<br>æ‰€ä»¥ä¼˜è´¨æ•°å¯¹çš„æ•°ç›®æ˜¯ 5 ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>nums.length</code> $\leq 10^{5}$<br>$1 \leq$ <code>nums[i]</code> $\leq 10^{9}$<br>$1 \leq$ <code>k</code> $\leq 60$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">countExcellentPairs</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], k: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        nums = <span class="hljs-built_in">list</span>(<span class="hljs-built_in">set</span>(nums))<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        bits = []<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            bit = self.helper(nums[i])<br>            <span class="hljs-keyword">if</span> <span class="hljs-number">2</span>*bit &gt;= k:<br>                ret += <span class="hljs-number">1</span><br>            bits.append([nums[i], bit])<br><br>        bits.sort(key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">1</span>])<br>        left, right = <span class="hljs-number">0</span>, n-<span class="hljs-number">1</span><br>        <br>        <span class="hljs-keyword">while</span> left &lt; right:<br>            <span class="hljs-keyword">if</span> bits[left][<span class="hljs-number">1</span>] + bits[right][<span class="hljs-number">1</span>] &gt;= k:<br>                ret += (right-left)*<span class="hljs-number">2</span><br>                right -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>:<br>                left += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> ret<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">helper</span>(<span class="hljs-params">self, n</span>):<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">if</span> n % <span class="hljs-number">2</span> == <span class="hljs-number">1</span>:<br>                ret += <span class="hljs-number">1</span><br>            n = n//<span class="hljs-number">2</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-23-ç¬¬-83-åœºåŒå‘¨èµ›"><a href="#2022-07-23-ç¬¬-83-åœºåŒå‘¨èµ›" class="headerlink" title="2022-07-23 ç¬¬ 83 åœºåŒå‘¨èµ›"></a>2022-07-23 ç¬¬ 83 åœºåŒå‘¨èµ›</h1><h2 id="T1-6128-æœ€å¥½çš„æ‰‘å…‹æ‰‹ç‰Œ"><a href="#T1-6128-æœ€å¥½çš„æ‰‘å…‹æ‰‹ç‰Œ" class="headerlink" title="T1 6128. æœ€å¥½çš„æ‰‘å…‹æ‰‹ç‰Œ"></a>T1 <a href="https://leetcode.cn/contest/biweekly-contest-83/problems/best-poker-hand/">6128. æœ€å¥½çš„æ‰‘å…‹æ‰‹ç‰Œ</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>ranks</code> å’Œä¸€ä¸ªå­—ç¬¦æ•°ç»„ <code>suit</code> ã€‚ä½ æœ‰ <code>5</code> å¼ æ‰‘å…‹ç‰Œï¼Œç¬¬ <code>i</code> å¼ ç‰Œå¤§å°ä¸º <code>ranks[i]</code> ï¼ŒèŠ±è‰²ä¸º <code>suits[i]</code> ã€‚</p><p>ä¸‹è¿°æ˜¯ä»å¥½åˆ°åä½ å¯èƒ½æŒæœ‰çš„ <strong>æ‰‹ç‰Œç±»å‹</strong> ï¼š</p><p>1ã€<code>&quot;Flush&quot;</code>ï¼šåŒèŠ±ï¼Œäº”å¼ ç›¸åŒèŠ±è‰²çš„æ‰‘å…‹ç‰Œã€‚<br>2ã€<code>&quot;Three of a Kind&quot;</code>ï¼šä¸‰æ¡ï¼Œæœ‰ <code>3</code> å¼ å¤§å°ç›¸åŒçš„æ‰‘å…‹ç‰Œã€‚<br>3ã€<code>&quot;Pair&quot;</code>ï¼šå¯¹å­ï¼Œä¸¤å¼ å¤§å°ä¸€æ ·çš„æ‰‘å…‹ç‰Œã€‚<br>4ã€<code>&quot;High Card&quot;</code>ï¼šé«˜ç‰Œï¼Œäº”å¼ å¤§å°äº’ä¸ç›¸åŒçš„æ‰‘å…‹ç‰Œã€‚<br>è¯·ä½ è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºç»™å®šçš„ <code>5</code> å¼ ç‰Œä¸­ï¼Œä½ èƒ½ç»„æˆçš„ <strong>æœ€å¥½æ‰‹ç‰Œç±»å‹</strong> ã€‚</p><p><strong>æ³¨æ„</strong>ï¼šè¿”å›çš„å­—ç¬¦ä¸² å¤§å°å†™ éœ€ä¸é¢˜ç›®æè¿°ç›¸åŒã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šranks &#x3D; [4,4,2,4,4], suits &#x3D; [â€œdâ€,â€aâ€,â€aâ€,â€bâ€,â€câ€]<br><strong>è¾“å‡º</strong>ï¼šâ€Three of a Kindâ€<br><strong>è§£é‡Š</strong>ï¼šç¬¬ä¸€ã€äºŒå’Œå››å¼ ç‰Œç»„æˆä¸‰å¼ ç›¸åŒå¤§å°çš„æ‰‘å…‹ç‰Œï¼Œæ‰€ä»¥å¾—åˆ° â€œThree of a Kindâ€ ã€‚<br>æ³¨æ„æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—åˆ° â€œPairâ€ ï¼Œä½†æ˜¯ â€œThree of a Kindâ€ æ˜¯æ›´å¥½çš„æ‰‹ç‰Œç±»å‹ã€‚<br>æœ‰å…¶ä»–çš„ 3 å¼ ç‰Œä¹Ÿå¯ä»¥ç»„æˆ â€œThree of a Kindâ€ æ‰‹ç‰Œç±»å‹ã€‚</p></blockquote><p>æç¤ºï¼š<br><code>ranks.length</code> &#x3D;&#x3D; <code>suits.length</code> &#x3D;&#x3D; 5<br>1 $\leq$ <code>ranks[i]</code> $\leq$ 13<br>â€˜aâ€™ $\leq$ <code>suits[i]</code> $\leq$  â€˜dâ€™<br>ä»»æ„ä¸¤å¼ æ‰‘å…‹ç‰Œä¸ä¼šåŒæ—¶æœ‰ç›¸åŒçš„å¤§å°å’ŒèŠ±è‰²ã€‚</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br>ç›´æ¥æ¨¡æ‹Ÿå³å¯</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">bestHand</span>(<span class="hljs-params">self, ranks: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], suits: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>]</span>) -&gt; <span class="hljs-built_in">str</span>:<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(<span class="hljs-built_in">set</span>(suits)) == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Flush&quot;</span><br>        ranks.sort()<br>        ranks_set = <span class="hljs-built_in">set</span>(ranks)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(ranks_set) &lt;= <span class="hljs-number">3</span>:<br>            <span class="hljs-keyword">if</span> ranks.count(ranks[<span class="hljs-number">2</span>]) &gt;= <span class="hljs-number">3</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Three of a Kind&quot;</span><br>            <span class="hljs-keyword">else</span>:<br>                <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Pair&quot;</span><br>        <span class="hljs-keyword">elif</span> <span class="hljs-built_in">len</span>(ranks_set) == <span class="hljs-number">4</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Pair&quot;</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;High Card&quot;</span><br></code></pre></td></tr></table></figure><h2 id="T2-6129-å…¨-0-å­æ•°ç»„çš„æ•°ç›®"><a href="#T2-6129-å…¨-0-å­æ•°ç»„çš„æ•°ç›®" class="headerlink" title="T2 6129. å…¨ 0 å­æ•°ç»„çš„æ•°ç›®"></a>T2 <a href="https://leetcode.cn/contest/biweekly-contest-83/problems/number-of-zero-filled-subarrays/">6129. å…¨ 0 å­æ•°ç»„çš„æ•°ç›®</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> ï¼Œè¿”å›å…¨éƒ¨ä¸º <code>0</code> çš„ <strong>å­æ•°ç»„</strong> æ•°ç›®ã€‚</p><p><strong>å­æ•°ç»„</strong> æ˜¯ä¸€ä¸ªæ•°ç»„ä¸­ä¸€æ®µè¿ç»­éç©ºå…ƒç´ ç»„æˆçš„åºåˆ—ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [0,0,0,2,0,0]<br><strong>è¾“å‡º</strong>ï¼š9<br><strong>è§£é‡Š</strong>ï¼š<br>å­æ•°ç»„ [0] å‡ºç°äº† 5 æ¬¡ã€‚<br>å­æ•°ç»„ [0,0] å‡ºç°äº† 3 æ¬¡ã€‚<br>å­æ•°ç»„ [0,0,0] å‡ºç°äº† 1 æ¬¡ã€‚<br>ä¸å­˜åœ¨é•¿åº¦å¤§äº 3 çš„å…¨ 0 å­æ•°ç»„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› 9 ã€‚</p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>nums.length</code> $\leq 10^{5}$<br>$-10^{9} \leq$ <code>nums[i]</code> $\leq 10^{9}$</p><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>æ•°å­¦é¢˜</strong>ï¼šè®°å½•è¿ç»­çš„ <code>0</code> çš„ä¸ªæ•°ï¼Œç„¶åå¯¹äºæ¯ä¸ªè¿ç»­é•¿åº¦ä¸º <code>n</code> çš„ <code>0</code> åºåˆ—ï¼Œå…¶ä¸­åŒ…å«äº†é•¿åº¦ <code>n-k+1</code> ä¸ªä¸º <code>k</code> çš„ <code>0</code> åºåˆ—ï¼Œï¼ˆå¦‚ä¸€ä¸ªé•¿åº¦ä¸º <code>3</code> çš„ <code>0</code> åºåˆ—ï¼Œå…¶åŒ…å«äº† <code>3</code> ä¸ªé•¿åº¦ä¸º <code>1</code>ï¼Œ<code>2</code> ä¸ªé•¿åº¦ä¸º <code>2</code>ï¼Œ<code>1</code> ä¸ªé•¿åº¦ä¸º <code>3</code> çš„ <code>0</code> åºåˆ—ï¼‰ã€‚æ˜“çŸ¥ï¼Œé•¿åº¦ä¸º <code>n</code> çš„ <code>0</code> åºåˆ—åŒ…å«äº† $\sum_{i&#x3D;1}^{n}i$ ä¸ªå…¨ <code>0</code> å­æ•°ç»„ã€‚å¯¹æ¯ä¸ª <code>0</code> åºåˆ—çš„é•¿åº¦è®¡ç®—ä»¥ä¸Šå€¼ç´¯åŠ å³ä¸ºç­”æ¡ˆã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">zeroFilledSubarray</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        cnt = <span class="hljs-number">0</span><br>        temp = []<br>        ret = <span class="hljs-number">0</span><br>        nums.append(-<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            <span class="hljs-keyword">if</span> nums[i] == <span class="hljs-number">0</span>:<br>                cnt += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">elif</span> nums[i] != <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> cnt &gt; <span class="hljs-number">0</span>:<br>                temp.append(cnt)<br>                cnt = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> t <span class="hljs-keyword">in</span> temp:<br>            ret += t*(t+<span class="hljs-number">1</span>)//<span class="hljs-number">2</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h2 id="T3-6130-è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ"><a href="#T3-6130-è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ" class="headerlink" title="T3 6130. è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ"></a>T3 <a href="https://leetcode.cn/contest/biweekly-contest-83/problems/design-a-number-container-system/">6130. è®¾è®¡æ•°å­—å®¹å™¨ç³»ç»Ÿ</a></h2><p>è®¾è®¡ä¸€ä¸ªæ•°å­—å®¹å™¨ç³»ç»Ÿï¼Œå¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p><p>åœ¨ç³»ç»Ÿä¸­ç»™å®šä¸‹æ ‡å¤„ <strong>æ’å…¥</strong> æˆ–è€… <strong>æ›¿æ¢</strong> ä¸€ä¸ªæ•°å­—ã€‚<br><strong>è¿”å›</strong> ç³»ç»Ÿä¸­ç»™å®šæ•°å­—çš„æœ€å°ä¸‹æ ‡ã€‚<br>è¯·ä½ å®ç°ä¸€ä¸ª <code>NumberContainers</code> ç±»ï¼š</p><p><code>NumberContainers()</code> åˆå§‹åŒ–æ•°å­—å®¹å™¨ç³»ç»Ÿã€‚<br><code>void change(int index, int number)</code> åœ¨ä¸‹æ ‡ <code>index</code> å¤„å¡«å…¥ <code>number</code> ã€‚å¦‚æœè¯¥ä¸‹æ ‡ <code>index</code> å¤„å·²ç»æœ‰æ•°å­—äº†ï¼Œé‚£ä¹ˆç”¨ <code>number</code> æ›¿æ¢è¯¥æ•°å­—ã€‚<br><code>int find(int number)</code> è¿”å›ç»™å®šæ•°å­— <code>number</code> åœ¨ç³»ç»Ÿä¸­çš„æœ€å°ä¸‹æ ‡ã€‚å¦‚æœç³»ç»Ÿä¸­æ²¡æœ‰ <code>number</code> ï¼Œé‚£ä¹ˆè¿”å› <code>-1</code> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼š<br>[â€œNumberContainersâ€, â€œfindâ€, â€œchangeâ€, â€œchangeâ€, â€œchangeâ€, â€œchangeâ€, â€œfindâ€, â€œchangeâ€, â€œfindâ€]<br>[[], [10], [2, 10], [1, 10], [3, 10], [5, 10], [10], [1, 20], [10]]<br><strong>è¾“å‡º</strong>ï¼š<br>[null, -1, null, null, null, null, 1, null, 2]<br><strong>è§£é‡Š</strong>ï¼š<br>NumberContainers nc &#x3D; new NumberContainers();<br>nc.find(10); &#x2F;&#x2F; æ²¡æœ‰æ•°å­— 10 ï¼Œæ‰€ä»¥è¿”å› -1 ã€‚<br>nc.change(2, 10); &#x2F;&#x2F; å®¹å™¨ä¸­ä¸‹æ ‡ä¸º 2 å¤„å¡«å…¥æ•°å­— 10 ã€‚<br>nc.change(1, 10); &#x2F;&#x2F; å®¹å™¨ä¸­ä¸‹æ ‡ä¸º 1 å¤„å¡«å…¥æ•°å­— 10 ã€‚<br>nc.change(3, 10); &#x2F;&#x2F; å®¹å™¨ä¸­ä¸‹æ ‡ä¸º 3 å¤„å¡«å…¥æ•°å­— 10 ã€‚<br>nc.change(5, 10); &#x2F;&#x2F; å®¹å™¨ä¸­ä¸‹æ ‡ä¸º 5 å¤„å¡«å…¥æ•°å­— 10 ã€‚<br>nc.find(10); &#x2F;&#x2F; æ•°å­— 10 æ‰€åœ¨çš„ä¸‹æ ‡ä¸º 1 ï¼Œ2 ï¼Œ3 å’Œ 5 ã€‚å› ä¸ºæœ€å°ä¸‹æ ‡ä¸º 1 ï¼Œæ‰€ä»¥è¿”å› 1 ã€‚<br>nc.change(1, 20); &#x2F;&#x2F; å®¹å™¨ä¸­ä¸‹æ ‡ä¸º 1 å¤„å¡«å…¥æ•°å­— 20 ã€‚æ³¨æ„ï¼Œä¸‹æ ‡ 1 å¤„ä¹‹å‰ä¸º 10 ï¼Œç°åœ¨è¢«æ›¿æ¢ä¸º 20 ã€‚<br>nc.find(10); &#x2F;&#x2F; æ•°å­— 10 æ‰€åœ¨ä¸‹æ ‡ä¸º 2 ï¼Œ3 å’Œ 5 ã€‚æœ€å°ä¸‹æ ‡ä¸º 2 ï¼Œæ‰€ä»¥è¿”å› 2 ã€‚ </p></blockquote><p>æç¤ºï¼š<br>$1 \leq$ <code>index, number</code> $\leq 10^{9}$<br>è°ƒç”¨ <code>change</code> å’Œ <code>find</code> çš„ <strong>æ€»æ¬¡æ•°</strong> ä¸è¶…è¿‡ $10^{5}$ æ¬¡ã€‚</p><blockquote><p><code>Python</code> æ•°æ®ç»“æ„è¿˜æ˜¯æŒæ¡å¾—ä¸å¤Ÿï¼Œ<code>Sortedlist</code> å±…ç„¶ä¸ä¼šç”¨ã€‚é™¤ä»¥ä¸‹ç‰¹æ®Šæ–¹æ³•å¤–ï¼Œå…¶ä»–æ–¹æ³•ä¸åˆ—è¡¨åŸºæœ¬ä¸€è‡´ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList<br>sl = SortedList([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>])<br><span class="hljs-comment"># æ·»åŠ å…ƒç´ </span><br>sl.add(<span class="hljs-number">4</span>)<br><span class="hljs-meta">&gt;&gt;&gt; </span>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">6</span>]<br><span class="hljs-comment">#åˆ é™¤å…ƒç´  </span><br>sl.remove(<span class="hljs-number">4</span>) <span class="hljs-comment"># å…ƒç´ ä¸å­˜åœ¨æ—¶ä¼šæŠ¥é”™</span><br>sl.discard(<span class="hljs-number">4</span>) <span class="hljs-comment"># å…ƒç´ ä¸å­˜åœ¨æ—¶ä¸ä¼šæŠ¥é”™</span><br><span class="hljs-meta">&gt;&gt;&gt; </span>[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">6</span>]<br><span class="hljs-comment"># æŸ¥æ‰¾å…ƒç´ </span><br>pos = test_sl.bisect_left(<span class="hljs-number">2</span>) <span class="hljs-comment"># æŸ¥æ‰¾å…ƒç´ å­˜åœ¨çš„ä½ç½®</span><br><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">from</span> sortedcontainers <span class="hljs-keyword">import</span> SortedList<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">NumberContainers</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.indexes = &#123;&#125;<br>        self.<span class="hljs-built_in">list</span> = &#123;&#125;<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">change</span>(<span class="hljs-params">self, index: <span class="hljs-built_in">int</span>, number: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> index <span class="hljs-keyword">in</span> self.<span class="hljs-built_in">list</span>:<br>            self.indexes[self.<span class="hljs-built_in">list</span>[index]].remove(index)<br>        <span class="hljs-keyword">if</span> number <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> self.indexes:<br>            self.indexes[number] = SortedList()<br>        self.indexes[number].add(index)<br>        self.<span class="hljs-built_in">list</span>[index] = number<br>            <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">find</span>(<span class="hljs-params">self, number: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> number <span class="hljs-keyword">in</span> self.indexes <span class="hljs-keyword">and</span> self.indexes[number]:<br>            <span class="hljs-comment"># print(self.list, self.indexes)</span><br>            <span class="hljs-keyword">return</span> self.indexes[number][<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br>        <br><span class="hljs-comment"># Your NumberContainers object will be instantiated and called as such:</span><br><span class="hljs-comment"># obj = NumberContainers()</span><br><span class="hljs-comment"># obj.change(index,number)</span><br><span class="hljs-comment"># param_2 = obj.find(number)</span><br></code></pre></td></tr></table></figure><h2 id="T4-6131-ä¸å¯èƒ½å¾—åˆ°çš„æœ€çŸ­éª°å­åºåˆ—"><a href="#T4-6131-ä¸å¯èƒ½å¾—åˆ°çš„æœ€çŸ­éª°å­åºåˆ—" class="headerlink" title="T4 6131. ä¸å¯èƒ½å¾—åˆ°çš„æœ€çŸ­éª°å­åºåˆ—"></a>T4 <a href="https://leetcode.cn/contest/biweekly-contest-83/problems/shortest-impossible-sequence-of-rolls/">6131. ä¸å¯èƒ½å¾—åˆ°çš„æœ€çŸ­éª°å­åºåˆ—</a></h2><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>rolls</code> å’Œä¸€ä¸ªæ•´æ•° <code>k</code> ã€‚ä½ æ‰”ä¸€ä¸ª <code>k</code> é¢çš„éª°å­ <code>n</code> æ¬¡ï¼Œéª°å­çš„æ¯ä¸ªé¢åˆ†åˆ«æ˜¯ <code>1</code> åˆ° <code>k</code> ï¼Œå…¶ä¸­ç¬¬ <code>i</code> æ¬¡æ‰”å¾—åˆ°çš„æ•°å­—æ˜¯ <code>rolls[i]</code> ã€‚</p><p>è¯·ä½ è¿”å› <strong>æ— æ³•</strong> ä» <code>rolls</code> ä¸­å¾—åˆ°çš„ <strong>æœ€çŸ­</strong> éª°å­å­åºåˆ—çš„é•¿åº¦ã€‚</p><p>æ‰”ä¸€ä¸ª <code>k</code> é¢çš„éª°å­ <code>len</code> æ¬¡å¾—åˆ°çš„æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º <code>len</code> çš„ <strong>éª°å­å­åºåˆ—</strong> ã€‚</p><p>æ³¨æ„ ï¼Œå­åºåˆ—åªéœ€è¦ä¿æŒåœ¨åŸæ•°ç»„ä¸­çš„é¡ºåºï¼Œä¸éœ€è¦è¿ç»­ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šrolls &#x3D; [4,2,1,2,3,3,2,4,1], k &#x3D; 4<br><strong>è¾“å‡º</strong>ï¼š3<br><strong>è§£é‡Š</strong>ï¼šæ‰€æœ‰é•¿åº¦ä¸º 1 çš„éª°å­å­åºåˆ— [1] ï¼Œ[2] ï¼Œ[3] ï¼Œ[4] éƒ½å¯ä»¥ä»åŸæ•°ç»„ä¸­å¾—åˆ°ã€‚<br>æ‰€æœ‰é•¿åº¦ä¸º 2 çš„éª°å­å­åºåˆ— [1, 1] ï¼Œ[1, 2] ï¼Œâ€¦ ï¼Œ[4, 4] éƒ½å¯ä»¥ä»åŸæ•°ç»„ä¸­å¾—åˆ°ã€‚<br>å­åºåˆ— [1, 4, 2] æ— æ³•ä»åŸæ•°ç»„ä¸­å¾—åˆ°ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› 3 ã€‚<br>è¿˜æœ‰åˆ«çš„å­åºåˆ—ä¹Ÿæ— æ³•ä»åŸæ•°ç»„ä¸­å¾—åˆ°ã€‚</p></blockquote><p>æç¤ºï¼š<br><code>n</code> &#x3D;&#x3D; <code>rolls.length</code><br>$1 \leq$ <code>n</code> $\leq 10^{5}$<br>$1 \leq$ <code>rolls[i]</code> $\leq$ <code>k</code> $\leq 10^{5}$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-17-ç¬¬-302-åœºå‘¨èµ›"><a href="#2022-07-17-ç¬¬-302-åœºå‘¨èµ›" class="headerlink" title="2022-07-17 ç¬¬ 302 åœºå‘¨èµ›"></a>2022-07-17 ç¬¬ 302 åœºå‘¨èµ›</h1><h2 id="T1-6120-æ•°ç»„èƒ½å½¢æˆå¤šå°‘æ•°å¯¹"><a href="#T1-6120-æ•°ç»„èƒ½å½¢æˆå¤šå°‘æ•°å¯¹" class="headerlink" title="T1 6120. æ•°ç»„èƒ½å½¢æˆå¤šå°‘æ•°å¯¹"></a>T1 <a href="https://leetcode.cn/contest/weekly-contest-302/problems/maximum-number-of-pairs-in-array/">6120. æ•°ç»„èƒ½å½¢æˆå¤šå°‘æ•°å¯¹</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums</code> ã€‚åœ¨ä¸€æ­¥æ“ä½œä¸­ï¼Œä½ å¯ä»¥æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š</p><p>ä» <code>nums</code> é€‰å‡º <strong>ä¸¤ä¸ª ç›¸ç­‰çš„</strong> æ•´æ•°<br>ä» <code>nums</code> ä¸­ç§»é™¤è¿™ä¸¤ä¸ªæ•´æ•°ï¼Œå½¢æˆä¸€ä¸ª æ•°å¯¹<br>è¯·ä½ åœ¨ <code>nums</code> ä¸Šå¤šæ¬¡æ‰§è¡Œæ­¤æ“ä½œç›´åˆ°æ— æ³•ç»§ç»­æ‰§è¡Œã€‚</p><p>è¿”å›ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹ã€é•¿åº¦ä¸º <code>2</code> çš„æ•´æ•°æ•°ç»„ <code>answer</code> ä½œä¸ºç­”æ¡ˆï¼Œå…¶ä¸­ <code>answer[0]</code> æ˜¯å½¢æˆçš„æ•°å¯¹æ•°ç›®ï¼Œ<code>answer[1]</code> æ˜¯å¯¹ <code>nums</code> å°½å¯èƒ½æ‰§è¡Œä¸Šè¿°æ“ä½œåå‰©ä¸‹çš„æ•´æ•°æ•°ç›®ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [1,3,2,1,3,2,2]<br><strong>è¾“å‡º</strong>ï¼š[3,1]<br><strong>è§£é‡Š</strong>ï¼š<br>nums[0] å’Œ nums[3] å½¢æˆä¸€ä¸ªæ•°å¯¹ï¼Œå¹¶ä» nums ä¸­ç§»é™¤ï¼Œnums &#x3D; [3,2,3,2,2] ã€‚<br>nums[0] å’Œ nums[2] å½¢æˆä¸€ä¸ªæ•°å¯¹ï¼Œå¹¶ä» nums ä¸­ç§»é™¤ï¼Œnums &#x3D; [2,2,2] ã€‚<br>nums[0] å’Œ nums[1] å½¢æˆä¸€ä¸ªæ•°å¯¹ï¼Œå¹¶ä» nums ä¸­ç§»é™¤ï¼Œnums &#x3D; [2] ã€‚<br>æ— æ³•å½¢æˆæ›´å¤šæ•°å¯¹ã€‚æ€»å…±å½¢æˆ 3 ä¸ªæ•°å¯¹ï¼Œnums ä¸­å‰©ä¸‹ 1 ä¸ªæ•°å­—ã€‚</p></blockquote><p><strong>æç¤º</strong>ï¼š<br>$1 \leq nums.length \leq 100$<br>$1 \leq nums[i] \leq 100$</p><blockquote><p>æ„‰å¿«çš„ç­¾åˆ°é¢˜~ä¸€ä¸Šæ¥è‚¾ä¸Šè…ºç´ é£™å‡ï¼ŒWAäº†ä¸¤å‘ï¼ˆğŸ™‚ğŸ™‚ğŸ™‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">numberOfPairs</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        hashmap = [<span class="hljs-number">0</span>]*<span class="hljs-number">101</span><br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            hashmap[nums[i]] += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">101</span>):<br>            ret += hashmap[i]//<span class="hljs-number">2</span><br>        <span class="hljs-keyword">return</span> [ret, n-<span class="hljs-number">2</span>*ret]<br></code></pre></td></tr></table></figure><h2 id="T2-6164-æ•°ä½å’Œç›¸ç­‰æ•°å¯¹çš„æœ€å¤§å’Œ"><a href="#T2-6164-æ•°ä½å’Œç›¸ç­‰æ•°å¯¹çš„æœ€å¤§å’Œ" class="headerlink" title="T2 6164. æ•°ä½å’Œç›¸ç­‰æ•°å¯¹çš„æœ€å¤§å’Œ"></a>T2 <a href="https://leetcode.cn/contest/weekly-contest-302/problems/max-sum-of-a-pair-with-equal-sum-of-digits/">6164. æ•°ä½å’Œç›¸ç­‰æ•°å¯¹çš„æœ€å¤§å’Œ</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•°ç»„ <code>nums</code> ï¼Œæ•°ç»„ä¸­çš„å…ƒç´ éƒ½æ˜¯ <strong>æ­£</strong> æ•´æ•°ã€‚è¯·ä½ é€‰å‡ºä¸¤ä¸ªä¸‹æ ‡ <code>i</code> å’Œ <code>j</code>ï¼ˆ<code>i != j</code>ï¼‰ï¼Œä¸” <code>nums[i]</code> çš„æ•°ä½å’Œä¸  <code>nums[j]</code> çš„æ•°ä½å’Œç›¸ç­‰ã€‚</p><p>è¯·ä½ æ‰¾å‡ºæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„ä¸‹æ ‡ <code>i</code> å’Œ <code>j</code> ï¼Œæ‰¾å‡ºå¹¶è¿”å› <code>nums[i] + nums[j]</code> å¯ä»¥å¾—åˆ°çš„ <strong>æœ€å¤§å€¼</strong> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [18,43,36,13,7]<br><strong>è¾“å‡º</strong>ï¼š54<br><strong>è§£é‡Š</strong>ï¼šæ»¡è¶³æ¡ä»¶çš„æ•°å¯¹ (i, j) ä¸ºï¼š<br>-&gt; (0, 2) ï¼Œä¸¤ä¸ªæ•°å­—çš„æ•°ä½å’Œéƒ½æ˜¯ 9 ï¼Œç›¸åŠ å¾—åˆ° 18 + 36 &#x3D; 54 ã€‚<br>-&gt; (1, 4) ï¼Œä¸¤ä¸ªæ•°å­—çš„æ•°ä½å’Œéƒ½æ˜¯ 7 ï¼Œç›¸åŠ å¾—åˆ° 43 + 7 &#x3D; 50 ã€‚<br>æ‰€ä»¥å¯ä»¥è·å¾—çš„æœ€å¤§å’Œæ˜¯ 54 ã€‚</p></blockquote><p><strong>æç¤º</strong>ï¼š<br>$1 \leq nums.length \leq 10^{5}$<br>$1 \leq nums[i] \leq 10^{9}$</p><blockquote><p>çœ‹äº†çœ¼æ•°æ®é‡ï¼Œæœ€å¤§å’Œå€¼ä¸º <code>9Ã—9=81</code>ï¼Œç›´æ¥å“ˆå¸Œè¡¨è®°å½•ï¼Œ<code>haspmap[i]</code> ä¸ºæ•°ä½å’Œä¸º <code>i</code> çš„æ•´æ•°åˆ—è¡¨ï¼Œè¿”å›åˆ—è¡¨é•¿åº¦å¤§äº <code>2</code> ä¸”åˆ—è¡¨ä¸­æœ€å¤§çš„ä¸¤ä¸ªå…ƒç´ ä¹‹å’Œï¼Œéå† <code>hashmap</code> æ›´æ–°ç»“æœ</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">maximumSum</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        hashmap = [[] <span class="hljs-keyword">for</span> _ <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">82</span>)]<br>        n = <span class="hljs-built_in">len</span>(nums)<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            hashmap[self.helper(nums[i])].append(nums[i])<br>        ret = -<span class="hljs-number">1</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(hashmap)):<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(hashmap[i]) &gt;= <span class="hljs-number">2</span>:<br>                hashmap[i].sort()<br>                <span class="hljs-keyword">if</span> ret &lt; hashmap[i][-<span class="hljs-number">1</span>] + hashmap[i][-<span class="hljs-number">2</span>]:<br>                    ret = hashmap[i][-<span class="hljs-number">1</span>] + hashmap[i][-<span class="hljs-number">2</span>]<br>        <span class="hljs-keyword">return</span> ret<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">helper</span>(<span class="hljs-params">self, n</span>):<br>        ret = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<br>            ret += n%<span class="hljs-number">10</span><br>            n = n//<span class="hljs-number">10</span><br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h2 id="T3-6121-è£å‰ªæ•°å­—åæŸ¥è¯¢ç¬¬-K-å°çš„æ•°å­—"><a href="#T3-6121-è£å‰ªæ•°å­—åæŸ¥è¯¢ç¬¬-K-å°çš„æ•°å­—" class="headerlink" title="T3 6121. è£å‰ªæ•°å­—åæŸ¥è¯¢ç¬¬ K å°çš„æ•°å­—"></a>T3 <a href="https://leetcode.cn/contest/weekly-contest-302/problems/query-kth-smallest-trimmed-number/">6121. è£å‰ªæ•°å­—åæŸ¥è¯¢ç¬¬ K å°çš„æ•°å­—</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„å­—ç¬¦ä¸²æ•°ç»„ <code>nums</code> ï¼Œå…¶ä¸­æ¯ä¸ªå­—ç¬¦ä¸² <strong>é•¿åº¦ç›¸ç­‰</strong> ä¸”åªåŒ…å«æ•°å­—ã€‚</p><p>å†ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„äºŒç»´æ•´æ•°æ•°ç»„ <code>queries</code> ï¼Œå…¶ä¸­ <code>queries[i] = [ki, trimi]</code> ã€‚å¯¹äºæ¯ä¸ª <code>queries[i]</code> ï¼Œä½ éœ€è¦ï¼š</p><p>å°† <code>nums</code> ä¸­æ¯ä¸ªæ•°å­— <strong>è£å‰ª</strong> åˆ°å‰©ä¸‹ <strong>æœ€å³è¾¹</strong> <code>trimi</code> ä¸ªæ•°ä½ã€‚<br>åœ¨è£å‰ªè¿‡åçš„æ•°å­—ä¸­ï¼Œæ‰¾åˆ° <code>nums</code> ä¸­ç¬¬ <code>ki</code> å°æ•°å­—å¯¹åº”çš„ <strong>ä¸‹æ ‡</strong> ã€‚å¦‚æœä¸¤ä¸ªè£å‰ªåæ•°å­—ä¸€æ ·å¤§ï¼Œé‚£ä¹ˆä¸‹æ ‡ <strong>æ›´å°</strong> çš„æ•°å­—è§†ä¸ºæ›´å°çš„æ•°å­—ã€‚<br>å°† <code>nums</code> ä¸­æ¯ä¸ªæ•°å­—æ¢å¤åˆ°åŸæœ¬å­—ç¬¦ä¸²ã€‚<br>è¯·ä½ è¿”å›ä¸€ä¸ªé•¿åº¦ä¸ <code>queries</code> ç›¸ç­‰çš„æ•°ç»„ <code>answer</code>ï¼Œå…¶ä¸­ <code>answer[i]</code> æ˜¯ç¬¬ <code>i</code> æ¬¡æŸ¥è¯¢çš„ç»“æœã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [â€œ102â€,â€473â€,â€251â€,â€814â€], queries &#x3D; [[1,1],[2,3],[4,2],[1,2]]<br><strong>è¾“å‡º</strong>ï¼š[2,2,1,0]<br><strong>è§£é‡Š</strong>ï¼š<br>æŸ¥è¯¢ 1. è£å‰ªåˆ°åªå‰© 1 ä¸ªæ•°ä½åï¼Œnums &#x3D; [â€œ2â€,â€3â€,â€1â€,â€4â€] ã€‚æœ€å°çš„æ•°å­—æ˜¯ 1 ï¼Œä¸‹æ ‡ä¸º 2 ã€‚<br>æŸ¥è¯¢ 2. è£å‰ªåˆ°å‰© 3 ä¸ªæ•°ä½åï¼Œnums æ²¡æœ‰å˜åŒ–ã€‚ç¬¬ 2 å°çš„æ•°å­—æ˜¯ 251 ï¼Œä¸‹æ ‡ä¸º 2 ã€‚<br>æŸ¥è¯¢ 3. è£å‰ªåˆ°å‰© 2 ä¸ªæ•°ä½åï¼Œnums &#x3D; [â€œ02â€,â€73â€,â€51â€,â€14â€] ã€‚ç¬¬ 4 å°çš„æ•°å­—æ˜¯ 73 ï¼Œä¸‹æ ‡ä¸º 1 ã€‚<br>æŸ¥è¯¢ 4. è£å‰ªåˆ°å‰© 2 ä¸ªæ•°ä½åï¼Œæœ€å°æ•°å­—æ˜¯ 2 ï¼Œä¸‹æ ‡ä¸º 0 ã€‚<br>   æ³¨æ„ï¼Œè£å‰ªåæ•°å­— â€œ02â€ å€¼ä¸º 2 ã€‚</p></blockquote><p><strong>æç¤º</strong>ï¼š<br>è£å‰ªåˆ°å‰©ä¸‹ <code>x</code> ä¸ªæ•°ä½çš„æ„æ€æ˜¯ä¸æ–­åˆ é™¤æœ€å·¦è¾¹çš„æ•°ä½ï¼Œç›´åˆ°å‰©ä¸‹ <code>x</code> ä¸ªæ•°ä½ã€‚<br><code>nums</code> ä¸­çš„å­—ç¬¦ä¸²å¯èƒ½ä¼šæœ‰å‰å¯¼ <code>0</code> ã€‚<br>$1 \leq nums.length \leq 100$<br>$1 \leq nums[i].length \leq 100$<br><code>nums[i]</code> åªåŒ…å«æ•°å­—ã€‚<br>æ‰€æœ‰ <code>nums[i].length</code> çš„é•¿åº¦ ç›¸åŒ ã€‚<br>$1 \leq queries.length \leq 100$<br>$queries[i].length &#x3D;&#x3D; 2$<br>$1 \leq k_{i} \leq nums.length$<br>$1 \leq trim_{i} \leq nums[0].length$</p><blockquote><p>è¿™é¢˜å’Œç¬¬å››é¢˜æ¢ä¸€ä¸‹ä½ç½®è¿˜è¡Œï¼Œè¿™ç‚¹æ•°æ®é‡ï¼Œå†™åŠå¤©è¶…æ—¶ï¼Œæ‰¾ä¸åˆ°å“ªé‡Œå‡ºäº†æ­»å¾ªç¯â€¦â€¦å„’å“¥æ›´æƒ¨ ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><p><img src="https://s2.loli.net/2022/07/17/fTxAbjd1YGFVuRB.png"></p><blockquote><p><code>TLE</code> çš„ä»£ç  ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">smallestTrimmedNumbers</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], queries: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums[<span class="hljs-number">0</span>])<br>        ret = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(queries)):<br>            nums_ = []<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>                temp = <span class="hljs-number">0</span><br>                <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(queries[i][<span class="hljs-number">1</span>]):<br>                    temp += <span class="hljs-built_in">int</span>(<span class="hljs-built_in">ord</span>(nums[j][n-k-<span class="hljs-number">1</span>])-<span class="hljs-built_in">ord</span>(<span class="hljs-string">&#x27;0&#x27;</span>))*<span class="hljs-number">10</span>**k<br>                nums_.append([j, temp])<br>            nums_.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])<br>            ret.append(nums_[queries[i][<span class="hljs-number">0</span>]-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>])<br>            <br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><blockquote><p>èµ›åï¼Œçœ‹äº†çœ¼å¤§å®¶çš„å†™æ³•ï¼Œæ‰æ„è¯†åˆ°<strong>å­—ç¬¦ä¸²å¯ä»¥ç›´æ¥æ’åº</strong>ï¼Œä¸ä¸€å®šéè¦è½¬æ¢æˆæ•´æ•°ï¼Œå­—ç¬¦ä¸²è½¬åŒ–æˆæ•´æ•°çš„è¿‡ç¨‹åµŒå¥—åœ¨åŒå±‚å¾ªç¯ä¸­ï¼Œæ—¶é—´å¤æ‚åº¦çˆ†ç‚¸ã€‚<br>ä»¥ä¸‹ä¸º <code>AC</code> çš„ä»£ç  ğŸ‘‡ğŸ‘‡ğŸ‘‡</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">smallestTrimmedNumbers</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">str</span>], queries: <span class="hljs-type">List</span>[<span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]]</span>) -&gt; <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]:<br>        n = <span class="hljs-built_in">len</span>(nums[<span class="hljs-number">0</span>])<br>        ret = []<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(queries)):<br>            nums_ = []<br>            <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>                nums_.append([j, nums[j][-queries[i][<span class="hljs-number">1</span>]:]])  <span class="hljs-comment"># ä¸Šé¢çš„å››è¡Œæ”¹æˆè¿™ä¸€è¡Œ</span><br>            nums_.sort(key=<span class="hljs-keyword">lambda</span> x: x[<span class="hljs-number">1</span>])<br>            ret.append(nums_[queries[i][<span class="hljs-number">0</span>]-<span class="hljs-number">1</span>][<span class="hljs-number">0</span>])<br>                <br>        <span class="hljs-keyword">return</span> ret<br></code></pre></td></tr></table></figure><h2 id="T4-6122-ä½¿æ•°ç»„å¯ä»¥è¢«æ•´é™¤çš„æœ€å°‘åˆ é™¤æ¬¡æ•°"><a href="#T4-6122-ä½¿æ•°ç»„å¯ä»¥è¢«æ•´é™¤çš„æœ€å°‘åˆ é™¤æ¬¡æ•°" class="headerlink" title="T4 6122. ä½¿æ•°ç»„å¯ä»¥è¢«æ•´é™¤çš„æœ€å°‘åˆ é™¤æ¬¡æ•°"></a>T4 <a href="https://leetcode.cn/contest/weekly-contest-302/problems/minimum-deletions-to-make-array-divisible/">6122. ä½¿æ•°ç»„å¯ä»¥è¢«æ•´é™¤çš„æœ€å°‘åˆ é™¤æ¬¡æ•°</a></h2><p>ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•°æ•°ç»„ <code>nums</code> å’Œ <code>numsDivide</code> ã€‚ä½ å¯ä»¥ä» <code>nums</code> ä¸­åˆ é™¤ä»»æ„æ•°ç›®çš„å…ƒç´ ã€‚</p><p>è¯·ä½ è¿”å›ä½¿ <code>nums</code> ä¸­ <strong>æœ€å°</strong> å…ƒç´ å¯ä»¥æ•´é™¤ <code>numsDivide</code> ä¸­æ‰€æœ‰å…ƒç´ çš„ <strong>æœ€å°‘</strong> åˆ é™¤æ¬¡æ•°ã€‚å¦‚æœæ— æ³•å¾—åˆ°è¿™æ ·çš„å…ƒç´ ï¼Œè¿”å› <code>-1</code> ã€‚</p><p>å¦‚æœ <code>y % x == 0</code> ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¯´æ•´æ•° <code>x</code> æ•´é™¤ <code>y</code> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [2,3,2,4,3], numsDivide &#x3D; [9,6,9,3,15]<br><strong>è¾“å‡º</strong>ï¼š2<br><strong>è§£é‡Š</strong>ï¼š<br>[2,3,2,4,3] ä¸­æœ€å°å…ƒç´ æ˜¯ 2 ï¼Œå®ƒæ— æ³•æ•´é™¤ numsDivide ä¸­æ‰€æœ‰å…ƒç´ ã€‚<br>æˆ‘ä»¬ä» nums ä¸­åˆ é™¤ 2 ä¸ªå¤§å°ä¸º 2 çš„å…ƒç´ ï¼Œå¾—åˆ° nums &#x3D; [3,4,3] ã€‚<br>[3,4,3] ä¸­æœ€å°å…ƒç´ ä¸º 3 ï¼Œå®ƒå¯ä»¥æ•´é™¤ numsDivide ä¸­æ‰€æœ‰å…ƒç´ ã€‚<br>å¯ä»¥è¯æ˜ 2 æ˜¯æœ€å°‘åˆ é™¤æ¬¡æ•°ã€‚</p></blockquote><p><strong>æç¤º</strong>ï¼š<br>$1 \leq nums.length, numsDivide.length \leq 10^{5}$<br>$1 \leq nums[i], numsDivide[i] \leq 10^{9}$</p><blockquote><p><code>Hard</code>â€¦â€¦<br>é—®é¢˜ç­‰ä»·äºæ±‚åœ¨æœ‰åºçš„ <code>nums</code> ä¸­ï¼Œèƒ½å¤Ÿè¢« <code>numsDivide</code> ä¸­æ‰€æœ‰å…ƒç´ çš„æœ€å¤§å…¬çº¦æ•°æ•´é™¤çš„æœ€å°å…ƒç´ çš„ä½ç½®ç´¢å¼•</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">minOperations</span>(<span class="hljs-params">self, nums: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>], numsDivide: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        factor = numsDivide[<span class="hljs-number">0</span>]<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(numsDivide)):<br>            factor = gcd(factor, numsDivide[i])<br>        nums.sort()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(nums)):<br>            <span class="hljs-keyword">if</span> factor % nums[i] == <span class="hljs-number">0</span>:<br>                <span class="hljs-keyword">return</span> i<br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-13-è”šæ¥-2023-å±Šæå‰æ‰¹ç¬”è¯•"><a href="#2022-07-13-è”šæ¥-2023-å±Šæå‰æ‰¹ç¬”è¯•" class="headerlink" title="2022-07-13 è”šæ¥ 2023 å±Šæå‰æ‰¹ç¬”è¯•"></a>2022-07-13 è”šæ¥ 2023 å±Šæå‰æ‰¹ç¬”è¯•</h1><h2 id="T2-æœ€å°‘çš„æ“ä½œæ¬¡æ•°"><a href="#T2-æœ€å°‘çš„æ“ä½œæ¬¡æ•°" class="headerlink" title="T2 æœ€å°‘çš„æ“ä½œæ¬¡æ•°"></a>T2 æœ€å°‘çš„æ“ä½œæ¬¡æ•°</h2><p>å°çº¢å¯ä»¥å¯¹ä¸€ä¸ªæ•°è¿›è¡Œå¦‚ä¸‹ä¸¤ç§æ“ä½œï¼šå°†è¿™ä¸ªæ•°ä¹˜ä»¥ $x$ï¼Œæˆ–å°†è¿™ä¸ªæ•°ä¹˜ä»¥ $y$ã€‚æ“ä½œæ¬¡æ•°æ˜¯æ²¡æœ‰é™åˆ¶çš„ã€‚å°çº¢æƒ³çŸ¥é“ï¼Œè‡ªå·±æœ€å°‘ç»è¿‡å¤šå°‘æ¬¡æ“ä½œä»¥åï¼Œå¯ä»¥æŠŠ $a$ å˜æˆ $b$ ï¼Ÿ</p><blockquote><p><strong>è¾“å…¥æè¿°</strong>ï¼š<br>å››ä¸ªæ­£æ•´æ•° $x, y, a, b$ï¼Œç”¨ç©ºæ ¼éš”å¼€ã€‚<br>$2 \leq x, y \leq 100$<br>$1 \leq a, b \leq 10^{9}$<br><strong>è¾“å‡ºæè¿°</strong>ï¼š<br>å¦‚æœå°çº¢æ— è®ºå¦‚ä½•éƒ½æ— æ³•æŠŠ $a$ å˜æˆ $b$ï¼Œåˆ™è¾“å‡º $-1$ã€‚å¦åˆ™è¾“å‡ºå°çº¢æ“ä½œçš„æœ€å°‘æ¬¡æ•°ï¼Œå¯ä»¥è¯æ˜ï¼Œå¦‚æœå­˜åœ¨æŸç§æ“ä½œï¼Œé‚£ä¹ˆæœ€å°‘æ¬¡æ•°ä¸€å®šæ˜¯å›ºå®šçš„ã€‚</p></blockquote><blockquote><p><strong>ç¤ºä¾‹è¾“å…¥</strong>ï¼š<br>2 3 5 20<br><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š<br>2<br><strong>è§£é‡Š</strong>ï¼š<br>x &#x3D; 2ï¼Œy &#x3D; 3ï¼Œè¿›è¡Œä¸¤æ¬¡ä¹˜ 2 æ“ä½œï¼Œå¯ä»¥æŠŠ 5 å˜æˆ 20ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><br></code></pre></td></tr></table></figure><h2 id="T3-ç‰›ç‰›çš„å¼€å¿ƒæ—…è¡Œ"><a href="#T3-ç‰›ç‰›çš„å¼€å¿ƒæ—…è¡Œ" class="headerlink" title="T3 ç‰›ç‰›çš„å¼€å¿ƒæ—…è¡Œ"></a>T3 ç‰›ç‰›çš„å¼€å¿ƒæ—…è¡Œ</h2><p>ç‰›ç‰›å¯¹ $n$ ä¸ªåŸå¸‚çš„æ—…æ¸¸æƒ…å†µè¿›è¡Œäº†è§„åˆ’ã€‚<br>å·²çŸ¥æ¯ä¸ªåŸå¸‚æœ‰ä¸¤ç§å±æ€§ $x_{i}$ å’Œ $y_{i}$ï¼Œå…¶ä¸­ $x_{i}$ è¡¨ç¤ºå»ç¬¬ $i$ å·åŸå¸‚çš„èŠ±è´¹ï¼Œ$y_{i}$ è¡¨ç¤ºåœ¨ç¬¬ $i$ å·åŸå¸‚æ¸¸ç©åä¼šå¾—åˆ°çš„å¼€å¿ƒå€¼ã€‚<br>ç°åœ¨ç‰›ç‰›å¸Œæœ›ä»ä¸­æŒ‘é€‰ä¸€äº›åŸå¸‚å»æ¸¸ç©ï¼Œä½†æŒ‘é€‰å‡ºçš„åŸå¸‚å¿…é¡»æ»¡è¶³ä»»æ„ä¸¤ä¸ªåŸå¸‚ä¹‹é—´èŠ±è´¹çš„ç»å¯¹å€¼å°äº $k$ã€‚<br>ä»–æƒ³è¯·ä½ å¸®ä»–è®¡ç®—å‡ºåœ¨æ»¡è¶³ä¸Šè¿°æ¡ä»¶ä¸‹èƒ½å¾—åˆ°çš„æœ€å¤§å¼€å¿ƒå€¼æ˜¯å¤šå°‘ã€‚ </p><blockquote><p><strong>è¾“å…¥æè¿°</strong>ï¼š<br>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•° $n$å’Œ $k$ã€‚<br>æ¥ä¸‹æ¥ $n$ è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•° $x_{i}$ å’Œ $y_{i}$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ¯ä¸ªåŸå¸‚çš„ä¸¤ç§å±æ€§ã€‚<br>$1 \leq n \leq 10^{5}$<br>$1 \leq k \leq 10^{9}$<br>$1 \leq x_{i}, y_{i} \leq 10^{9}$<br><strong>è¾“å‡ºæè¿°</strong>ï¼š<br>è¾“å‡ºä¸€ä¸ªæ•´æ•°è¡¨ç¤ºç­”æ¡ˆã€‚</p></blockquote><blockquote><p><strong>ç¤ºä¾‹è¾“å…¥</strong>ï¼š<br>5 3<br>1 3<br>2 1<br>5 2<br>3 1<br>4 3<br><strong>ç¤ºä¾‹è¾“å‡º</strong>ï¼š<br>6<br><strong>è§£é‡Š</strong>ï¼š<br>ç‰›ç‰›å¯ä»¥é€‰æ‹©å» 3 å·ï¼Œ 4 å·å’Œ 5 å·åŸå¸‚è¿›è¡Œæ¸¸ç©ï¼Œå¹¶æ”¶è·æœ€å¤§çš„å¼€å¿ƒå€¼ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-10-ç¬¬-301-åœºå‘¨èµ›"><a href="#2022-07-10-ç¬¬-301-åœºå‘¨èµ›" class="headerlink" title="2022-07-10 ç¬¬ 301 åœºå‘¨èµ›"></a>2022-07-10 ç¬¬ 301 åœºå‘¨èµ›</h1><p>å‰ä¸€å¤©æ™šä¸Šçš„åŒå‘¨èµ›å¤ªå¤ªå¤ªéš¾äº†ï¼Œç»™æˆ‘æ•´è‡ªé—­äº†ï¼Œé—®äº†ä¸€ä¸‹å„’å“¥ï¼Œä¹Ÿè§‰å¾—æœ€è¿‘å‘¨èµ›éš¾åº¦ä¸Šå‡äº†ï¼Œè·Ÿå…¬å¸ç¬”è¯•éš¾åº¦ä¸åŒ¹é…â€¦..<br>ç„¶åä¸Šåˆçš„å‘¨èµ›Aäº†ä¸‰é“ï¼Œè™½ç„¶æœ‰ç‚¹æ…¢ï¼Œä½†æˆ‘ä¸è‡ªé—­äº†</p><h2 id="T1-6112-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿"><a href="#T1-6112-è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿" class="headerlink" title="T1. 6112. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿"></a>T1. <a href="https://leetcode.cn/contest/weekly-contest-301/problems/minimum-amount-of-time-to-fill-cups/">6112. è£…æ»¡æ¯å­éœ€è¦çš„æœ€çŸ­æ€»æ—¶é•¿</a></h2><p>ç°æœ‰ä¸€å°é¥®æ°´æœºï¼Œå¯ä»¥åˆ¶å¤‡å†·æ°´ã€æ¸©æ°´å’Œçƒ­æ°´ã€‚æ¯ç§’é’Ÿï¼Œå¯ä»¥è£…æ»¡ <code>2</code> æ¯ ä¸åŒ ç±»å‹çš„æ°´æˆ–è€… <code>1</code> æ¯ä»»æ„ç±»å‹çš„æ°´ã€‚<br>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹ã€é•¿åº¦ä¸º <code>3</code> çš„æ•´æ•°æ•°ç»„ <code>amount</code> ï¼Œå…¶ä¸­ <code>amount[0]</code>ã€<code>amount[1]</code> å’Œ <code>amount[2]</code> åˆ†åˆ«è¡¨ç¤ºéœ€è¦è£…æ»¡å†·æ°´ã€æ¸©æ°´å’Œçƒ­æ°´çš„æ¯å­æ•°é‡ã€‚è¿”å›è£…æ»¡æ‰€æœ‰æ¯å­æ‰€éœ€çš„ <code>æœ€å°‘</code> ç§’æ•°ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šamount &#x3D; [1,4,2]<br><strong>è¾“å‡º</strong>ï¼š4<br><strong>è§£é‡Š</strong>ï¼šä¸‹é¢ç»™å‡ºä¸€ç§æ–¹æ¡ˆï¼š<br>ç¬¬ 1 ç§’ï¼šè£…æ»¡ä¸€æ¯å†·æ°´å’Œä¸€æ¯æ¸©æ°´ã€‚<br>ç¬¬ 2 ç§’ï¼šè£…æ»¡ä¸€æ¯æ¸©æ°´å’Œä¸€æ¯çƒ­æ°´ã€‚<br>ç¬¬ 3 ç§’ï¼šè£…æ»¡ä¸€æ¯æ¸©æ°´å’Œä¸€æ¯çƒ­æ°´ã€‚<br>ç¬¬ 4 ç§’ï¼šè£…æ»¡ä¸€æ¯æ¸©æ°´ã€‚<br>å¯ä»¥è¯æ˜æœ€å°‘éœ€è¦ 4 ç§’æ‰èƒ½è£…æ»¡æ‰€æœ‰æ¯å­ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>ç®€æ˜“è´ªå¿ƒ</strong> â€” æ¯æ¬¡è£…æ°´éƒ½é€‰æ‹©å‰©ä½™æœ€å¤šçš„ä¸¤ç§ç±»å‹çš„æ¯å­ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">fillCups</span>(<span class="hljs-params">self, amount: <span class="hljs-type">List</span>[<span class="hljs-built_in">int</span>]</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        time = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">while</span> <span class="hljs-built_in">sum</span>(amount) &gt; <span class="hljs-number">0</span>:<br>            amount.sort()<br>            <span class="hljs-keyword">if</span> amount[-<span class="hljs-number">1</span>] &gt; <span class="hljs-number">0</span>:<br>                amount[-<span class="hljs-number">1</span>] -= <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> amount[-<span class="hljs-number">2</span>] &gt; <span class="hljs-number">0</span>:<br>                amount[-<span class="hljs-number">2</span>] -= <span class="hljs-number">1</span><br>            time += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">return</span> time<br></code></pre></td></tr></table></figure><h2 id="T2-6113-æ— é™é›†ä¸­çš„æœ€å°æ•°å­—"><a href="#T2-6113-æ— é™é›†ä¸­çš„æœ€å°æ•°å­—" class="headerlink" title="T2. 6113. æ— é™é›†ä¸­çš„æœ€å°æ•°å­—"></a>T2. <a href="https://leetcode.cn/contest/weekly-contest-301/problems/smallest-number-in-infinite-set/">6113. æ— é™é›†ä¸­çš„æœ€å°æ•°å­—</a></h2><p>ç°æœ‰ä¸€ä¸ªåŒ…å«æ‰€æœ‰æ­£æ•´æ•°çš„é›†åˆ <code>[1, 2, 3, 4, 5, ...]</code>ã€‚<br>å®ç° <code>SmallestInfiniteSet</code> ç±»ï¼š</p><ul><li><code>SmallestInfiniteSet()</code> åˆå§‹åŒ– <code>SmallestInfiniteSet</code> å¯¹è±¡ä»¥åŒ…å« <code>æ‰€æœ‰</code> æ­£æ•´æ•°ã€‚</li><li><code>int popSmallest()</code> ç§»é™¤ å¹¶è¿”å›è¯¥æ— é™é›†ä¸­çš„æœ€å°æ•´æ•°ã€‚</li><li><code>void addBack(int num)</code> å¦‚æœæ­£æ•´æ•° <code>num</code> ä¸ å­˜åœ¨äºæ— é™é›†ä¸­ï¼Œåˆ™å°†ä¸€ä¸ª <code>num</code> æ·»åŠ  åˆ°è¯¥æ— é™é›†ä¸­ã€‚</li></ul><blockquote><p><strong>è¾“å…¥</strong><br>[â€œSmallestInfiniteSetâ€, â€œaddBackâ€, â€œpopSmallestâ€, â€œpopSmallestâ€, â€œpopSmallestâ€, â€œaddBackâ€, â€œpopSmallestâ€, â€œpopSmallestâ€, â€œpopSmallestâ€]<br>[[], [2], [], [], [], [1], [], [], []]<br><strong>è¾“å‡º</strong><br>[null, null, 1, 2, 3, null, 1, 4, 5]<br><strong>è§£é‡Š</strong><br>SmallestInfiniteSet smallestInfiniteSet &#x3D; new SmallestInfiniteSet();<br>smallestInfiniteSet.addBack(2);    &#x2F;&#x2F; 2 å·²ç»åœ¨é›†åˆä¸­ï¼Œæ‰€ä»¥ä¸åšä»»ä½•å˜æ›´ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 1 ï¼Œå› ä¸º 1 æ˜¯æœ€å°çš„æ•´æ•°ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 2 ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 3 ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚<br>smallestInfiniteSet.addBack(1);    &#x2F;&#x2F; å°† 1 æ·»åŠ åˆ°è¯¥é›†åˆä¸­ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 1 ï¼Œå› ä¸º 1 åœ¨ä¸Šä¸€æ­¥ä¸­è¢«æ·»åŠ åˆ°é›†åˆä¸­ï¼Œä¸” 1 æ˜¯æœ€å°çš„æ•´æ•°ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 4 ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚<br>smallestInfiniteSet.popSmallest(); &#x2F;&#x2F; è¿”å› 5 ï¼Œå¹¶å°†å…¶ä»é›†åˆä¸­ç§»é™¤ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>åˆ«é—®ï¼Œé—®å°±æ˜¯å“ˆå¸Œè¡¨</strong> â€” å»ºç«‹ä¸€ä¸ª <code>pop_list</code> è®°å½•å·²è¢«ç§»é™¤çš„å…ƒç´ ã€‚<br>ï¼ˆ1ï¼‰ <code>popSmallest()</code> æ“ä½œï¼šæ£€éªŒ <code>pop_list</code> ä¸­å…ƒç´  <code>pop_list[i]</code> ä¸å…¶ä¸‹æ ‡ <code>i</code> æ˜¯å¦æ»¡è¶³ <code>pop_list[i] == i+1</code>ï¼Œä¸æ»¡è¶³åˆ™è¯´æ˜ <code>i+1</code> è¿˜åœ¨æ— é™é›†åˆä¸­ï¼Œè¿”å› <code>i+1</code> å³å¯ï¼Œå¦åˆ™è¿”å›æœ€åä¸€ä¸ªå…ƒç´ çš„ä¸‹ä¸€ä¸ªæ•°å­— <code>pop_list[-1]+1</code> ï¼Œå¹¶å°†è¿”å›ç»“æœæ·»åŠ è‡³ <code>pop_list</code> ä¸­ã€‚<br>ï¼ˆ2ï¼‰<code>addBack(num)</code> æ“ä½œï¼šç›´æ¥ä» <code>pop_list</code> ä¸­ç§»é™¤ <code>num</code> å³å¯ã€‚</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š $O(M \times NlogN)$ï¼Œ$M$ ä¸ºè°ƒç”¨å„æ–¹æ³•çš„æ¬¡æ•°ï¼Œç©ºé—´å¤æ‚åº¦ï¼š $O(N)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">SmallestInfiniteSet</span>:<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        self.pop_list = []<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">popSmallest</span>(<span class="hljs-params">self</span>) -&gt; <span class="hljs-built_in">int</span>:<br>        <span class="hljs-keyword">if</span> self.pop_list == []:<br>            ret = <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            self.pop_list.sort()<br>            n = <span class="hljs-built_in">len</span>(self.pop_list)<br>            i = <span class="hljs-number">0</span><br>            <span class="hljs-keyword">while</span>(i &lt; n):<br>                <span class="hljs-keyword">if</span> self.pop_list[i] != i+<span class="hljs-number">1</span>:<br>                    ret = i+<span class="hljs-number">1</span><br>                    <span class="hljs-keyword">break</span><br>                i += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> i == n:<br>                ret = self.pop_list[-<span class="hljs-number">1</span>] + <span class="hljs-number">1</span><br>        self.pop_list.append(ret)<br>        <span class="hljs-keyword">return</span> ret<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">addBack</span>(<span class="hljs-params">self, num: <span class="hljs-built_in">int</span></span>) -&gt; <span class="hljs-literal">None</span>:<br>        <span class="hljs-keyword">if</span> num <span class="hljs-keyword">in</span> self.pop_list:<br>            self.pop_list.remove(num)<br></code></pre></td></tr></table></figure><h2 id="T3-6114-ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²"><a href="#T3-6114-ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²" class="headerlink" title="T3. 6114. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²"></a>T3. <a href="https://leetcode.cn/contest/weekly-contest-301/problems/move-pieces-to-obtain-a-string/">6114. ç§»åŠ¨ç‰‡æ®µå¾—åˆ°å­—ç¬¦ä¸²</a></h2><p>ç»™ä½ ä¸¤ä¸ªå­—ç¬¦ä¸² <code>start</code> å’Œ <code>target</code> ï¼Œé•¿åº¦å‡ä¸º <code>n</code> ã€‚æ¯ä¸ªå­—ç¬¦ä¸² <strong><code>ä»…</code></strong> ç”±å­—ç¬¦ <code>&#39;L&#39;</code>ã€<code>&#39;R&#39;</code> å’Œ <code>&#39;_&#39;</code> ç»„æˆï¼Œå…¶ä¸­ï¼š</p><ul><li>å­—ç¬¦ <code>&#39;L&#39;</code> å’Œ <code>&#39;R&#39;</code> è¡¨ç¤ºç‰‡æ®µï¼Œå…¶ä¸­ç‰‡æ®µ <code>&#39;L&#39;</code> åªæœ‰åœ¨å…¶å·¦ä¾§ç›´æ¥å­˜åœ¨ä¸€ä¸ª <strong><code>ç©ºä½</code></strong> æ—¶æ‰èƒ½å‘ <strong><code>å·¦</code></strong> ç§»åŠ¨ï¼Œè€Œç‰‡æ®µ <code>&#39;R&#39;</code> åªæœ‰åœ¨å…¶å³ä¾§ç›´æ¥å­˜åœ¨ä¸€ä¸ª <strong><code>ç©ºä½</code></strong> æ—¶æ‰èƒ½å‘ <strong><code>å³</code></strong> ç§»åŠ¨ã€‚</li><li>å­—ç¬¦ <code>&#39;_&#39;</code> è¡¨ç¤ºå¯ä»¥è¢« ä»»æ„ <code>&#39;L&#39;</code> æˆ– <code>&#39;R&#39;</code> ç‰‡æ®µå æ®çš„ç©ºä½ã€‚</li></ul><p>å¦‚æœåœ¨ç§»åŠ¨å­—ç¬¦ä¸² <code>start</code> ä¸­çš„ç‰‡æ®µä»»æ„æ¬¡ä¹‹åå¯ä»¥å¾—åˆ°å­—ç¬¦ä¸² <code>target</code> ï¼Œè¿”å› <code>true</code> ï¼›å¦åˆ™ï¼Œè¿”å› <code>false</code> ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šstart &#x3D; â€œ_L__R__R_â€, target &#x3D; â€œL______RRâ€<br><strong>è¾“å‡º</strong>ï¼štrue<br><strong>è§£é‡Š</strong>ï¼šå¯ä»¥ä»å­—ç¬¦ä¸² start è·å¾— target ï¼Œéœ€è¦è¿›è¡Œä¸‹é¢çš„ç§»åŠ¨ï¼š<br>-&gt; å°†ç¬¬ä¸€ä¸ªç‰‡æ®µå‘å·¦ç§»åŠ¨ä¸€æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º â€œL___R__R_â€ ã€‚<br>-&gt; å°†æœ€åä¸€ä¸ªç‰‡æ®µå‘å³ç§»åŠ¨ä¸€æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º â€œL___R___Râ€ ã€‚<br>-&gt; å°†ç¬¬äºŒä¸ªç‰‡æ®µå‘å³ç§»åŠ¨æ•£æ­¥ï¼Œå­—ç¬¦ä¸²ç°åœ¨å˜ä¸º â€œL______RRâ€ ã€‚<br>å¯ä»¥ä»å­—ç¬¦ä¸² start å¾—åˆ° target ï¼Œæ‰€ä»¥è¿”å› true ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>è¿˜æ˜¯å“ˆå¸Œè¡¨</strong> â€” åˆ†åˆ«è®°å½• <code>start</code> å’Œ <code>target</code> ä¸­ <code>&#39;L&#39;</code> å’Œ <code>&#39;R&#39;</code> å‡ºç°çš„é¡ºåºå’Œä½ç½®ç´¢å¼•ï¼Œè‹¥é¡ºåºä¸ä¸€è‡´åˆ™ç›´æ¥è¿”å› <code>false</code>ï¼Œå¦åˆ™è¿›ä¸€æ­¥åˆ¤æ–­ <code>start</code> ä¸­æ¯ä¸€ä¸ª <code>&#39;L&#39;</code> å’Œ <code>&#39;R&#39;</code> çš„ä½ç½®çš„åˆæ³•æ€§ã€‚<br>éå†æ‰€æœ‰ <code>&#39;L&#39;</code> çš„ç´¢å¼•ï¼Œå¯¹äºç¬¬ <code>i</code> ä¸ª <code>&#39;L&#39;</code>ï¼Œ å…¶åœ¨ <code>start</code> ä¸­çš„ä½ç½®ç´¢å¼•ä¸èƒ½ <strong><code>å°äº</code></strong> åœ¨ <code>target</code> ä¸­çš„ç´¢å¼•ï¼Œå³å·¦ä¾§ã€‚<br>éå†æ‰€æœ‰ <code>&#39;R&#39;</code> çš„ç´¢å¼•ï¼Œå¯¹äºç¬¬ <code>i</code> ä¸ª <code>&#39;R&#39;</code>ï¼Œ å…¶åœ¨ <code>start</code> ä¸­çš„ä½ç½®ç´¢å¼•ä¸èƒ½ <strong><code>å¤§äº</code></strong> åœ¨ <code>target</code> ä¸­çš„ç´¢å¼•ï¼Œå³å³ä¾§ã€‚</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š $O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š $O(N)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">canChange</span>(<span class="hljs-params">self, start: <span class="hljs-built_in">str</span>, target: <span class="hljs-built_in">str</span></span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        n = <span class="hljs-built_in">len</span>(start)<br>        s_L, s_R, t_L, t_R = []<br>        s, t = <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>            <span class="hljs-keyword">if</span> start[i] == <span class="hljs-string">&#x27;L&#x27;</span>:<br>                s_L.append(i)<br>                s += <span class="hljs-string">&#x27;L&#x27;</span><br>            <span class="hljs-keyword">if</span> start[i] == <span class="hljs-string">&#x27;R&#x27;</span>:<br>                s_R.append(i)<br>                s += <span class="hljs-string">&#x27;R&#x27;</span><br>            <span class="hljs-keyword">if</span> target[i] == <span class="hljs-string">&#x27;L&#x27;</span>:<br>                t_L.append(i)<br>                t += <span class="hljs-string">&#x27;L&#x27;</span><br>            <span class="hljs-keyword">if</span> target[i] == <span class="hljs-string">&#x27;R&#x27;</span>:<br>                t_R.append(i)<br>                t += <span class="hljs-string">&#x27;R&#x27;</span><br>        <br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(s_L) != <span class="hljs-built_in">len</span>(t_L) <span class="hljs-keyword">or</span> <span class="hljs-built_in">len</span>(s_R) != <span class="hljs-built_in">len</span>(t_R) <span class="hljs-keyword">or</span> s != t:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>    <br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s_L)):<br>            <span class="hljs-keyword">if</span> s_L[i] &lt; t_L[i]:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(s_R)):<br>            <span class="hljs-keyword">if</span> s_R[i] &gt; t_R[i]:<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br></code></pre></td></tr></table></figure><h2 id="T4-6115-ç»Ÿè®¡ç†æƒ³æ•°ç»„çš„æ•°ç›®"><a href="#T4-6115-ç»Ÿè®¡ç†æƒ³æ•°ç»„çš„æ•°ç›®" class="headerlink" title="T4. 6115. ç»Ÿè®¡ç†æƒ³æ•°ç»„çš„æ•°ç›®"></a>T4. <a href="https://leetcode.cn/contest/weekly-contest-301/problems/count-the-number-of-ideal-arrays/">6115. ç»Ÿè®¡ç†æƒ³æ•°ç»„çš„æ•°ç›®</a></h2><p>ç»™ä½ ä¸¤ä¸ªæ•´æ•° <code>n</code> å’Œ <code>maxValue</code> ï¼Œç”¨äºæè¿°ä¸€ä¸ª <strong><code>ç†æƒ³æ•°ç»„</code></strong> ã€‚<br>å¯¹äºä¸‹æ ‡ä» <code>0</code> å¼€å§‹ã€é•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>arr</code> ï¼Œå¦‚æœæ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼Œåˆ™è®¤ä¸ºè¯¥æ•°ç»„æ˜¯ä¸€ä¸ª <strong><code>ç†æƒ³æ•°ç»„</code></strong> ï¼š</p><ul><li>æ¯ä¸ª <code>arr[i]</code> éƒ½æ˜¯ä» <code>1</code> åˆ° <code>maxValue</code> èŒƒå›´å†…çš„ä¸€ä¸ªå€¼ï¼Œå…¶ä¸­ <code>0 &lt;= i &lt; n</code> ã€‚</li><li>æ¯ä¸ª <code>arr[i]</code> éƒ½å¯ä»¥è¢« <code>arr[i - 1]</code> æ•´é™¤ï¼Œå…¶ä¸­ <code>0 &lt; i &lt; n</code> ã€‚</li></ul><p>è¿”å›é•¿åº¦ä¸º <code>n</code> çš„ <strong><code>ä¸åŒ</code></strong> ç†æƒ³æ•°ç»„çš„æ•°ç›®ã€‚ç”±äºç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¿”å›å¯¹ <code>10^9 + 7</code> å–ä½™çš„ç»“æœã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šn &#x3D; 2, maxValue &#x3D; 5<br><strong>è¾“å‡º</strong>ï¼š10<br><strong>è§£é‡Š</strong>ï¼šå­˜åœ¨ä»¥ä¸‹ç†æƒ³æ•°ç»„ï¼š<br>-&gt; ä»¥ 1 å¼€å¤´çš„æ•°ç»„ï¼ˆ5 ä¸ªï¼‰ï¼š[1,1]ã€[1,2]ã€[1,3]ã€[1,4]ã€[1,5]<br>-&gt; ä»¥ 2 å¼€å¤´çš„æ•°ç»„ï¼ˆ2 ä¸ªï¼‰ï¼š[2,2]ã€[2,4]<br>-&gt; ä»¥ 3 å¼€å¤´çš„æ•°ç»„ï¼ˆ1 ä¸ªï¼‰ï¼š[3,3]<br>-&gt; ä»¥ 4 å¼€å¤´çš„æ•°ç»„ï¼ˆ1 ä¸ªï¼‰ï¼š[4,4]<br>-&gt; ä»¥ 5 å¼€å¤´çš„æ•°ç»„ï¼ˆ1 ä¸ªï¼‰ï¼š[5,5]<br>å…±è®¡ 5 + 2 + 1 + 1 + 1 &#x3D; 10 ä¸ªä¸åŒç†æƒ³æ•°ç»„ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><br></code></pre></td></tr></table></figure><hr><h1 id="2022-07-09-ç¬¬-82-åœºåŒå‘¨èµ›"><a href="#2022-07-09-ç¬¬-82-åœºåŒå‘¨èµ›" class="headerlink" title="2022-07-09 ç¬¬ 82 åœºåŒå‘¨èµ›"></a>2022-07-09 ç¬¬ 82 åœºåŒå‘¨èµ›</h1><p>æ™šä¸Šåç‚¹åŠå¼€å§‹çš„å‘¨èµ›ï¼Œæ™šä¸Šåä¸€ç‚¹æ‰æƒ³èµ·æ¥è‡ªå·±æŠ¥åäº†ï¼Œç¬¬ä¸€æ¬¡å‚åŠ å‘¨èµ›å°±ç»™æˆ‘æ¥äº†ä¸ªä¸‹é©¬å¨â€¦â€¦</p><h2 id="T1-6116-è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼"><a href="#T1-6116-è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼" class="headerlink" title="T1. 6116. è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼"></a>T1. <a href="https://leetcode.cn/contest/biweekly-contest-82/problems/evaluate-boolean-binary-tree/">6116. è®¡ç®—å¸ƒå°”äºŒå‰æ ‘çš„å€¼</a></h2><p>ç»™ä½ ä¸€æ£µ <strong><code>å®Œæ•´äºŒå‰æ ‘</code></strong> çš„æ ¹ï¼Œè¿™æ£µæ ‘æœ‰ä»¥ä¸‹ç‰¹å¾ï¼š<br><strong><code>å¶å­èŠ‚ç‚¹</code></strong> è¦ä¹ˆå€¼ä¸º <code>0</code> è¦ä¹ˆå€¼ä¸º <code>1</code> ï¼Œå…¶ä¸­ <code>0</code> è¡¨ç¤º <code>False</code> ï¼Œ<code>1</code> è¡¨ç¤º <code>True</code> ã€‚<br><strong><code>éå¶å­èŠ‚ç‚¹</code></strong> è¦ä¹ˆå€¼ä¸º <code>2</code> è¦ä¹ˆå€¼ä¸º <code>3</code> ï¼Œå…¶ä¸­ <code>2</code> è¡¨ç¤ºé€»è¾‘æˆ– <code>OR</code> ï¼Œ<code>3</code> è¡¨ç¤ºé€»è¾‘ä¸ <code>AND</code> ã€‚<br><strong><code>è®¡ç®—</code></strong> ä¸€ä¸ªèŠ‚ç‚¹çš„å€¼æ–¹å¼å¦‚ä¸‹ï¼š<br>å¦‚æœèŠ‚ç‚¹æ˜¯ä¸ªå¶å­èŠ‚ç‚¹ï¼Œé‚£ä¹ˆèŠ‚ç‚¹çš„ <strong><code>å€¼</code></strong> ä¸ºå®ƒæœ¬èº«ï¼Œå³ <code>True</code> æˆ–è€… <code>False</code> ã€‚<br>å¦åˆ™ï¼Œ**<code>è®¡ç®—</code>** ä¸¤ä¸ªå­©å­çš„èŠ‚ç‚¹å€¼ï¼Œç„¶åå°†è¯¥èŠ‚ç‚¹çš„è¿ç®—ç¬¦å¯¹ä¸¤ä¸ªå­©å­å€¼è¿›è¡Œ <strong><code>è¿ç®—</code></strong> ã€‚<br>è¿”å›æ ¹èŠ‚ç‚¹ <code>root</code> çš„å¸ƒå°”è¿ç®—å€¼ã€‚<br><strong><code>å®Œæ•´äºŒå‰æ ‘</code></strong> æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ‰ <code>0</code> ä¸ªæˆ–è€… <code>2</code> ä¸ªå­©å­çš„äºŒå‰æ ‘ã€‚<br><strong><code>å¶å­èŠ‚ç‚¹</code></strong> æ˜¯æ²¡æœ‰å­©å­çš„èŠ‚ç‚¹ã€‚</p><p><img src="https://s2.loli.net/2022/07/10/cuzUoGgBhpmRPMA.png"></p><blockquote><p><strong>è¾“å…¥</strong>ï¼šroot &#x3D; [2,1,3,null,null,0,1]<br><strong>è¾“å‡º</strong>ï¼štrue<br><strong>è§£é‡Š</strong>ï¼šä¸Šå›¾å±•ç¤ºäº†è®¡ç®—è¿‡ç¨‹ã€‚<br>AND ä¸è¿ç®—èŠ‚ç‚¹çš„å€¼ä¸º False AND True &#x3D; False ã€‚<br>OR è¿ç®—èŠ‚ç‚¹çš„å€¼ä¸º True OR False &#x3D; True ã€‚<br>æ ¹èŠ‚ç‚¹çš„å€¼ä¸º True ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿”å› true ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>é€’å½’</strong> â€” ç”±äºæ˜¯å®Œæ•´äºŒå‰æ ‘ï¼ŒåªåŒ…å«å¶å­èŠ‚ç‚¹å’Œâ€œä¼ªæ ¹èŠ‚ç‚¹â€ï¼Œå¶å­èŠ‚ç‚¹ç›´æ¥è¿”å›ï¼Œâ€œä¼ªæ ¹èŠ‚ç‚¹â€è¿”å›è¿ç®—ç»“æœã€‚</p></blockquote><p>æ—¶é—´å¤æ‚åº¦ï¼š $O(N)$ï¼Œç©ºé—´å¤æ‚åº¦ï¼š $O(1)$</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">evaluateTree</span>(<span class="hljs-params">self, root: <span class="hljs-type">Optional</span>[TreeNode]</span>) -&gt; <span class="hljs-built_in">bool</span>:<br>        <span class="hljs-keyword">if</span> root.val == <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">False</span><br>        <span class="hljs-keyword">elif</span> root.val == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">True</span><br>        <span class="hljs-keyword">elif</span> root.val == <span class="hljs-number">2</span>:<br>            <span class="hljs-keyword">return</span> self.evaluateTree(root.left) <span class="hljs-keyword">or</span> self.evaluateTree(root.right)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> self.evaluateTree(root.left) <span class="hljs-keyword">and</span> self.evaluateTree(root.right)<br></code></pre></td></tr></table></figure><h2 id="T2-6117-åä¸Šå…¬äº¤çš„æœ€æ™šæ—¶é—´"><a href="#T2-6117-åä¸Šå…¬äº¤çš„æœ€æ™šæ—¶é—´" class="headerlink" title="T2. 6117. åä¸Šå…¬äº¤çš„æœ€æ™šæ—¶é—´"></a>T2. <a href="https://leetcode.cn/contest/biweekly-contest-82/problems/the-latest-time-to-catch-a-bus/">6117. åä¸Šå…¬äº¤çš„æœ€æ™šæ—¶é—´</a></h2><p>ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹é•¿åº¦ä¸º <code>n</code> çš„æ•´æ•°æ•°ç»„ <code>buses</code> ï¼Œå…¶ä¸­ <code>buses[i]</code> è¡¨ç¤ºç¬¬ <code>i</code> è¾†å…¬äº¤è½¦çš„å‡ºå‘æ—¶é—´ã€‚åŒæ—¶ç»™ä½ ä¸€ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹é•¿åº¦ä¸º <code>m</code> çš„æ•´æ•°æ•°ç»„ <code>passengers</code> ï¼Œå…¶ä¸­ <code>passengers[j]</code> è¡¨ç¤ºç¬¬ <code>j</code> ä½ä¹˜å®¢çš„åˆ°è¾¾æ—¶é—´ã€‚æ‰€æœ‰å…¬äº¤è½¦å‡ºå‘çš„æ—¶é—´äº’ä¸ç›¸åŒï¼Œæ‰€æœ‰ä¹˜å®¢åˆ°è¾¾çš„æ—¶é—´ä¹Ÿäº’ä¸ç›¸åŒã€‚<br>ç»™ä½ ä¸€ä¸ªæ•´æ•° <code>capacity</code> ï¼Œè¡¨ç¤ºæ¯è¾†å…¬äº¤è½¦ <strong><code>æœ€å¤š</code></strong> èƒ½å®¹çº³çš„ä¹˜å®¢æ•°ç›®ã€‚<br>æ¯ä½ä¹˜å®¢éƒ½ä¼šæ­ä¹˜ä¸‹ä¸€è¾†æœ‰åº§ä½çš„å…¬äº¤è½¦ã€‚å¦‚æœä½ åœ¨ <code>y</code> æ—¶åˆ»åˆ°è¾¾ï¼Œå…¬äº¤åœ¨ <code>x</code> æ—¶åˆ»å‡ºå‘ï¼Œæ»¡è¶³ <code>y &lt;= x</code>  ä¸”å…¬äº¤æ²¡æœ‰æ»¡ï¼Œé‚£ä¹ˆä½ å¯ä»¥æ­ä¹˜è¿™ä¸€è¾†å…¬äº¤ã€‚**<code>æœ€æ—©</code>** åˆ°è¾¾çš„ä¹˜å®¢ä¼˜å…ˆä¸Šè½¦ã€‚<br>è¿”å›ä½ å¯ä»¥æ­ä¹˜å…¬äº¤è½¦çš„æœ€æ™šåˆ°è¾¾å…¬äº¤ç«™æ—¶é—´ã€‚ä½  <strong><code>ä¸èƒ½</code></strong> è·Ÿåˆ«çš„ä¹˜å®¢åŒæ—¶åˆ»åˆ°è¾¾ã€‚<br><strong>æ³¨æ„</strong>ï¼šæ•°ç»„ <code>buses</code> å’Œ <code>passengers</code> ä¸ä¸€å®šæ˜¯æœ‰åºçš„ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šbuses &#x3D; [10,20], passengers &#x3D; [2,17,18,19], capacity &#x3D; 2<br><strong>è¾“å‡º</strong>ï¼š16<br><strong>è§£é‡Š</strong>ï¼š<br>ç¬¬ 1 è¾†å…¬äº¤è½¦è½½ç€ç¬¬ 1 ä½ä¹˜å®¢ã€‚<br>ç¬¬ 2 è¾†å…¬äº¤è½¦è½½ç€ä½ å’Œç¬¬ 2 ä½ä¹˜å®¢ã€‚<br>æ³¨æ„ä½ ä¸èƒ½è·Ÿå…¶ä»–ä¹˜å®¢åŒä¸€æ—¶é—´åˆ°è¾¾ï¼Œæ‰€ä»¥ä½ å¿…é¡»åœ¨ç¬¬äºŒä½ä¹˜å®¢ä¹‹å‰åˆ°è¾¾ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š<br><strong>æ¨¡æ‹Ÿ</strong>ï¼šå‘¨èµ›çš„æ—¶å€™åªæƒ³ç€æ¨¡æ‹Ÿï¼Œæ»¡è„‘å­éƒ½æ˜¯æ¨¡æ‹Ÿï¼Œæœ€åæ„Ÿè§‰è¦è¿‡äº†ï¼Œæäº¤äº†å››äº”æ¬¡éƒ½æœ‰é—®é¢˜â€¦â€¦è‡ªé—­ä»æ­¤å¼€å§‹</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br></code></pre></td></tr></table></figure><h2 id="T3-6118-æœ€å°å·®å€¼å¹³æ–¹å’Œ"><a href="#T3-6118-æœ€å°å·®å€¼å¹³æ–¹å’Œ" class="headerlink" title="T3. 6118. æœ€å°å·®å€¼å¹³æ–¹å’Œ"></a>T3. <a href="https://leetcode.cn/contest/biweekly-contest-82/problems/minimum-sum-of-squared-difference/">6118. æœ€å°å·®å€¼å¹³æ–¹å’Œ</a></h2><p>ç»™ä½ ä¸¤ä¸ªä¸‹æ ‡ä» <code>0</code> å¼€å§‹çš„æ•´æ•°æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code> ï¼Œé•¿åº¦ä¸º <code>n</code> ã€‚<br>æ•°ç»„ <code>nums1</code> å’Œ <code>nums2</code> çš„ <strong><code>å·®å€¼å¹³æ–¹å’Œ</code></strong> å®šä¹‰ä¸ºæ‰€æœ‰æ»¡è¶³ <code>0 &lt;= i &lt; n</code> çš„ <code>(nums1[i] - nums2[i])^2</code> ä¹‹å’Œã€‚<br>åŒæ—¶ç»™ä½ ä¸¤ä¸ªæ­£æ•´æ•° <code>k1</code> å’Œ <code>k2</code> ã€‚ä½ å¯ä»¥å°† <code>nums1</code> ä¸­çš„ä»»æ„å…ƒç´  <code>+1</code> æˆ–è€… <code>-1</code> è‡³å¤š <code>k1</code> æ¬¡ã€‚ç±»ä¼¼çš„ï¼Œä½ å¯ä»¥å°† <code>nums2</code> ä¸­çš„ä»»æ„å…ƒç´  <code>+1</code> æˆ–è€… <code>-1</code> è‡³å¤š <code>k2</code> æ¬¡ã€‚<br>è¯·ä½ è¿”å›ä¿®æ”¹æ•°ç»„ <code>nums1</code> è‡³å¤š <code>k1</code> æ¬¡ä¸”ä¿®æ”¹æ•°ç»„ <code>nums2</code> è‡³å¤š <code>k2</code> æ¬¡åçš„æœ€å° <strong><code>å·®å€¼å¹³æ–¹å’Œ</code></strong> ã€‚<br><strong>æ³¨æ„</strong>ï¼šä½ å¯ä»¥å°†æ•°ç»„ä¸­çš„å…ƒç´ å˜æˆ <strong><code>è´Ÿ</code></strong> æ•´æ•°ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums1 &#x3D; [1,4,10,12], nums2 &#x3D; [5,8,6,9], k1 &#x3D; 1, k2 &#x3D; 1<br><strong>è¾“å‡º</strong>ï¼š43<br><strong>è§£é‡Š</strong>ï¼šä¸€ç§å¾—åˆ°æœ€å°å·®å€¼å¹³æ–¹å’Œçš„æ–¹å¼ä¸ºï¼š<br>-&gt; å°† nums1[0] å¢åŠ ä¸€æ¬¡ã€‚<br>-&gt; å°† nums2[2] å¢åŠ ä¸€æ¬¡ã€‚<br>æœ€å°å·®å€¼å¹³æ–¹å’Œä¸ºï¼š<br>(2 - 5)^2 + (4 - 8)^2 + (10 - 7)^2 + (12 - 9)^2 &#x3D; 43 ã€‚<br>æ³¨æ„ï¼Œä¹Ÿæœ‰å…¶ä»–æ–¹å¼å¯ä»¥å¾—åˆ°æœ€å°å·®å€¼å¹³æ–¹å’Œï¼Œä½†æ²¡æœ‰å¾—åˆ°æ¯” 43 æ›´å°ç­”æ¡ˆçš„æ–¹æ¡ˆã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br></code></pre></td></tr></table></figure><h2 id="T4-6119-å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„"><a href="#T4-6119-å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„" class="headerlink" title="T4. 6119. å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„"></a>T4. <a href="https://leetcode.cn/contest/biweekly-contest-82/problems/subarray-with-elements-greater-than-varying-threshold/">6119. å…ƒç´ å€¼å¤§äºå˜åŒ–é˜ˆå€¼çš„å­æ•°ç»„</a></h2><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ <code>nums</code> å’Œä¸€ä¸ªæ•´æ•° <code>threshold</code> ã€‚<br>æ‰¾åˆ°é•¿åº¦ä¸º <code>k</code> çš„ <code>nums</code> å­æ•°ç»„ï¼Œæ»¡è¶³æ•°ç»„ä¸­ <strong><code>æ¯ä¸ª</code></strong> å…ƒç´ éƒ½ <strong><code>å¤§äº</code></strong> <code>threshold / k</code> ã€‚<br>è¯·ä½ è¿”å›æ»¡è¶³è¦æ±‚çš„ <strong><code>ä»»æ„</code></strong> å­æ•°ç»„çš„ <strong><code>å¤§å°</code></strong> ã€‚å¦‚æœæ²¡æœ‰è¿™æ ·çš„å­æ•°ç»„ï¼Œè¿”å› <code>-1</code> ã€‚<br><strong><code>å­æ•°ç»„</code></strong> æ˜¯æ•°ç»„ä¸­ä¸€æ®µè¿ç»­éç©ºçš„å…ƒç´ åºåˆ—ã€‚</p><blockquote><p><strong>è¾“å…¥</strong>ï¼šnums &#x3D; [6,5,6,5,8], threshold &#x3D; 7<br><strong>è¾“å‡º</strong>ï¼š1<br><strong>è§£é‡Š</strong>ï¼šå­æ•°ç»„ [8] å¤§å°ä¸º 1 ï¼Œä¸” 8 &gt; 7 &#x2F; 1 &#x3D; 7 ã€‚æ‰€ä»¥è¿”å› 1 ã€‚<br>æ³¨æ„å­æ•°ç»„ [6,5] å¤§å°ä¸º 2 ï¼Œæ¯ä¸ªå…ƒç´ éƒ½å¤§äº 7 &#x2F; 2 &#x3D; 3.5 ã€‚<br>ç±»ä¼¼çš„ï¼Œå­æ•°ç»„ [6,5,6] ï¼Œ[6,5,6,5] ï¼Œ[6,5,6,5,8] éƒ½æ˜¯ç¬¦åˆæ¡ä»¶çš„å­æ•°ç»„ã€‚<br>æ‰€ä»¥è¿”å› 2, 3, 4 å’Œ 5 éƒ½å¯ä»¥ã€‚</p></blockquote><blockquote><p><strong>è§£é¢˜æ€è·¯</strong>ï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Solution</span>:<br></code></pre></td></tr></table></figure><hr><p><em>ä»¥ä¸‹ä¸ºå¸¸ç”¨æ–¹æ³•ï¼Œæ–¹ä¾¿é€ŸæŸ¥ä½¿ç”¨</em></p><h1 id="Pythonç¯‡"><a href="#Pythonç¯‡" class="headerlink" title="Pythonç¯‡"></a>Pythonç¯‡</h1><h2 id="å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ"><a href="#å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ" class="headerlink" title="å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ"></a>å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ</h2><h3 id="åˆ—è¡¨ï¼ˆListï¼‰"><a href="#åˆ—è¡¨ï¼ˆListï¼‰" class="headerlink" title="åˆ—è¡¨ï¼ˆListï¼‰"></a>åˆ—è¡¨ï¼ˆListï¼‰</h3><p>$\looparrowright$ æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">list</span>.append(obj) - åœ¨åˆ—è¡¨æœ«å°¾æ·»åŠ æ–°çš„å¯¹è±¡<br><span class="hljs-built_in">list</span>.count(obj) - ç»Ÿè®¡æŸä¸ªå…ƒç´ åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°<br><span class="hljs-built_in">list</span>.extend(seq) - åœ¨åˆ—è¡¨æœ«å°¾ä¸€æ¬¡æ€§è¿½åŠ å¦ä¸€ä¸ªåºåˆ—ä¸­çš„å¤šä¸ªå€¼ï¼ˆç”¨æ–°åˆ—è¡¨æ‰©å±•åŸæ¥çš„åˆ—è¡¨ï¼‰<br><span class="hljs-built_in">list</span>.index(obj) - ä»åˆ—è¡¨ä¸­æ‰¾å‡ºæŸä¸ªå€¼ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹çš„ç´¢å¼•ä½ç½®<br><span class="hljs-built_in">list</span>.insert(index, obj) - å°†å¯¹è±¡æ’å…¥åˆ—è¡¨indexçš„ä½ç½®<br><span class="hljs-built_in">list</span>.pop([index=-<span class="hljs-number">1</span>]) - ç§»é™¤åˆ—è¡¨ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼ˆé»˜è®¤æœ€åä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œå¹¶ä¸”è¿”å›è¯¥å…ƒç´ çš„å€¼<br><span class="hljs-built_in">list</span>.remove(obj) - ç§»é™¤åˆ—è¡¨ä¸­æŸä¸ªå€¼çš„ç¬¬ä¸€ä¸ªåŒ¹é…é¡¹<br><span class="hljs-built_in">list</span>.reverse() - åå‘åˆ—è¡¨ä¸­å…ƒç´ <br><span class="hljs-built_in">list</span>.sort(cmp=<span class="hljs-literal">None</span>, key=<span class="hljs-literal">None</span>, reverse=<span class="hljs-literal">False</span>) - å¯¹åŸåˆ—è¡¨è¿›è¡Œæ’åº<br></code></pre></td></tr></table></figure><h3 id="å…ƒç»„ï¼ˆTupleï¼‰"><a href="#å…ƒç»„ï¼ˆTupleï¼‰" class="headerlink" title="å…ƒç»„ï¼ˆTupleï¼‰"></a>å…ƒç»„ï¼ˆTupleï¼‰</h3><p>$\looparrowright$ æ“ä½œå¤§è‡´ä¸åˆ—è¡¨ä¸€è‡´ï¼ŒåŒºåˆ«åœ¨äº<strong>å…ƒç»„çš„å…ƒç´ ä¸èƒ½ä¿®æ”¹æˆ–åˆ é™¤</strong>ï¼Œåªèƒ½åˆ é™¤æ•´ä¸ªå…ƒç»„ã€‚</p><h3 id="å­—å…¸ï¼ˆDictionaryï¼‰"><a href="#å­—å…¸ï¼ˆDictionaryï¼‰" class="headerlink" title="å­—å…¸ï¼ˆDictionaryï¼‰"></a>å­—å…¸ï¼ˆDictionaryï¼‰</h3><p>$\looparrowright$ å¯å˜å®¹å™¨æ¨¡å‹ï¼Œå¯å­˜å‚¨ä»»æ„ç±»å‹å¯¹è±¡ã€‚<br>$\looparrowright$ æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-built_in">dict</span>.clear()<br> - åˆ é™¤å­—å…¸å†…æ‰€æœ‰å…ƒç´ <br><span class="hljs-built_in">dict</span>.copy()<br> - è¿”å›ä¸€ä¸ªå­—å…¸çš„æµ…å¤åˆ¶<br><span class="hljs-built_in">dict</span>.fromkeys(seq[, val])<br> - åˆ›å»ºä¸€ä¸ªæ–°å­—å…¸ï¼Œä»¥åºåˆ— seq ä¸­å…ƒç´ åšå­—å…¸çš„é”®ï¼Œval ä¸ºå­—å…¸æ‰€æœ‰é”®å¯¹åº”çš„åˆå§‹å€¼<br><span class="hljs-built_in">dict</span>.get(key, default=<span class="hljs-literal">None</span>)<br> - è¿”å›æŒ‡å®šé”®çš„å€¼ï¼Œå¦‚æœå€¼ä¸åœ¨å­—å…¸ä¸­è¿”å›defaultå€¼<br><span class="hljs-built_in">dict</span>.has_key(key)<br> - å¦‚æœé”®åœ¨å­—å…¸<span class="hljs-built_in">dict</span>é‡Œè¿”å›trueï¼Œå¦åˆ™è¿”å›false<br><span class="hljs-built_in">dict</span>.items()<br> - ä»¥åˆ—è¡¨è¿”å›å¯éå†çš„(é”®, å€¼)å…ƒç»„æ•°ç»„<br><span class="hljs-built_in">dict</span>.keys()<br> - ä»¥åˆ—è¡¨è¿”å›ä¸€ä¸ªå­—å…¸æ‰€æœ‰çš„é”®<br><span class="hljs-built_in">dict</span>.setdefault(key, default=<span class="hljs-literal">None</span>)<br> - å’Œget()ç±»ä¼¼, ä½†å¦‚æœé”®ä¸å­˜åœ¨äºå­—å…¸ä¸­ï¼Œå°†ä¼šæ·»åŠ é”®å¹¶å°†å€¼è®¾ä¸ºdefault<br><span class="hljs-built_in">dict</span>.update(dict2)<br> - æŠŠå­—å…¸dict2çš„é”®/å€¼å¯¹æ›´æ–°åˆ°<span class="hljs-built_in">dict</span>é‡Œ<br><span class="hljs-built_in">dict</span>.values()<br> - ä»¥åˆ—è¡¨è¿”å›å­—å…¸ä¸­çš„æ‰€æœ‰å€¼<br><span class="hljs-built_in">dict</span>.pop(key[,default])<br> - åˆ é™¤å­—å…¸ç»™å®šé”® key æ‰€å¯¹åº”çš„å€¼ï¼Œè¿”å›å€¼ä¸ºè¢«åˆ é™¤çš„å€¼ã€‚keyå€¼å¿…é¡»ç»™å‡ºã€‚ å¦åˆ™ï¼Œè¿”å›defaultå€¼<br><span class="hljs-built_in">dict</span>.popitem()<br> - è¿”å›å¹¶åˆ é™¤å­—å…¸ä¸­çš„æœ€åä¸€å¯¹é”®å’Œå€¼<br></code></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>$\looparrowright$ æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs Python">string.capitalize()<br> - æŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™<br>string.center(width)<br> - è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å±…ä¸­,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²<br>string.count(<span class="hljs-built_in">str</span>, beg=<span class="hljs-number">0</span>, end=<span class="hljs-built_in">len</span>(string))<br> - è¿”å›<span class="hljs-built_in">str</span>åœ¨stringé‡Œé¢å‡ºç°çš„æ¬¡æ•°ï¼Œå¦‚æœbegæˆ–è€…endæŒ‡å®šåˆ™è¿”å›æŒ‡å®šèŒƒå›´å†…<span class="hljs-built_in">str</span>å‡ºç°çš„æ¬¡æ•°<br>string.decode(encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>, errors=<span class="hljs-string">&#x27;strict&#x27;</span>)<br> - ä»¥encodingæŒ‡å®šçš„ç¼–ç æ ¼å¼è§£ç stringï¼Œå¦‚æœå‡ºé”™é»˜è®¤æŠ¥ä¸€ä¸ªValueErrorçš„å¼‚å¸¸ï¼Œé™¤éerrorsæŒ‡å®š<span class="hljs-string">&#x27;ignore&#x27;</span>æˆ–è€…<span class="hljs-string">&#x27;replace&#x27;</span><br>string.encode(encoding=<span class="hljs-string">&#x27;UTF-8&#x27;</span>, errors=<span class="hljs-string">&#x27;strict&#x27;</span>)<br> - ä»¥encodingæŒ‡å®šçš„ç¼–ç æ ¼å¼ç¼–ç stringï¼Œå¦‚æœå‡ºé”™é»˜è®¤æŠ¥ä¸€ä¸ªValueError çš„å¼‚å¸¸ï¼Œé™¤éerrorsæŒ‡å®šçš„æ˜¯<span class="hljs-string">&#x27;ignore&#x27;</span>æˆ–è€…<span class="hljs-string">&#x27;replace&#x27;</span><br>string.endswith(obj, beg=<span class="hljs-number">0</span>, end=<span class="hljs-built_in">len</span>(string))<br> - æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦ä»¥objç»“æŸï¼Œå¦‚æœbegæˆ–è€…endæŒ‡å®šåˆ™æ£€æŸ¥æŒ‡å®šçš„èŒƒå›´å†…æ˜¯å¦ä»¥obj ç»“æŸï¼Œå¦‚æœæ˜¯ï¼Œè¿”å›<span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å›<span class="hljs-literal">False</span><br>string.expandtabs(tabsize=<span class="hljs-number">8</span>)<br> - æŠŠå­—ç¬¦ä¸²stringä¸­çš„tabç¬¦å·è½¬ä¸ºç©ºæ ¼ï¼Œtabç¬¦å·é»˜è®¤çš„ç©ºæ ¼æ•°æ˜¯<span class="hljs-number">8</span><br>string.find(<span class="hljs-built_in">str</span>, beg=<span class="hljs-number">0</span>, end=<span class="hljs-built_in">len</span>(string))<br> - æ£€æµ‹<span class="hljs-built_in">str</span>æ˜¯å¦åŒ…å«åœ¨stringä¸­ï¼Œå¦‚æœbegå’ŒendæŒ‡å®šèŒƒå›´ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦‚æœæ˜¯è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å›-<span class="hljs-number">1</span><br>string.<span class="hljs-built_in">format</span>()<br> - æ ¼å¼åŒ–å­—ç¬¦ä¸²<br>string.index(<span class="hljs-built_in">str</span>, beg=<span class="hljs-number">0</span>, end=<span class="hljs-built_in">len</span>(string))<br> - è·Ÿfind()æ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡å¦‚æœ<span class="hljs-built_in">str</span>ä¸åœ¨stringä¸­ä¼šæŠ¥ä¸€ä¸ªå¼‚å¸¸.<br>string.isalnum()<br> - å¦‚æœstringè‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿”å›<span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å›<span class="hljs-literal">False</span><br>string.isalpha()<br> - å¦‚æœ string è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯åˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span><br>string.isdecimal()<br> - å¦‚æœ string åªåŒ…å«åè¿›åˆ¶æ•°å­—åˆ™è¿”å› <span class="hljs-literal">True</span> å¦åˆ™è¿”å› <span class="hljs-literal">False</span>.<br>string.isdigit()<br> - å¦‚æœ string åªåŒ…å«æ•°å­—åˆ™è¿”å› <span class="hljs-literal">True</span> å¦åˆ™è¿”å› <span class="hljs-literal">False</span>.<br>string.islower()<br> - å¦‚æœ string ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å°å†™ï¼Œåˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span><br>string.isnumeric()<br> - å¦‚æœ string ä¸­åªåŒ…å«æ•°å­—å­—ç¬¦ï¼Œåˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span><br>string.isspace()<br> - å¦‚æœ string ä¸­åªåŒ…å«ç©ºæ ¼ï¼Œåˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span>.<br>string.istitle()<br> - å¦‚æœ string æ˜¯æ ‡é¢˜åŒ–çš„(è§ title())åˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span><br>string.isupper() <br> - å¦‚æœ string ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å¤§å†™ï¼Œåˆ™è¿”å› <span class="hljs-literal">True</span>ï¼Œå¦åˆ™è¿”å› <span class="hljs-literal">False</span><br>string.join(seq)<br> - ä»¥ string ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seq ä¸­æ‰€æœ‰çš„å…ƒç´ (çš„å­—ç¬¦ä¸²è¡¨ç¤º)åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²<br>string.ljust(width)<br> - è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²<br>string.lower()<br> - è½¬æ¢ string ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™.<br>string.lstrip()<br> - æˆªæ‰ string å·¦è¾¹çš„ç©ºæ ¼<br>string.maketrans(intab, outtab])<br> - ç”¨äºåˆ›å»ºå­—ç¬¦æ˜ å°„çš„è½¬æ¢è¡¨ï¼Œå¯¹äºæ¥å—ä¸¤ä¸ªå‚æ•°çš„æœ€ç®€å•çš„è°ƒç”¨æ–¹å¼ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºéœ€è¦è½¬æ¢çš„å­—ç¬¦ï¼Œç¬¬äºŒä¸ªå‚æ•°ä¹Ÿæ˜¯å­—ç¬¦ä¸²è¡¨ç¤ºè½¬æ¢çš„ç›®æ ‡ã€‚<br><span class="hljs-built_in">max</span>(<span class="hljs-built_in">str</span>)<br> - è¿”å›å­—ç¬¦ä¸² <span class="hljs-built_in">str</span> ä¸­æœ€å¤§çš„å­—æ¯ã€‚<br><span class="hljs-built_in">min</span>(<span class="hljs-built_in">str</span>)<br> - è¿”å›å­—ç¬¦ä¸² <span class="hljs-built_in">str</span> ä¸­æœ€å°çš„å­—æ¯ã€‚<br>string.partition(<span class="hljs-built_in">str</span>)<br> - æœ‰ç‚¹åƒ find()å’Œ split()çš„ç»“åˆä½“,ä» <span class="hljs-built_in">str</span> å‡ºç°çš„ç¬¬ä¸€ä¸ªä½ç½®èµ·,æŠŠ å­— ç¬¦ ä¸² string åˆ† æˆ ä¸€ ä¸ª <span class="hljs-number">3</span> å…ƒ ç´  çš„ å…ƒ ç»„ (string_pre_str,<span class="hljs-built_in">str</span>,string_post_str),å¦‚æœ string ä¸­ä¸åŒ…å«<span class="hljs-built_in">str</span> åˆ™ string_pre_str == string.<br>string.replace(str1, str2,  num=string.count(str1))<br> - æŠŠ string ä¸­çš„ str1 æ›¿æ¢æˆ str2,å¦‚æœ num æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ num æ¬¡.<br>string.rfind(<span class="hljs-built_in">str</span>, beg=<span class="hljs-number">0</span>,end=<span class="hljs-built_in">len</span>(string))<br> - ç±»ä¼¼äº find() å‡½æ•°ï¼Œè¿”å›å­—ç¬¦ä¸²æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®ï¼Œå¦‚æœæ²¡æœ‰åŒ¹é…é¡¹åˆ™è¿”å› -<span class="hljs-number">1</span>ã€‚<br>string.rindex( <span class="hljs-built_in">str</span>, beg=<span class="hljs-number">0</span>,end=<span class="hljs-built_in">len</span>(string))<br> - ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯è¿”å›æœ€åä¸€ä¸ªåŒ¹é…åˆ°çš„å­å­—ç¬¦ä¸²çš„ç´¢å¼•å·ã€‚<br>string.rjust(width)<br> - è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½,å¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²<br>string.rpartition(<span class="hljs-built_in">str</span>)<br> - ç±»ä¼¼äº partition()å‡½æ•°,ä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾<br>string.rstrip()<br> - åˆ é™¤ string å­—ç¬¦ä¸²æœ«å°¾çš„ç©ºæ ¼<br>string.split(<span class="hljs-built_in">str</span>=<span class="hljs-string">&quot;&quot;</span>, num=string.count(<span class="hljs-built_in">str</span>))<br> - ä»¥ <span class="hljs-built_in">str</span> ä¸ºåˆ†éš”ç¬¦åˆ‡ç‰‡ stringï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…åˆ†éš” num+<span class="hljs-number">1</span> ä¸ªå­å­—ç¬¦ä¸²<br>string.splitlines([keepends])<br> - æŒ‰ç…§è¡Œ(<span class="hljs-string">&#x27;\r&#x27;</span>, <span class="hljs-string">&#x27;\r\n&#x27;</span>, \n<span class="hljs-string">&#x27;)åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨ï¼Œå¦‚æœå‚æ•° keepends ä¸º Falseï¼Œä¸åŒ…å«æ¢è¡Œç¬¦ï¼Œå¦‚æœä¸º Trueï¼Œåˆ™ä¿ç•™æ¢è¡Œç¬¦ã€‚</span><br><span class="hljs-string">string.startswith(obj, beg=0,end=len(string))</span><br><span class="hljs-string"> - æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ obj å¼€å¤´ï¼Œæ˜¯åˆ™è¿”å› Trueï¼Œå¦åˆ™è¿”å› Falseã€‚å¦‚æœbeg å’Œ end æŒ‡å®šå€¼ï¼Œåˆ™åœ¨æŒ‡å®šèŒƒå›´å†…æ£€æŸ¥.</span><br><span class="hljs-string">string.strip([obj])</span><br><span class="hljs-string"> - åœ¨ string ä¸Šæ‰§è¡Œ lstrip()å’Œ rstrip()</span><br><span class="hljs-string">string.swapcase()</span><br><span class="hljs-string"> - ç¿»è½¬ string ä¸­çš„å¤§å°å†™</span><br><span class="hljs-string">string.title()</span><br><span class="hljs-string"> - è¿”å›&quot;æ ‡é¢˜åŒ–&quot;çš„ string,å°±æ˜¯è¯´æ‰€æœ‰å•è¯éƒ½æ˜¯ä»¥å¤§å†™å¼€å§‹ï¼Œå…¶ä½™å­—æ¯å‡ä¸ºå°å†™(è§ istitle())</span><br><span class="hljs-string">string.translate(str, del=&quot;&quot;)</span><br><span class="hljs-string"> - æ ¹æ® str ç»™å‡ºçš„è¡¨(åŒ…å« 256 ä¸ªå­—ç¬¦)è½¬æ¢ string çš„å­—ç¬¦ï¼Œè¦è¿‡æ»¤æ‰çš„å­—ç¬¦æ”¾åˆ° del å‚æ•°ä¸­</span><br><span class="hljs-string">string.upper()</span><br><span class="hljs-string"> - è½¬æ¢ string ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™</span><br><span class="hljs-string">string.zfill(width)</span><br><span class="hljs-string"> - è¿”å›é•¿åº¦ä¸º width çš„å­—ç¬¦ä¸²ï¼ŒåŸå­—ç¬¦ä¸² string å³å¯¹é½ï¼Œå‰é¢å¡«å……0</span><br></code></pre></td></tr></table></figure><h2 id="å¸¸ç”¨å†…ç½®å‡½æ•°ï¼ˆæŒ‰å‡½æ•°åé¦–å­—æ¯æ’åºï¼‰"><a href="#å¸¸ç”¨å†…ç½®å‡½æ•°ï¼ˆæŒ‰å‡½æ•°åé¦–å­—æ¯æ’åºï¼‰" class="headerlink" title="å¸¸ç”¨å†…ç½®å‡½æ•°ï¼ˆæŒ‰å‡½æ•°åé¦–å­—æ¯æ’åºï¼‰"></a>å¸¸ç”¨å†…ç½®å‡½æ•°ï¼ˆæŒ‰å‡½æ•°åé¦–å­—æ¯æ’åºï¼‰</h2><ul><li><strong>all</strong><br>$\looparrowright$ åˆ¤æ–­ç»™å®šå¯¹è±¡ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸ºTrueï¼Œå¦‚æœæ˜¯è¿”å›Trueï¼Œå¦åˆ™è¿”å›Falseï¼ˆå…ƒç´ ä¸º0&#x2F;NULL&#x2F;Falseï¼‰ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; all([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]) = True<br><br>&gt;&gt;&gt; all([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]) = False<br><br>&gt;&gt;&gt; all((<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)) = False<br></code></pre></td></tr></table></figure><ul><li><strong>any</strong><br>$\looparrowright$ åˆ¤æ–­ç»™å®šå¯¹è±¡ä¸­çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½ä¸ºFalseï¼Œå¦‚æœæ˜¯è¿”å›Falseï¼Œå¦åˆ™è¿”å›Trueï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; any([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]) = True<br><br>&gt;&gt;&gt; any([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]) = True<br><br>&gt;&gt;&gt; any((<span class="hljs-number">0</span>, &#x27;&#x27;, False)) = False<br></code></pre></td></tr></table></figure><ul><li><strong>cmp</strong><br>$\looparrowright$ ç”¨äºæ¯”è¾ƒ2ä¸ªå¯¹è±¡xï¼Œyï¼Œå¦‚æœx &lt; yï¼Œè¿”å›-1, å¦‚æœx &#x3D;&#x3D; yè¿”å›0, å¦‚æœx &gt; yè¿”å›1ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; cmp(1, 2) = -1<br></code></pre></td></tr></table></figure><ul><li><strong>enumerate</strong><br>$\looparrowright$ å°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡(å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–å­—ç¬¦ä¸²)ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼ŒåŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨forå¾ªç¯å½“ä¸­ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">è®¾seasons = [<span class="hljs-string">&#x27;Spring&#x27;</span>, <span class="hljs-string">&#x27;Summer&#x27;</span>, <span class="hljs-string">&#x27;Fall&#x27;</span>, <span class="hljs-string">&#x27;Winter&#x27;</span>]<br><br>&gt;&gt;&gt; list(enumerate(seasons)) = [(0, <span class="hljs-string">&#x27;Spring&#x27;</span>), (1, <span class="hljs-string">&#x27;Summer&#x27;</span>), (2, <span class="hljs-string">&#x27;Fall&#x27;</span>), (3, <span class="hljs-string">&#x27;Winter&#x27;</span>)]<br><br>&gt;&gt;&gt; list(enumerate(seasons, start=1)) = [(1, <span class="hljs-string">&#x27;Spring&#x27;</span>), (2, <span class="hljs-string">&#x27;Summer&#x27;</span>), (3, <span class="hljs-string">&#x27;Fall&#x27;</span>), (4, <span class="hljs-string">&#x27;Winter&#x27;</span>)]      <span class="hljs-comment"># ä¸‹æ ‡ä» 1 å¼€å§‹</span><br></code></pre></td></tr></table></figure><ul><li><strong>hash</strong><br>$\looparrowright$ è·å–å¯¹è±¡ï¼ˆå­—ç¬¦ä¸²æˆ–è€…æ•°å€¼ç­‰ï¼‰çš„å“ˆå¸Œå€¼ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; <span class="hljs-built_in">hash</span>(<span class="hljs-string">&#x27;test&#x27;</span>) = 2314058222102390712                <span class="hljs-comment"># å­—ç¬¦ä¸²</span><br><br>&gt;&gt;&gt; <span class="hljs-built_in">hash</span>(1) = 1                                      <span class="hljs-comment"># æ•°å­—</span><br><br>&gt;&gt;&gt; <span class="hljs-built_in">hash</span>(str([1,2,3])) = 1335416675971793195         <span class="hljs-comment"># é›†åˆ</span><br><br>&gt;&gt;&gt; <span class="hljs-built_in">hash</span>(str(sorted(&#123;<span class="hljs-string">&#x27;1&#x27;</span>:1&#125;))) = 7666464346782421378 <span class="hljs-comment"># å­—å…¸</span><br></code></pre></td></tr></table></figure><ul><li><strong>map</strong><br>$\looparrowright$ æ ¹æ®æä¾›çš„å‡½æ•°å¯¹æŒ‡å®šåºåˆ—åšæ˜ å°„ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; def <span class="hljs-keyword">function</span>(x):<br><span class="hljs-built_in">return</span> x ** 2<br><br>&gt;&gt;&gt; map(square, [1,2,3,4,5]) = &lt;map object at 0x100d3d550&gt;              <span class="hljs-comment"># è¿”å›è¿­ä»£å™¨</span><br><br>&gt;&gt;&gt; list(map(square, [1,2,3,4,5])) = [1, 4, 9, 16, 25]                  <span class="hljs-comment"># ä½¿ç”¨ list() è½¬æ¢ä¸ºåˆ—è¡¨</span><br><br>&gt;&gt;&gt; list(map(lambda x: x ** 2, [1, 2, 3, 4, 5])) = [1, 4, 9, 16, 25]    <span class="hljs-comment"># ä½¿ç”¨ lambda åŒ¿åå‡½æ•°</span><br></code></pre></td></tr></table></figure><ul><li><strong>ord</strong><br>$\looparrowright$ chr()å‡½æ•°ï¼ˆå¯¹äº8ä½çš„ASCIIå­—ç¬¦ä¸²ï¼‰æˆ–unichr()å‡½æ•°ï¼ˆå¯¹äºUnicodeå¯¹è±¡ï¼‰çš„é…å¯¹å‡½æ•°ï¼Œå®ƒä»¥ä¸€ä¸ªå­—ç¬¦ï¼ˆé•¿åº¦ä¸º1çš„å­—ç¬¦ä¸²ï¼‰ä½œä¸ºå‚æ•°ï¼Œè¿”å›å¯¹åº”çš„ASCIIæ•°å€¼ï¼Œæˆ–è€…Unicodeæ•°å€¼ï¼Œå¦‚æœæ‰€ç»™çš„Unicodeå­—ç¬¦è¶…å‡ºäº†ä½ çš„Pythonå®šä¹‰èŒƒå›´ï¼Œåˆ™ä¼šå¼•å‘ä¸€ä¸ªTypeErrorçš„å¼‚å¸¸ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt;ord(<span class="hljs-string">&#x27;a&#x27;</span>) = 97<br></code></pre></td></tr></table></figure><ul><li><strong>reverse</strong><br>$\looparrowright$ åå‘åˆ—è¡¨å…ƒç´ ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">è®¾List = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br>&gt;&gt;&gt; List.reverse()<br>&gt;&gt;&gt; List = [<span class="hljs-string">&#x27;d&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;a&#x27;</span>]<br></code></pre></td></tr></table></figure><ul><li><strong>set</strong><br>$\looparrowright$ åˆ›å»ºè¾“å…¥å¯¹è±¡çš„æ— åºä¸é‡å¤å…ƒç´ é›†ï¼Œsetä¹‹é—´å¯ä»¥è¿›è¡Œäº¤é›†ï¼ˆ&amp;ï¼‰ã€å·®é›†ï¼ˆ-ï¼‰ã€å¹¶é›†ï¼ˆ|ï¼‰è¿ç®—ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">&gt;&gt;&gt; <span class="hljs-built_in">set</span>(<span class="hljs-string">&#x27;abcddd&#x27;</span>) = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>, <span class="hljs-string">&#x27;d&#x27;</span>]<br></code></pre></td></tr></table></figure><ul><li><strong>sorted</strong><br>$\looparrowright$ å¯¹ç»™å®šå¯¹è±¡è¿›è¡Œæ’åºã€‚ï¼ˆsorted(iterable, cmp&#x3D;None, key&#x3D;None, reverse&#x3D;False)ï¼‰</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash">è®¾a = [5,7,6,3,4,1,2]<br>&gt;&gt;&gt; sorted(a) = [5, 7, 6, 3, 4, 1, 2]<br><br>è®¾L=[(<span class="hljs-string">&#x27;b&#x27;</span>,2),(<span class="hljs-string">&#x27;a&#x27;</span>,1),(<span class="hljs-string">&#x27;c&#x27;</span>,3),(<span class="hljs-string">&#x27;d&#x27;</span>,4)]<br>&gt;&gt;&gt; sorted(L, cmp=lambda x,y:cmp(x[1],y[1])) = [(<span class="hljs-string">&#x27;a&#x27;</span>, 1), (<span class="hljs-string">&#x27;b&#x27;</span>, 2), (<span class="hljs-string">&#x27;c&#x27;</span>, 3), (<span class="hljs-string">&#x27;d&#x27;</span>, 4)]   <span class="hljs-comment"># åˆ©ç”¨cmpå‡½æ•°</span><br>&gt;&gt;&gt; sorted(L, key=lambda x:x[1]) = [(<span class="hljs-string">&#x27;a&#x27;</span>, 1), (<span class="hljs-string">&#x27;b&#x27;</span>, 2), (<span class="hljs-string">&#x27;c&#x27;</span>, 3), (<span class="hljs-string">&#x27;d&#x27;</span>, 4)]               <span class="hljs-comment"># åˆ©ç”¨key</span><br><br>è®¾students = [(<span class="hljs-string">&#x27;john&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, 15), (<span class="hljs-string">&#x27;jane&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 12), (<span class="hljs-string">&#x27;dave&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 10)]<br>&gt;&gt;&gt; sorted(students, key=lambda s: s[2]) = [(<span class="hljs-string">&#x27;dave&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 10), (<span class="hljs-string">&#x27;jane&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 12), (<span class="hljs-string">&#x27;john&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, 15)] <span class="hljs-comment"># æŒ‰å¹´é¾„æ’åº</span><br>&gt;&gt;&gt; sorted(students, key=lambda s: s[2], reverse=True) = [(<span class="hljs-string">&#x27;john&#x27;</span>, <span class="hljs-string">&#x27;A&#x27;</span>, 15), (<span class="hljs-string">&#x27;jane&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 12), (<span class="hljs-string">&#x27;dave&#x27;</span>, <span class="hljs-string">&#x27;B&#x27;</span>, 10)] <span class="hljs-comment"># é™åº</span><br></code></pre></td></tr></table></figure><ul><li><strong>zip</strong><br>$\looparrowright$ zip([a, b, c, â€¦])ï¼Œå°†å¯è¿­ä»£å¯¹è±¡aï¼Œbï¼Œcï¼Œâ€¦æ‰“åŒ…æˆå…ƒç»„ï¼Œè¿”å›å…ƒç»„ç»„æˆçš„åˆ—è¡¨ï¼Œä½¿ç”¨ç¤ºä¾‹ï¼š</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash">è®¾a = [1,2,3], b = [4,5,6], c = [4,5,6,7,8]<br><br>&gt;&gt;&gt; zip(a,b) = [(1, 4), (2, 5), (3, 6)]<br><br>&gt;&gt;&gt; zip(a,c) = [(1, 4), (2, 5), (3, 6)]<br></code></pre></td></tr></table></figure><h1 id="C-x2F-C-ç¯‡"><a href="#C-x2F-C-ç¯‡" class="headerlink" title="C&#x2F;C++ç¯‡"></a><strong>C&#x2F;C++ç¯‡</strong></h1><h2 id="å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ-1"><a href="#å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ-1" class="headerlink" title="å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ"></a>å¸¸ç”¨æ•°æ®ç»“æ„åŠå…¶æ“ä½œ</h2><h3 id="å‘é‡ï¼ˆVectorï¼‰"><a href="#å‘é‡ï¼ˆVectorï¼‰" class="headerlink" title="å‘é‡ï¼ˆVectorï¼‰"></a>å‘é‡ï¼ˆVectorï¼‰</h3><p>$\looparrowright$ åŠ¨æ€å¤§å°æ•°ç»„çš„é¡ºåºå®¹å™¨ï¼Œvectorèƒ½å¤Ÿå­˜æ”¾ä»»æ„ç±»å‹çš„åŠ¨æ€æ•°ç»„ã€‚å¯ä»¥å¯¹åºåˆ—ä¸­çš„ä»»æ„å…ƒç´ è¿›è¡Œå¿«é€Ÿç›´æ¥è®¿é—®ï¼Œå¹¶åˆ©ç”¨æŒ‡é’ˆè¿›è¡Œæ“ä½œã€‚<br>$\Rightarrow$ å¸¸ç”¨æ“ä½œå¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ï¼ˆé’ˆå¯¹æ•´å‹æ•°æ® vector&lt;int&gt; aï¼‰<br><br>ï¼ˆ1ï¼‰æ’å…¥å…ƒç´ <br>a.push_back() â€”â€” åœ¨æ•°ç»„çš„æœ€åæ’å…¥å…ƒç´ <br><br>ï¼ˆ2ï¼‰åˆ é™¤æ•°æ®<br>a.pop_back() â€”â€” åˆ é™¤æ•°ç»„çš„æœ€åä¸€ä¸ªæ•°æ®<br>a.erase â€”â€” åˆ é™¤æŒ‡é’ˆæŒ‡å‘çš„æ•°æ®é¡¹<br>a.clear â€”â€” æ¸…ç©ºå½“å‰çš„vector<br><br>ï¼ˆ3ï¼‰æŸ¥æ‰¾æ•°æ®<br>a.at(x) â€”â€” è·å–ä½ç½®xçš„å…ƒç´ <br><br>ï¼ˆ4ï¼‰è·å–å‘é‡å±æ€§<br>a.size() â€”â€” å½“å‰å‘é‡çš„é•¿åº¦<br>a.max_size å¾—åˆ°vectoræœ€å¤§é•¿åº¦<br>a.capacity â€”â€” å½“å‰vectoråˆ†é…çš„å¤§å°<br>a.begin â€”â€” å¾—åˆ°æ•°ç»„å¤´çš„æŒ‡é’ˆ<br>a.end â€”â€” å¾—åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªå•å…ƒ+1çš„æŒ‡é’ˆ<br>a.front â€”â€” å¾—åˆ°æ•°ç»„å¤´çš„å¼•ç”¨<br>a.back â€”â€” å¾—åˆ°æ•°ç»„çš„æœ€åä¸€ä¸ªå•å…ƒçš„å¼•ç”¨<br><br>ï¼ˆ5ï¼‰å…¶å®ƒ<br>a.rbegin â€”â€” å°†vectoråè½¬åçš„å¼€å§‹æŒ‡é’ˆè¿”å›(å…¶å®å°±æ˜¯åŸæ¥çš„end-1)<br>a.rend â€”â€” å°†vectoråè½¬æ„çš„ç»“æŸæŒ‡é’ˆè¿”å›(å…¶å®å°±æ˜¯åŸæ¥çš„begin-1)<br>a.empty â€”â€” åˆ¤æ–­vectoræ˜¯å¦ä¸ºç©º<br>a.swap â€”â€” ä¸å¦ä¸€ä¸ªvectoräº¤æ¢æ•°æ®<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ•°æ®ç»“æ„ </tag>
            
            <tag> CPP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Swin Transformer è®ºæ–‡é˜…è¯»ç¬”è®°</title>
      <link href="/2022/08/10/033-SwinTransformer/"/>
      <url>/2022/08/10/033-SwinTransformer/</url>
      
        <content type="html"><![CDATA[<p><strong>è®ºæ–‡æ¥æº</strong>ï¼š<br>ã€ICCV 2021 æœ€ä½³è®ºæ–‡ã€‘ Swin Transformer: Hierarchical Vision Transformer Using <strong>S</strong>hifted <strong>Win</strong>dows [<a href="https://openaccess.thecvf.com/content/ICCV2021/html/Liu_Swin_Transformer_Hierarchical_Vision_Transformer_Using_Shifted_Windows_ICCV_2021_paper.html">Paper</a>] [<a href="https://github.com/microsoft/Swin-Transformer">Code</a>]</p><hr><h2 id="ç ”ç©¶åŠ¨æœºå’Œæ€è·¯"><a href="#ç ”ç©¶åŠ¨æœºå’Œæ€è·¯" class="headerlink" title="ç ”ç©¶åŠ¨æœºå’Œæ€è·¯"></a>ç ”ç©¶åŠ¨æœºå’Œæ€è·¯</h2><blockquote><p>â€œWe seek to expand the applicability of Transformer such that it can serve as a general-purpose backbone for computer vision, as it does for NLP and as CNNs do in vision.â€ <strong>æˆ‘ä»¬è¯•å›¾æ‰©å±• Transformer çš„é€‚ç”¨æ€§ï¼Œä½¿å…¶å¯ä»¥ä½œä¸ºè®¡ç®—æœºè§†è§‰ä»»åŠ¡çš„é€šç”¨ä¸»å¹²ï¼Œå°±åƒå®ƒåœ¨ NLP é¢†åŸŸå’Œ CNN åœ¨è§†è§‰é‚»åŸŸä¸­æ‰€èµ·åˆ°çš„æ•ˆæœã€‚</strong></p></blockquote><blockquote><p><strong>å›¾åƒä¿¡æ¯å»ºæ¨¡</strong>ï¼šå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ<code>ViT</code> åœ¨å¯¹å›¾åƒè¿›è¡Œè‡ªæ³¨æ„åŠ›æ—¶ï¼Œå§‹ç»ˆåœ¨åŸå›¾ <code>1/16</code> å¤§å°çš„ <code>patch</code> ä¸Šè¿›è¡Œï¼Œå®ç°å›¾åƒä¿¡æ¯çš„å…¨å±€å»ºæ¨¡ã€‚å—é™äºæ­¤ï¼Œ**<code>ViT</code> æ— æ³•ä»å±€éƒ¨å±‚é¢æå–å›¾åƒç‰¹å¾ï¼Œä»¥åŠæ— æ³•å®ç°å›¾åƒå¤šå°ºåº¦ç‰¹å¾çš„è¡¨ç¤º**ï¼ˆåœ¨å¯†é›†é¢„æµ‹å‹ä»»åŠ¡ä¸­å°¤ä¸ºé‡è¦ï¼Œå¦‚å›¾åƒåˆ†å‰²å’Œç›®æ ‡æ£€æµ‹ï¼‰ã€‚</p></blockquote><blockquote><p><strong>æ—¶é—´å¤æ‚åº¦</strong>ï¼šç”±äºæ ‡å‡† <code>Transformer</code> æ¶æ„çš„è‡ªæ³¨æ„åŠ›è®¡ç®—è¿‡ç¨‹æ˜¯åœ¨ <code>token</code> å’Œ <code>token</code> ä¹‹é—´è¿›è¡Œï¼Œå› æ­¤å¤æ‚åº¦æå¤§ç¨‹åº¦ä¸Šå–å†³äº <code>token</code> çš„æ•°é‡ã€‚<br>â€œThe global computation leads to quadratic complexity with respect to the number of tokens.â€ <strong>å…¨å±€è®¡ç®—å¤æ‚åº¦æ˜¯å…³äº token æ•°é‡çš„äºŒæ¬¡å¤æ‚åº¦ã€‚</strong></p></blockquote><p><img src="https://s2.loli.net/2022/08/08/Kn2H1Jwq8ucS4lF.png" alt="é€šè¿‡åˆå¹¶å›¾åƒ patch å¾—åˆ°çš„å¤šå°ºåº¦ç‰¹å¾å›¾"></p><h3 id="å¦‚ä½•å…¼é¡¾å±€éƒ¨å’Œå…¨å±€"><a href="#å¦‚ä½•å…¼é¡¾å±€éƒ¨å’Œå…¨å±€" class="headerlink" title="å¦‚ä½•å…¼é¡¾å±€éƒ¨å’Œå…¨å±€"></a>å¦‚ä½•å…¼é¡¾å±€éƒ¨å’Œå…¨å±€</h3><blockquote><p><strong>Swin Transformer çš„å®ç°æ–¹å¼</strong>ï¼š<br>ï¼ˆ1ï¼‰<strong>é¢„å¤„ç†ï¼š</strong>å°†è¾“å…¥å›¾åƒå–æˆ <code>4Ã—4 (pixel)</code> çš„å° <code>patch</code>ï¼›<br>ï¼ˆ2ï¼‰<strong>Layer Lï¼š</strong>ä½¿ç”¨ <code>7Ã—7 (patch)</code> çš„ <code>window</code> å°† <code>patch</code> å—åœˆèµ·æ¥ï¼Œåœ¨è¯¥ <code>window</code> å†…å¯¹ <code>7Ã—7=49</code> ä¸ª <code>patch</code> è¿›è¡Œè‡ªæ³¨æ„åŠ›ï¼Œå®ç°<strong>å›¾åƒå±€éƒ¨ç‰¹å¾çš„å»ºæ¨¡</strong>ï¼›<br>ï¼ˆ3ï¼‰<strong>Layer L+1ï¼š</strong>é€šè¿‡æ»‘åŠ¨ <code>window</code> ä½¿å¾—åŸæœ¬ä¸åœ¨ä¸€ä¸ª <code>window</code> å†…çš„ <code>patch</code> å¤„äºä¸€ä¸ª <code>window</code> å†…ï¼Œé€šè¿‡å¯¹å…¶è¿›è¡Œè‡ªæ³¨æ„åŠ›å®ç° <code>cross-window connections</code>ã€‚<br>ï¼ˆ4ï¼‰é€šè¿‡æ­¥é•¿ä¸º <code>s</code> çš„ <code>patch merging</code> å°†ä¸´è¿‘çš„ å° patch åˆå¹¶æˆ <code>patch</code>ï¼Œ ä½¿å¾—æ•´å›¾åˆ†è¾¨ç‡ä¸‹é™ <code>1/s</code>ï¼Œå®ç°<strong>å¤šå°ºåº¦å›¾åƒç‰¹å¾çš„æå–</strong>ï¼›<br>ï¼ˆ5ï¼‰å½“å›¾åƒå°ºå¯¸å‡å°‘è‡³ä¸€å®šç¨‹åº¦æ—¶ï¼Œä¸€ä¸ª <code>window</code> èƒ½å¤Ÿå¯¹æ•´å›¾è¿›è¡Œå¤„ç†ï¼Œå®ç°<strong>å›¾åƒå…¨å±€ç‰¹å¾çš„å»ºæ¨¡</strong>ã€‚</p></blockquote><table>    <tr>        <td><center><img src="https://s2.loli.net/2022/08/09/bBG6UK7ZeVEyw5M.png" width=350>shifted window approach</center></td>        <td><center><img src="https://s2.loli.net/2022/08/10/NBJtYxvLPe6bwIF.png" width=350>patch mergingï¼ˆåºå·ä»…ç”¨äºç†è§£ï¼‰</center></td>    </tr></table><h2 id="Swin-Transformer"><a href="#Swin-Transformer" class="headerlink" title="Swin Transformer"></a>Swin Transformer</h2><h3 id="ç½‘ç»œæ¶æ„"><a href="#ç½‘ç»œæ¶æ„" class="headerlink" title="ç½‘ç»œæ¶æ„"></a>ç½‘ç»œæ¶æ„</h3><blockquote><p>ä»¥ä¸‹ç»“åˆç½‘ç»œæ¶æ„å›¾å’Œä»£ç æ¨å¯¼ä¸€ä¸‹<strong>ï¼ˆé˜…è¯»æ–‡å­—æ—¶å¯å°†ä»£ç å—æŠ˜å ï¼‰</strong> ğŸ‘‡ğŸ‘‡ğŸ‘‡ï¼š</p></blockquote><p><strong>æ³¨</strong>ï¼šåŒºåˆ«äº <code>ViT</code> çš„ä¸€ç‚¹åœ¨äºï¼Œ<code>Swin Transformer</code> åœ¨è¿›è¡Œåˆ†ç±»ä»»åŠ¡æ—¶æ²¡ç”¨å¼•å…¥ <code>class token</code>ï¼Œè€Œæ˜¯åœ¨æœ€åä½¿ç”¨ <code>global average pooling (GAP)</code> å¾—åˆ°ç±»åˆ«é¢„æµ‹çš„ç»“æœï¼Œç›®çš„åœ¨äºä½¿å¾— <code>Swin Transformer</code> èƒ½å¤Ÿå¾ˆå¥½åœ°å…¼å®¹åˆ°è§†è§‰çš„å…¶ä»–ä»»åŠ¡ä¸­ï¼Œå¦‚å›¾åƒåˆ†å‰²å’Œç›®æ ‡æ£€æµ‹ã€‚</p><p><img src="https://s2.loli.net/2022/08/10/b2JYwpi4okEzdsQ.png"></p><h3 id="Patch-Embedding"><a href="#Patch-Embedding" class="headerlink" title="Patch Embedding"></a>Patch Embedding</h3><blockquote><p><strong>Patch Partition:<strong>ä¸å¦¨è®¾è¾“å…¥å›¾åƒå°ºå¯¸ä¸º ${H}\times{W}\times{C_{in}}$ï¼Œ<code>Swin Transformer</code> å°† <code>patch size</code> è®¾ç½®ä¸º ${4}\times{4}$ï¼Œåˆ™ä¸€ä¸ª <code>token</code> çš„å¤§å°ä¸º ${4}\times{4}\times{C_{in}}$ï¼Œ<code>token</code> åºåˆ—çš„é•¿åº¦ä¸º $\frac{H}{4}\times\frac{W}{4}$ï¼›å› æ­¤ï¼Œæ•´å¹…å›¾åƒè¢«è½¬åŒ–æˆäº†ç»´åº¦ä¸º $(\frac{H}{4}\times\frac{W}{4})\times({4}\times{4}\times{C_{in}})$ çš„ <code>token</code> åºåˆ—ï¼Œä»¥ <code>224Ã—224Ã—3</code> çš„è¾“å…¥å›¾åƒä¸ºä¾‹ï¼Œå…¶äº§ç”Ÿçš„ <code>token</code> åºåˆ—çš„é•¿åº¦ä¸º <code>(56Ã—56)Ã—(16Ã—16Ã—3)</code>ï¼›</strong>ï¼ˆä»¥ä¸Šè¿‡ç¨‹é€šè¿‡ <code>4Ã—4</code> å·ç§¯å±‚å®ç°ï¼‰</strong></p></blockquote><blockquote><p><strong>Linear Embedding:<strong>é€šè¿‡ <code>Patch Partition</code> å¾—åˆ°çš„ <code>token</code> åºåˆ—çš„é•¿åº¦å¯¹äº <code>Transformer</code> æ¨¡å‹è€Œè¨€æ˜¯å·¨å¤§çš„ï¼Œå› æ­¤éœ€è¦å‡å°‘å…¶é•¿åº¦è‡³è®¾å®šçš„è¶…å‚æ•° $C$ï¼›</strong>ï¼ˆä»¥ä¸Šè¿‡ç¨‹é€šè¿‡ <code>Linear</code> å±‚å®ç°ï¼‰</strong></p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Patch Partition + Linear Embedding</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PatchEmbed</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, img_size=<span class="hljs-number">224</span>, patch_size=<span class="hljs-number">4</span>, in_chans=<span class="hljs-number">3</span>, embed_dim=<span class="hljs-number">96</span>, norm_layer=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        img_size = to_2tuple(img_size)<br>        patch_size = to_2tuple(patch_size)<br>        patches_resolution = [img_size[<span class="hljs-number">0</span>] // patch_size[<span class="hljs-number">0</span>], img_size[<span class="hljs-number">1</span>] // patch_size[<span class="hljs-number">1</span>]]<br>        self.img_size = img_size<br>        self.patch_size = patch_size<br>        self.patches_resolution = patches_resolution<br>        self.num_patches = patches_resolution[<span class="hljs-number">0</span>] * patches_resolution[<span class="hljs-number">1</span>]<br><br>        self.in_chans = in_chans<br>        self.embed_dim = embed_dim<br><br>        self.proj = nn.Conv2d(in_chans, embed_dim, kernel_size=patch_size, stride=patch_size)<br>        <span class="hljs-keyword">if</span> norm_layer <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            self.norm = norm_layer(embed_dim)<br>        <span class="hljs-keyword">else</span>:<br>            self.norm = <span class="hljs-literal">None</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        B, C, H, W = x.shape<br>        <span class="hljs-keyword">assert</span> H == self.img_size[<span class="hljs-number">0</span>] <span class="hljs-keyword">and</span> W == self.img_size[<span class="hljs-number">1</span>], \<br>            <span class="hljs-string">f&quot;Input image size (<span class="hljs-subst">&#123;H&#125;</span>*<span class="hljs-subst">&#123;W&#125;</span>) doesn&#x27;t match model (<span class="hljs-subst">&#123;self.img_size[<span class="hljs-number">0</span>]&#125;</span>*<span class="hljs-subst">&#123;self.img_size[<span class="hljs-number">1</span>]&#125;</span>).&quot;</span><br>        x = self.proj(x).flatten(<span class="hljs-number">2</span>).transpose(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)  <span class="hljs-comment"># B Ph*Pw C</span><br>        <span class="hljs-keyword">if</span> self.norm <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>            x = self.norm(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="Hierarchical-Stage"><a href="#Hierarchical-Stage" class="headerlink" title="Hierarchical Stage"></a>Hierarchical Stage</h3><blockquote><p><strong>ä»¥ <code>stage2</code> ä¸ºä¾‹ï¼ˆ<code>stage3ã€4</code> åŒç†ï¼‰ï¼Œæ¨å¯¼ä¸€ä¸‹ç½‘ç»œï¼š</strong><br>ï¼ˆ1ï¼‰<code>Layer Input</code>ï¼šè¾“å…¥ç‰¹å¾å›¾ç»´åº¦ä¸º $\frac{H}{4}\times\frac{W}{4}\times{C}$ï¼›<br>ï¼ˆ2ï¼‰<code>Patch Merging</code>ï¼šç»ä¸Šå›¾å³ä¾§æ‰€ç¤ºè¿‡ç¨‹ï¼Œåˆå¹¶ patch ä¹‹åçš„ç‰¹å¾å›¾å°ºå¯¸å‡å°‘ <code>1/2</code> å€ï¼Œé€šé“æ•°å¢åŠ  <code>4</code> å€ï¼Œå³ç» <code>patch merging</code> ä¹‹åçš„è¾“å‡ºç‰¹å¾å›¾ç»´åº¦ä¸º $\frac{H}{8}\times\frac{W}{8}\times{4C}$ï¼›<br>ï¼ˆ3ï¼‰<code>Channel Reduction</code>ï¼šä¸ºäº†ä¿æŒä¸å·ç§¯ç¥ç»ç½‘ç»œæ‹¥æœ‰ç›¸åŒçš„å±‚çº§è¡¨ç¤ºï¼Œè¿›ä¸€æ­¥é€šè¿‡ <code>Linear</code> å±‚æˆ– <code>1Ã—1</code> å·ç§¯å±‚ï¼ˆäºŒè€…ä½œç”¨ä¸€è‡´ï¼ŒåŸæ–‡ä»£ç ç”¨çš„ <code>Linear</code> å±‚ï¼‰å°†é€šé“æ•°é™ä¸º <code>2C</code>ï¼Œä½¿å¾—æœ€ç»ˆè¾“å‡ºç‰¹å¾å›¾ç»´åº¦ä¸º $\frac{H}{8}\times\frac{W}{8}\times{2C}$ï¼›<strong>ï¼ˆæ³¨ï¼šæœ¬è¿‡ç¨‹ä¸º <code>Patch Merging</code> ä¸­çš„æ­¥éª¤ï¼‰</strong><br>ï¼ˆ3ï¼‰Swin Transformer Blockï¼š</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-comment"># Patch Merging</span><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">PatchMerging</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, input_resolution, dim, norm_layer=nn.LayerNorm</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.input_resolution = input_resolution<br>        self.dim = dim<br>        self.reduction = nn.Linear(<span class="hljs-number">4</span> * dim, <span class="hljs-number">2</span> * dim, bias=<span class="hljs-literal">False</span>)<br>        self.norm = norm_layer(<span class="hljs-number">4</span> * dim)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        H, W = self.input_resolution<br>        B, L, C = x.shape<br>        <span class="hljs-keyword">assert</span> L == H * W, <span class="hljs-string">&quot;input feature has wrong size&quot;</span><br>        <span class="hljs-keyword">assert</span> H % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> W % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, <span class="hljs-string">f&quot;x size (<span class="hljs-subst">&#123;H&#125;</span>*<span class="hljs-subst">&#123;W&#125;</span>) are not even.&quot;</span><br><br>        x = x.view(B, H, W, C)<br><br>        x0 = x[:, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>, :]  <span class="hljs-comment"># B H/2 W/2 C</span><br>        x1 = x[:, <span class="hljs-number">1</span>::<span class="hljs-number">2</span>, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>, :]  <span class="hljs-comment"># B H/2 W/2 C</span><br>        x2 = x[:, <span class="hljs-number">0</span>::<span class="hljs-number">2</span>, <span class="hljs-number">1</span>::<span class="hljs-number">2</span>, :]  <span class="hljs-comment"># B H/2 W/2 C</span><br>        x3 = x[:, <span class="hljs-number">1</span>::<span class="hljs-number">2</span>, <span class="hljs-number">1</span>::<span class="hljs-number">2</span>, :]  <span class="hljs-comment"># B H/2 W/2 C</span><br>        x = torch.cat([x0, x1, x2, x3], -<span class="hljs-number">1</span>)  <span class="hljs-comment"># B H/2 W/2 4*C</span><br>        x = x.view(B, -<span class="hljs-number">1</span>, <span class="hljs-number">4</span> * C)  <span class="hljs-comment"># B H/2*W/2 4*C</span><br><br>        x = self.norm(x)<br>        x = self.reduction(x)<br><br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h3 id="Swin-Transformer-Block"><a href="#Swin-Transformer-Block" class="headerlink" title="Swin Transformer Block"></a>Swin Transformer Block</h3><p><img src="https://s2.loli.net/2022/08/10/uxlBGh87RCIO3be.png"></p><h4 id="Shifted-Window-based-Multi-head-Self-Attention"><a href="#Shifted-Window-based-Multi-head-Self-Attention" class="headerlink" title="Shifted Window based Multi-head Self-Attention"></a>Shifted Window based Multi-head Self-Attention</h4><blockquote><p>å‰é¢æåˆ°ï¼ŒSwin Transformer é€šè¿‡è®¾ç½® windowï¼Œå¯¹å¤„äº window å†…çš„ patch åšè‡ªæ³¨æ„åŠ›ã€‚ä»¥ stage1 ä¸ºä¾‹ï¼Œ56Ã—56 çš„ patch æ•°é‡ï¼Œè®¾ç½® 7Ã—7 çš„ window sizeï¼Œå¯¹æ•´å›¾è¿ç®—åˆ™éœ€è¦çš„ window æ•°é‡ä¸º (56&#x2F;7)Ã—(56&#x2F;7)&#x3D;8Ã—8&#x3D;64ã€‚</p></blockquote><blockquote><p><strong>è®¡ç®—å¤æ‚åº¦åˆ†æ</strong><br>ï¼ˆ1ï¼‰æ ‡å‡† <code>Multi-head Self-attention</code>ï¼š<br>$$3HWC^{2}+(HW)^{2}C+(HW)^{2}C+HWC^{2}&#x3D;4HWC^{2}+2(HW)^{2}C, \tag{1}$$<br>ï¼ˆ2ï¼‰<code>Swin Transformer</code> ä¸­çš„ <code>Self-attention</code>ï¼š<br>$$(\frac{H}{M}\times\frac{W}{M})\times(4MMC^{2}+2(MM)^{2}C)&#x3D;4HWC^{2}+2M^{2}HWC, \tag{2}$$<br>å°† $(2)$ å¼å‡ $(1)$ å¼å¾— $(HW-M^{2})\times(2HWC)$ï¼Œç¡®å®æœ‰ <strong>ä¸€å®šç¨‹åº¦</strong> çš„ä¸‹é™ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/10/mxWi9dtpV7UehPN.png"></p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡é˜…è¯» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> å›¾åƒåˆ†ç±» </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾åƒæŠ•å½±ç½‘ç»œï¼ˆImage Projection Network, IPNï¼‰ç³»åˆ—è®ºæ–‡é˜…è¯»ç¬”è®°</title>
      <link href="/2022/08/08/034-IPN_Series/"/>
      <url>/2022/08/08/034-IPN_Series/</url>
      
        <content type="html"><![CDATA[<p>ä¸»è¦æ˜¯ä»¥ä¸‹ä¸¤ç¯‡è®ºæ–‡ï¼š<br>IPNï¼ˆ<strong>TMI 2020</strong>ï¼‰ï¼šImage Projection Network: 3D to 2D Image Segmentation in OCTA Images<br>IPN V2ï¼ˆ<strong>arXiv 2020</strong>ï¼‰ï¼šIPN-V2 and OCTA-500: Methodology and Dataset for Retinal Image Segmentation</p><!-- PAENetï¼ˆ**BIBM 2021**ï¼‰ï¼šPAENet: A Progressive Attention-Enhanced Network for 3D to 2D Retinal Vessel Segmentation --><hr><h2 id="å›¾åƒæŠ•å½±ç½‘ç»œçš„è®¾è®¡æ¥æº"><a href="#å›¾åƒæŠ•å½±ç½‘ç»œçš„è®¾è®¡æ¥æº" class="headerlink" title="å›¾åƒæŠ•å½±ç½‘ç»œçš„è®¾è®¡æ¥æº"></a>å›¾åƒæŠ•å½±ç½‘ç»œçš„è®¾è®¡æ¥æº</h2><h3 id="çœ¼ç§‘ä¸´åºŠ"><a href="#çœ¼ç§‘ä¸´åºŠ" class="headerlink" title="çœ¼ç§‘ä¸´åºŠ"></a>çœ¼ç§‘ä¸´åºŠ</h3><blockquote><p>â€œComparing to color fundus imaging technology, OCT can acquire more detailed information about retinal structures and thus becomes a leading modality in the clinic observation of retinopathy.â€ <strong>ä¸å½©è‰²çœ¼åº•æˆåƒæŠ€æœ¯ç›¸æ¯”ï¼ŒOCTå¯ä»¥è·å–æ›´è¯¦ç»†çš„è§†ç½‘è†œç»“æ„ä¿¡æ¯ï¼Œæˆä¸ºè§†ç½‘è†œç—…å˜ä¸´åºŠè§‚å¯Ÿçš„ä¸»è¦æ–¹å¼ã€‚</strong></p></blockquote><p><img src="https://s2.loli.net/2022/08/08/9pKf7yDr5ogiFa3.png"></p><h3 id="è¯Šç–—æŒ‡æ ‡"><a href="#è¯Šç–—æŒ‡æ ‡" class="headerlink" title="è¯Šç–—æŒ‡æ ‡"></a>è¯Šç–—æŒ‡æ ‡</h3><blockquote><p>â€œBoth OCT and OCTA can provide 3D data, but most retinal indicators, such as the vessel density and the FAZ area, are quantified on the projection maps rather than 3D space.â€ <strong>OCT å’Œ OCTA éƒ½å¯ä»¥æä¾› 3D æ•°æ®ï¼Œä½†å¤§å¤šæ•°è§†ç½‘è†œæŒ‡æ ‡ï¼Œä¾‹å¦‚è¡€ç®¡å¯†åº¦å’Œ FAZ é¢ç§¯ï¼Œéƒ½æ˜¯åœ¨æŠ•å½±å›¾ï¼ˆä¸Šå›¾ eï¼‰ä¸Šé‡åŒ–çš„ï¼Œè€Œä¸æ˜¯åœ¨ 3D ç©ºé—´ä¸Šã€‚</strong></p></blockquote><h3 id="æ•°æ®æ ‡æ³¨é—®é¢˜"><a href="#æ•°æ®æ ‡æ³¨é—®é¢˜" class="headerlink" title="æ•°æ®æ ‡æ³¨é—®é¢˜"></a>æ•°æ®æ ‡æ³¨é—®é¢˜</h3><blockquote><p>å¯¹äºåŒ»ç”Ÿè€Œè¨€ï¼Œåœ¨ OCT æˆ– OCTA çš„ 3D æ•°æ®ä¸Šç›´æ¥è¿›è¡Œæ ‡æ³¨æ˜¯å›°éš¾çš„ï¼Œç›¸ååœ¨ 2D çš„æŠ•å½±å›¾ä¸Šæ ‡æ³¨åˆ™æ˜¯ç›¸å¯¹ç®€å•å’Œé«˜æ•ˆçš„ã€‚</p></blockquote><h3 id="å·²æœ‰æ·±åº¦å­¦ä¹ æ–¹æ³•çš„çš„å±€é™æ€§"><a href="#å·²æœ‰æ·±åº¦å­¦ä¹ æ–¹æ³•çš„çš„å±€é™æ€§" class="headerlink" title="å·²æœ‰æ·±åº¦å­¦ä¹ æ–¹æ³•çš„çš„å±€é™æ€§"></a>å·²æœ‰æ·±åº¦å­¦ä¹ æ–¹æ³•çš„çš„å±€é™æ€§</h3><p><img src="https://s2.loli.net/2022/08/08/DmW7CRPkyZ32vtU.png"></p><blockquote><p><strong>ä¸»æµç«¯åˆ°ç«¯æ–¹æ³•</strong>ï¼š<br>ï¼ˆ1ï¼‰2D to category.<br>ï¼ˆ2ï¼‰2D to 2D semantic segmentation.<br>ï¼ˆ3ï¼‰3D to 3D semantic segmentation.<br>å¯¹äºï¼ˆ3ï¼‰è€Œè¨€ï¼Œåº”ç”¨åˆ° OCT å’Œ OCTA å›¾åƒä¸Šæ˜¯å‡ ä¹ä¸å¯èƒ½çš„ï¼š<br>â€œAlternatively, they need 3D pixel-to-pixel labels, which are labor-intensive and difficult to be obtained.â€ <strong>æˆ–è€…ï¼Œä»–ä»¬éœ€è¦ 3D åƒç´ åˆ°åƒç´ çš„æ ‡ç­¾ï¼Œè¿™æ˜¯åŠ³åŠ¨å¯†é›†å‹ä¸”éš¾ä»¥è·å¾—çš„ã€‚</strong></p></blockquote><h2 id="Image-Projection-Network-IPN"><a href="#Image-Projection-Network-IPN" class="headerlink" title="Image Projection Network (IPN)"></a>Image Projection Network (IPN)</h2><h3 id="2D-to-1D-IPN"><a href="#2D-to-1D-IPN" class="headerlink" title="2D-to-1D IPN"></a>2D-to-1D IPN</h3><blockquote><p><strong>ï¼ˆ1ï¼‰æ„é€ æ–¹å¼ï¼š</strong><br>â€œWe use the framework of the classical VGG model for reference, remove all the full connection layers, and change the original pooling layer to the unidirectional pooling layer.â€ <strong>æˆ‘ä»¬å€Ÿé‰´ç»å…¸VGGæ¨¡å‹çš„æ¡†æ¶ï¼Œå»æ‰æ‰€æœ‰çš„å…¨è¿æ¥å±‚ï¼Œå°†åŸæ¥çš„æ± åŒ–å±‚æ”¹ä¸ºå•å‘æ± åŒ–å±‚ï¼ˆä¸‹å›¾å³ï¼‰ã€‚</strong><br><strong>ï¼ˆ2ï¼‰å®ç°æ–¹å¼ï¼š</strong><br>å°† <code>3Ã—400Ã—640</code> çš„æ¨ªæˆªé¢å›¾è¾“å…¥ä¸Šè¿°æ„é€ çš„ <code>IPN</code> ä¸­ï¼Œè¾“å‡ºå¾—åˆ°ä¸€ç»´çš„å°ºå¯¸ä¸º <code>1Ã—400Ã—1</code> çš„å‘é‡ï¼›é€šè¿‡å°†æ¯ä¸ªç—…ä¾‹çš„ <code>400</code> å¼ æ¨ªæˆªé¢å›¾åƒè¾“å…¥ç½‘ç»œå¾—åˆ°çš„è¾“å‡ºå‘é‡æ‹¼æ¥ï¼Œå³å¯å¾—åˆ° <code>1Ã—400Ã—400</code> çš„é¢„æµ‹å›¾åƒã€‚<br><strong>ï¼ˆ3ï¼‰å±€é™æ€§ï¼š</strong><br>æœ€ç»ˆçš„åˆ†å‰²ç»“æœæ˜¯é€šè¿‡æ‹¼æ¥å¾—åˆ°çš„ï¼Œç”±äºåŒ…å«å¾ˆå¤šé”¯é½¿çŠ¶çš„è¾¹ç¼˜ï¼Œç©ºé—´è¿ç»­æ€§è¾ƒå·®ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/AElenYcpoRbU8gj.png"></p><h3 id="3D-to-2D-IPN"><a href="#3D-to-2D-IPN" class="headerlink" title="3D-to-2D IPN"></a>3D-to-2D IPN</h3><blockquote><p>â€œIPN can summarize the effective features in 3D data along the projection direction and output the segmentation results on a 2D plane, to realize the semantic segmentation from 3D to 2D.â€ <strong>IPN å¯ä»¥æ²¿æŠ•å½±æ–¹å‘æ€»ç»“ 3D æ•°æ®ä¸­çš„æœ‰æ•ˆç‰¹å¾å¹¶åœ¨ 2D å¹³é¢ä¸Šè¾“å‡ºåˆ†å‰²ç»“æœï¼Œå®ç°ä» 3D åˆ° 2D çš„è¯­ä¹‰åˆ†å‰²ã€‚</strong></p></blockquote><p><img src="https://s2.loli.net/2022/08/08/jJFpZ8Wo1TECk3P.png"></p><blockquote><p><strong>ä¸ 2D-to-1D IPN çš„å·®å¼‚</strong>ï¼šä½¿ç”¨ <strong>3D å·ç§¯</strong> è€Œä¸æ˜¯ 2D å·ç§¯ï¼Œå¹¶ä¸”<strong>å•å‘æ± åŒ–ä» 2D æ‰©å±•åˆ° 3D</strong>ï¼Œä½†ä»ç„¶åªä½œç”¨åœ¨æŠ•å½±æ–¹å‘ã€‚ é€šè¿‡è¿™ç§å˜åŒ–ï¼ŒIPN å¯ä»¥è¾“å…¥ 3 ç»´å›¾åƒå¹¶è¾“å‡º 2 ç»´æˆªé¢å›¾ã€‚ä»¥ä¸‹ä»‹ç» 3D-to-2D IPN çš„å…³é”®ç»„æˆéƒ¨åˆ†ã€‚</p></blockquote><h4 id="æŠ•å½±å­¦ä¹ æ¨¡å—"><a href="#æŠ•å½±å­¦ä¹ æ¨¡å—" class="headerlink" title="æŠ•å½±å­¦ä¹ æ¨¡å—"></a>æŠ•å½±å­¦ä¹ æ¨¡å—</h4><blockquote><p><strong>Projection Learning Module, PLM</strong><br>ï¼ˆ1ï¼‰ç»„æˆéƒ¨åˆ†ï¼šä¸‰ä¸ª å·ç§¯æ ¸å°ºå¯¸ä¸º <code>(3Ã—3Ã—3)</code> çš„ 3D å·ç§¯å±‚å’Œä¸€ä¸ªå•å‘æ± åŒ–å±‚ã€‚<br>ï¼ˆ2ï¼‰å•ä¸ª <code>PLM</code> çš„è¾“å…¥è¾“å‡ºå°ºå¯¸å˜åŒ–ï¼š$[H \times L \times W] \rightarrow [\frac{H}{k} \times L \times W]$ï¼Œå…¶ä¸­ <code>k</code> ä¸ºå•å‘æ± åŒ–å±‚çš„ <code>pooling size</code>ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/A1FIjEwidgaOc8L.png"></p><h4 id="æ¨¡å‹æ¶æ„"><a href="#æ¨¡å‹æ¶æ„" class="headerlink" title="æ¨¡å‹æ¶æ„"></a>æ¨¡å‹æ¶æ„</h4><table>    <tr>        <td>Layer</td><td>Channel Number</td><td>PLM Parameter</td><td>Output Size</td>   </tr>    <tr>          <td>Input</td><td>2</td><td>-</td><td>640Ã—100Ã—100</td>    </tr>    <tr>        <td>PLM1</td><td>32</td><td>5</td><td>128Ã—100Ã—100</td>    </tr>    <tr>        <td>PLM2</td><td>64</td><td>4</td><td>32Ã—100Ã—100</td>    </tr>    <tr>        <td>PLM3</td><td>128</td><td>4</td><td>8Ã—100Ã—100</td>    </tr>    <tr>        <td>PLM4</td><td>256</td><td>4</td><td>2Ã—100Ã—100</td>    </tr>    <tr>        <td>PLM5</td><td>512</td><td>2</td><td>1Ã—100Ã—100</td>    </tr>    <tr>        <td>Conv6</td><td>256</td><td>-</td><td>1Ã—100Ã—100</td>    </tr>    <tr>        <td>Conv7</td><td>128</td><td>-</td><td>1Ã—100Ã—100</td>    </tr>    <tr>        <td>Conv8</td><td>2</td><td>-</td><td>1Ã—100Ã—100</td>    </tr>    <tr>        <td>Softmax</td><td>2</td><td>-</td><td>1Ã—100Ã—100</td>    </tr></table><h4 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h4><blockquote><p>ä»¥ä¸‹å®ç°æ—¶ï¼Œä¸ºäº†é€‚åº”åé¢ IPN V2 è®ºæ–‡ä¸­çš„è¾“å…¥ï¼Œåšäº†ä¸€äº›æ”¹åŠ¨ï¼š<br>ï¼ˆ1ï¼‰è¾“å…¥ Patch å¤§å°ä¸º 640Ã—100Ã—100ï¼›<br>ï¼ˆ2ï¼‰å‡å°‘ä¸€ä¸ª pooling size &#x3D; 4 çš„ PLM å±‚ï¼Œä»¥é€‚åº”è¾“å‡ºï¼›<br>ï¼ˆ3ï¼‰å‡å°‘æœ€åçš„å·ç§¯å±‚è‡³ 1 å±‚ï¼›<br>ï¼ˆ4ï¼‰å°† <code>Softmax</code> æ›¿æ¢æˆäº† <code>Sigmoid</code>ï¼Œè®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸå¤±å‡½æ•°ä½¿ç”¨ <code>BCELoss()</code>ï¼Œè€ŒéåŸæ–‡ä¸­æåˆ°çš„ <code>CELoss()</code>ï¼Œæœ¬è´¨æ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">IPN</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, in_channels=<span class="hljs-number">2</span>, channels=<span class="hljs-number">32</span>, n_classes=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>(IPN, self).__init__()<br>        self.in_channels = in_channels<br>        self.channels=channels<br>        self.n_classes = n_classes<br>        self.<span class="hljs-built_in">input</span> = InConv3d(in_channels, channels)<br>        self.PLM1 = PLM(<span class="hljs-number">5</span>, channels)<br>        self.PLM2 = PLM(<span class="hljs-number">4</span>, channels*<span class="hljs-number">2</span>)<br>        self.PLM3 = PLM(<span class="hljs-number">4</span>, channels*<span class="hljs-number">4</span>)<br>        self.PLM4 = PLM(<span class="hljs-number">2</span>, channels*<span class="hljs-number">8</span>) <br>        self.output = OutConv2d(channels*<span class="hljs-number">16</span>, n_classes)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.<span class="hljs-built_in">input</span>(x)<br>        x = self.PLM1(x)<br>        x = self.PLM2(x)<br>        x = self.PLM3(x)<br>        feature = self.PLM4(x)<br>        feature = torch.squeeze(feature, <span class="hljs-number">2</span>)<br>        logits = self.output(feature)<br>        <span class="hljs-keyword">return</span> torch.sigmoid(logits), feature<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PLM</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, poolingsize, channels</span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.plm = nn.Sequential(<br>            nn.MaxPool3d(kernel_size=[poolingsize, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>]),<br>            nn.Conv3d(channels, channels, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv3d(channels, channels*<span class="hljs-number">2</span>, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> self.plm(x)<br></code></pre></td></tr></table></figure><h3 id="è®­ç»ƒç»†èŠ‚"><a href="#è®­ç»ƒç»†èŠ‚" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h3><h4 id="RV-Segmentation"><a href="#RV-Segmentation" class="headerlink" title="RV Segmentation"></a>RV Segmentation</h4><blockquote><p><strong>è¾“å…¥æ•°æ®ï¼š</strong>3D çš„ OCT å’Œ OCTA Volumeï¼ŒåŸå§‹æ•°æ®å¤§å°ä¸º 640px Ã— 400px Ã— 400pxï¼›<br><strong>è¾“å…¥å¤§å°ï¼š</strong>640px Ã— 100px Ã— 100px çš„é‡‡æ ·æ•°æ®ï¼›<br><strong>é‡‡æ ·æ–¹å¼ï¼š</strong>ç”±äºæŠ•å½±å›¾ä¸­è¡€ç®¡åˆ†å¸ƒå‡åŒ€ï¼Œå› æ­¤é‡‡ç”¨ <strong>éšæœºé‡‡æ ·</strong>ã€‚</p></blockquote><h4 id="FAZ-Segmentation"><a href="#FAZ-Segmentation" class="headerlink" title="FAZ Segmentation"></a>FAZ Segmentation</h4><blockquote><p><strong>è¾“å…¥æ•°æ®ï¼š</strong>é™¤äº† 3D çš„ OCT å’Œ OCTA Volumeå¤–ï¼Œè¿˜è€ƒè™‘åˆ° FAZ ä½äºå›¾åƒçš„ä¸­å¿ƒåŒºåŸŸï¼Œæ·»åŠ äº†ä¸‹å›¾æ‰€ç¤ºçš„è·ç¦»å›¾ï¼ˆdistance mapï¼‰ä½œä¸ºç¬¬ä¸‰é€šé“ï¼›<br><strong>è¾“å…¥å¤§å°ï¼š</strong>640px Ã— 100px Ã— 100px çš„é‡‡æ ·æ•°æ®ï¼›<br><strong>é‡‡æ ·æ–¹å¼ï¼š</strong>ç”±äºæŠ•å½±å›¾ä¸­ FAZ ä»…å ä¸€å°éƒ¨åˆ†ï¼Œå¯¼è‡´ FAZ çš„åˆ†å‰²ä¸­å­˜åœ¨æ­£è´Ÿæ ·æœ¬çš„ä¸å¹³è¡¡é—®é¢˜ï¼Œä¸ºäº†å¢åŠ æ­£æ ·æœ¬çš„æ¯”ä¾‹ï¼Œé‡‡ç”¨ä»¥æŠ•å½±ä¸­å¿ƒä¸ºä¸­å¿ƒçš„ <strong>æ­£æ€åˆ†å¸ƒé‡‡æ ·</strong>ï¼Œä»¥å¢åŠ ä¸­å¿ƒä½ç½®è¢«é€‰ä¸ºè®­ç»ƒæ•°æ®çš„æ¦‚ç‡ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/pV5X7jR4guvokdy.png"></p><h4 id="å‚æ•°é…ç½®"><a href="#å‚æ•°é…ç½®" class="headerlink" title="å‚æ•°é…ç½®"></a>å‚æ•°é…ç½®</h4><table>    <tr>        <td>Optimizer</td><td>Adam Stochastic Optimization</td>    </tr>    <tr>        <td>GPU</td><td>1 NVIDIA GeForce GTX 1080Ti</td>    </tr>      <tr>        <td>Loss Function</td><td>Cross-entropy</td>    </tr>    <tr>        <td>Batch Size</td><td>3</td>    </tr>    <tr>        <td>Max Iteration Number</td><td>20000</td>    </tr>    <tr>        <td>Initial Learning Rate</td><td>10^(-4)</td>    </tr></table><h3 id="å¯¹æ¯”å®éªŒ"><a href="#å¯¹æ¯”å®éªŒ" class="headerlink" title="å¯¹æ¯”å®éªŒ"></a>å¯¹æ¯”å®éªŒ</h3><h4 id="3D-to-2D-IPN-vs-2D-to-1D-IPN"><a href="#3D-to-2D-IPN-vs-2D-to-1D-IPN" class="headerlink" title="3D-to-2D IPN vs. 2D-to-1D IPN"></a>3D-to-2D IPN vs. 2D-to-1D IPN</h4><blockquote><p>2D-to-1D IPN åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç¼ºå°‘ç©ºé—´ä¿¡æ¯ï¼Œå¯¼è‡´é¢„æµ‹ç»“æœä¸­å¿ƒå­˜åœ¨æ˜æ˜¾çš„é”¯é½¿çŠ¶ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/cJDWQtAq7dvi9lG.png"><br><img src="https://s2.loli.net/2022/08/08/4BIcpjNluJC7oQM.png" alt="FAZåˆ†å‰²ç»“æœä½¿ç”¨ 2D-to-1D IPNï¼ˆå·¦ï¼‰å’Œ 3D-to-2D IPNï¼ˆå³ï¼‰ã€‚çº¢çº¿ä»£è¡¨çœŸå€¼å›¾ï¼Œé»„çº¿å’Œç»¿çº¿åˆ†åˆ«ä»£è¡¨ 2D-to-1D IPN å’Œ 3D-to-2D IPN çš„ç»“æœã€‚"></p><h4 id="Multi-Channel-vs-Single-Channel"><a href="#Multi-Channel-vs-Single-Channel" class="headerlink" title="Multi-Channel vs. Single-Channel"></a>Multi-Channel vs. Single-Channel</h4><blockquote><p>ï¼ˆ1ï¼‰OCTA &gt; OCTï¼›<br>ï¼ˆ2ï¼‰å¤šæ¨¡æ€æ•°æ® &gt; å•æ¨¡æ€æ•°æ®ï¼›<br>ï¼ˆ3ï¼‰<strong>Distance Map çš„å¼•å…¥</strong> å¢å¤§äº†ä¸­å¿ƒåŒºåŸŸçš„æƒé‡ï¼Œä½¿å¾— FAZ çš„åˆ†å‰²ç»“æœä¸Šæ¶¨äº† 5 ä¸ªç™¾åˆ†ç‚¹ã€‚ï¼ˆâ€Distance map plays an important role, which is related to the location specificity of FAZ. Without the distance map, the network mistakenly assumes that the areas with weak blood flow signals belong to FAZ, such as the weakening of local signals due to turbid refractive media and non-perfusion zone.â€ è·ç¦»å›¾èµ·ç€é‡è¦çš„ä½œç”¨ï¼Œè¿™ä¸ FAZ çš„ä½ç½®ç‰¹å¼‚æ€§æœ‰å…³ã€‚ åœ¨æ²¡æœ‰è·ç¦»å›¾çš„æƒ…å†µä¸‹ï¼Œç½‘ç»œé”™è¯¯åœ°è®¤ä¸ºè¡€æµä¿¡å·è¾ƒå¼±çš„åŒºåŸŸå±äºFAZï¼Œä¾‹å¦‚ç”±äºå±ˆå…‰ä»‹è´¨æ··æµŠå’ŒéçŒæ³¨åŒºå¯¼è‡´å±€éƒ¨ä¿¡å·å‡å¼±ã€‚ï¼‰</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/TnCejam5WVsdq4f.png"><br><img src="https://s2.loli.net/2022/08/08/efEOp29adl4HviM.png" alt="FAZ åˆ†å‰²ç»“æœçš„ä¸‰ä¸ªç¤ºä¾‹ã€‚ (a)-(c) ä¸­çš„é»„è‰²åŒºåŸŸä»£è¡¨çœŸå€¼å›¾ã€‚ (d-f) ä¸­çš„å½©è‰²çº¿è¡¨ç¤ºä¸åŒè¾“å…¥çš„ IPN çš„ç»“æœï¼šOCTï¼ˆçº¢çº¿ï¼‰ã€OCTAï¼ˆç»¿çº¿ï¼‰ã€OCT+OCTAï¼ˆè“çº¿ï¼‰ã€OCT+OCTA+Distance mapï¼ˆé»„çº¿ï¼‰"></p><h4 id="IPN-vs-Others"><a href="#IPN-vs-Others" class="headerlink" title="IPN vs. Others"></a>IPN vs. Others</h4><blockquote><p>ï¼ˆ1ï¼‰IPN ä¼˜äºä»»ä½• 2D æ–¹æ³•<br>ï¼ˆ2ï¼‰IPN æ¶æ„ä¼˜äº U-Net æ¶æ„ï¼ˆmax-pooling å’Œ skip-connectionï¼‰</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/ifJ4FwtGCPsylvc.png" alt="PRO + * è¡¨ç¤ºä½¿ç”¨æŠ•å½±å›¾è¿›è¡Œåˆ†å‰²çš„ 2D æ–¹æ³•"></p><h2 id="IPN-V2"><a href="#IPN-V2" class="headerlink" title="IPN V2"></a>IPN V2</h2><h3 id="Plane-Perceptron"><a href="#Plane-Perceptron" class="headerlink" title="Plane Perceptron"></a>Plane Perceptron</h3><blockquote><p><strong>è®¾è®¡ V2 ç‰ˆæœ¬çš„å‡ºå‘ç‚¹ï¼š</strong>IPN çš„ä¸»è¦åŠŸèƒ½æ˜¯å°† 3D ä½“ç§¯ä¿¡æ¯æ±‡æ€»æˆ 2D å¹³é¢ã€‚ ç”±äºç¼ºä¹æ°´å¹³æ–¹å‘çš„ä¸‹é‡‡æ ·ï¼Œå®ƒç¼ºä¹äºŒç»´å¹³é¢ä¸­çš„é«˜çº§è¯­ä¹‰ä¿¡æ¯ã€‚<br><strong>è§£å†³æ–¹æ³•ï¼š</strong>ä½¿ç”¨ U-Net ä½œä¸ºå¹³é¢æ„ŸçŸ¥å™¨ï¼ˆPlane Perceptronï¼‰ï¼Œå¹¶å°†å…¶è¿æ¥åœ¨ IPN åé¢ã€‚ æ­¤å¤–ï¼Œå°† IPN è¾“å‡ºçš„ 2D ç‰¹å¾å’Œç¬¬ä¸€ä¸ª PLM è¾“å‡ºçš„ 3D ç‰¹å¾è¿æ¥èµ·æ¥ï¼Œä»¥é˜²æ­¢æ¢¯åº¦æ¶ˆå¤±å¹¶åŠ å¿«æ”¶æ•›è¿›ç¨‹ã€‚</p></blockquote><p><img src="https://s2.loli.net/2022/08/08/YMBeCLrU6fWsO74.png"></p><h3 id="Global-Retraining"><a href="#Global-Retraining" class="headerlink" title="Global Retraining"></a>Global Retraining</h3><blockquote><p>ç®€å•æ¥è¯´ï¼Œå°±æ˜¯<strong>æŠŠ IPN V2 çš„é¢„æµ‹ç»“æœï¼ˆPatchï¼‰æ‹¼æ¥åˆ°ä¸€èµ·ï¼Œç„¶åå†ç”¨ U-Net è®­ç»ƒä¸€é</strong>ã€‚ å¹¶ä¸”ï¼Œåœ¨å›¾åƒæ‹¼æ¥çš„æ—¶å€™é‡‡ç”¨ <strong>é‡å </strong> çš„æ–¹æ³•ä»¥å‡å°‘æ‹¼æ¥è¿‡ç¨‹å¸¦æ¥çš„â€œæ£‹ç›˜æ•ˆåº”â€ã€‚</p></blockquote><h3 id="è®­ç»ƒç»†èŠ‚-1"><a href="#è®­ç»ƒç»†èŠ‚-1" class="headerlink" title="è®­ç»ƒç»†èŠ‚"></a>è®­ç»ƒç»†èŠ‚</h3><blockquote><p><strong>IPN V2 çš„è®­ç»ƒç»†èŠ‚è¾ƒ IPN è€Œè¨€æœ‰è¾ƒå¤§å˜åŒ–ï¼š</strong><br>ï¼ˆ1ï¼‰<strong>æ•°æ®é›†æ‰©å……</strong>ï¼šä» 316 ä¾‹ 6mmÃ—6mmï¼Œæ‰©å……è‡³ 300 ä¾‹ 6mmÃ—6mm å’Œ 200 ä¾‹ 3mmÃ—3mm çš„ OCT å’Œ OCTA Volumeï¼›åŸå§‹æ•°æ®å¤§å°åˆ†åˆ«ä¸º 640px Ã— 400px Ã— 400px å’Œ 640px Ã— 304px Ã— 304pxï¼›<br>ï¼ˆ2ï¼‰<strong>è¾“å…¥å¤§å°ï¼š</strong>åˆ†åˆ«ä¸º <strong>160px</strong> Ã— 100px Ã— 100px å’Œ <strong>160px</strong> Ã— 76px Ã— 76px çš„é‡‡æ ·æ•°æ®ï¼›<br>ï¼ˆ3ï¼‰<strong>å‚æ•°è°ƒæ•´ï¼š</strong>Maximum iteration number - 30000ï¼ŒBatch size - 1;<br>ï¼ˆ4ï¼‰<strong>Global Training å‚æ•°ï¼š</strong>Maximum iteration number - 5000ï¼ŒBatch size - 2ã€‚</p></blockquote><h3 id="å¯¹æ¯”å®éªŒ-1"><a href="#å¯¹æ¯”å®éªŒ-1" class="headerlink" title="å¯¹æ¯”å®éªŒ"></a>å¯¹æ¯”å®éªŒ</h3><h4 id="RV-Segmentation-1"><a href="#RV-Segmentation-1" class="headerlink" title="RV Segmentation"></a>RV Segmentation</h4><p><img src="https://s2.loli.net/2022/08/08/7PhX3A1HYQ6Oq52.png"></p><h4 id="FAZ-Segmentation-1"><a href="#FAZ-Segmentation-1" class="headerlink" title="FAZ Segmentation"></a>FAZ Segmentation</h4><p><img src="https://s2.loli.net/2022/08/08/dBsiqL3zKOmQgVT.png"></p>]]></content>
      
      
      <categories>
          
          <category> è®ºæ–‡é˜…è¯» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŒ»å­¦å›¾åƒä¸­çš„è¡€ç®¡åˆ†å‰²</title>
      <link href="/2022/07/05/021-VesselSegmentation/"/>
      <url>/2022/07/05/021-VesselSegmentation/</url>
      
        <content type="html"><![CDATA[<p>ä»å»å¹´11æœˆçš„è‚ºè¡€ç®¡åˆ†å‰²å¼€å§‹ï¼Œåˆ°ç°åœ¨çš„çœ¼åº•è¡€ç®¡ï¼Œä¸€èµ·æ•´ç†ä¸€ä¸‹ï¼</p><hr><h1 id="è‚ºéƒ¨è¡€ç®¡-è‚ºéƒ¨è¡€ç®¡åˆ†å‰²"><a href="#è‚ºéƒ¨è¡€ç®¡-è‚ºéƒ¨è¡€ç®¡åˆ†å‰²" class="headerlink" title="è‚ºéƒ¨è¡€ç®¡ [è‚ºéƒ¨è¡€ç®¡åˆ†å‰²]"></a><strong>è‚ºéƒ¨è¡€ç®¡</strong> [<a href="https://paperswithcode.com/task/pulmorary-vessel-segmentation">è‚ºéƒ¨è¡€ç®¡åˆ†å‰²</a>]</h1><ul><li>è¿™é‡Œpaperwithcodeç½‘ç«™çš„â€œè‚ºâ€çš„è‹±æ–‡éƒ½å¼„é”™äº†ï¼Œè‚º-pulmonary</li></ul><h2 id="æ•°æ®é›†"><a href="#æ•°æ®é›†" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><ul><li>VESSEL12 <a href="https://paperswithcode.com/dataset/vessel12">https://paperswithcode.com/dataset/vessel12</a></li><li>ISICDM2020æŒ‘æˆ˜èµ› <a href="https://svyj.github.io/2020/11/04/ISICDM2020/">https://svyj.github.io/2020/11/04/ISICDM2020/</a></li></ul><h2 id="SOTAæ¨¡å‹"><a href="#SOTAæ¨¡å‹" class="headerlink" title="SOTAæ¨¡å‹"></a>SOTAæ¨¡å‹</h2><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><h1 id="çœ¼åº•OCTè¡€ç®¡-çœ¼åº•è¡€ç®¡åˆ†å‰²"><a href="#çœ¼åº•OCTè¡€ç®¡-çœ¼åº•è¡€ç®¡åˆ†å‰²" class="headerlink" title="çœ¼åº•OCTè¡€ç®¡ [çœ¼åº•è¡€ç®¡åˆ†å‰²]"></a><strong>çœ¼åº•OCTè¡€ç®¡</strong> [<a href="https://paperswithcode.com/task/retinal-vessel-segmentation">çœ¼åº•è¡€ç®¡åˆ†å‰²</a>]</h1><h2 id="æ•°æ®é›†-1"><a href="#æ•°æ®é›†-1" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><ul><li>DRIVE <a href="https://paperswithcode.com/dataset/drive">https://paperswithcode.com/dataset/drive</a></li><li>CHASE <a href="https://paperswithcode.com/dataset/chase-db1">https://paperswithcode.com/dataset/chase-db1</a></li><li>STARE <a href="https://paperswithcode.com/dataset/stare">https://paperswithcode.com/dataset/stare</a></li><li>HRF <a href="https://paperswithcode.com/dataset/hrf">https://paperswithcode.com/dataset/hrf</a> (è¿™ä¸ªæ•°æ®é›†åšçš„å¤ªå°‘äº†ï¼Œå¯ä»¥å¿½ç•¥ä¸è®¡)</li></ul><h2 id="SOTAæ¨¡å‹-1"><a href="#SOTAæ¨¡å‹-1" class="headerlink" title="SOTAæ¨¡å‹"></a>SOTAæ¨¡å‹</h2><ul><li><p>ResU-Net<br><img src="https://i.loli.net/2021/07/05/s9N3gaDQdAjorvn.png" alt="Res U-Net"></p></li><li><p>R2U-Net<br><img src="https://i.loli.net/2021/07/05/k2hqyaKDzO6bcrw.png" alt="R2U-Net"></p></li><li><p>DU-Net<br><img src="https://i.loli.net/2021/07/05/csoa37m9OvrCUL8.png" alt="DU-Net"></p></li><li><p>LadderNet<br><img src="https://i.loli.net/2021/07/05/rfcjeJlbQ17H6ID.png" alt="LadderNet"></p></li><li><p>IterNet<br><img src="https://i.loli.net/2021/07/05/IebxlPoaSWdN5iO.png" alt="IterNet"></p></li><li><p>BCDU-Net<br><img src="https://i.loli.net/2021/07/05/oOeSpf8nyWkB5YM.png" alt="BCDU-Net"></p></li><li><p>CENet<br><img src="https://i.loli.net/2021/07/05/vCbqJnw7QBjhXLK.png" alt="CENet"></p></li><li><p>ETNet<br><img src="https://i.loli.net/2021/07/05/ELcW31BCK5guOYw.png" alt="ETNet"></p></li><li><p>SAU-Net<br><img src="https://i.loli.net/2021/07/05/J24BuZtFx7SafWs.png" alt="SAU-Net"></p></li></ul><h2 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><h1 id="çœ¼åº•OCTAè¡€ç®¡"><a href="#çœ¼åº•OCTAè¡€ç®¡" class="headerlink" title="çœ¼åº•OCTAè¡€ç®¡"></a><strong>çœ¼åº•OCTAè¡€ç®¡</strong></h1><h2 id="æ•°æ®é›†-2"><a href="#æ•°æ®é›†-2" class="headerlink" title="æ•°æ®é›†"></a>æ•°æ®é›†</h2><h2 id="SOTAæ¨¡å‹-2"><a href="#SOTAæ¨¡å‹-2" class="headerlink" title="SOTAæ¨¡å‹"></a>SOTAæ¨¡å‹</h2><h2 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h2>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Transformerç³»åˆ—çš„ç®€å•æ•´ç†ï¼ˆæŒ–å‘ï¼‰</title>
      <link href="/2022/07/05/022-Transformers/"/>
      <url>/2022/07/05/022-Transformers/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»€ä¹ˆæ˜¯Transformer"><a href="#ä»€ä¹ˆæ˜¯Transformer" class="headerlink" title="ä»€ä¹ˆæ˜¯Transformer?"></a><strong>ä»€ä¹ˆæ˜¯Transformer?</strong></h1><h2 id="Attention-Mechanism"><a href="#Attention-Mechanism" class="headerlink" title="Attention Mechanism"></a>Attention Mechanism</h2><h2 id="Self-Attention"><a href="#Self-Attention" class="headerlink" title="Self Attention"></a>Self Attention</h2><h2 id="Multi-Head-Attention"><a href="#Multi-Head-Attention" class="headerlink" title="Multi-Head Attention"></a>Multi-Head Attention</h2><h2 id="Transformer"><a href="#Transformer" class="headerlink" title="Transformer"></a><strong>Transformer</strong></h2><p>Paper: <a href="https://arxiv.org/abs/1706.03762">Attention is not all you need: pure attention loses rank doubly exponentially with depth</a>[NeurIPS 2017] </p><h1 id="Vision-Transformer"><a href="#Vision-Transformer" class="headerlink" title="Vision Transformer"></a><strong>Vision Transformer</strong></h1><h2 id="ViT"><a href="#ViT" class="headerlink" title="ViT"></a><strong>ViT</strong></h2><p>Paper: <a href="">An Image Is Worth 16X16 Words: Transformers for Image Recognition at Scale</a>[ICLR 2021]<br><img src="https://i.loli.net/2021/07/20/zmd57MLaIEw4upN.png" alt="ViT"></p><h2 id="DETR"><a href="#DETR" class="headerlink" title="DETR"></a>DETR</h2><h2 id="CrossViT"><a href="#CrossViT" class="headerlink" title="CrossViT"></a>CrossViT</h2><p>Paper: <a href="">CrossViT: Cross-Attention Multi-Scale Vision Transformer for Image Classificatio</a><br><img src="https://i.loli.net/2021/07/20/yKWVM2ei4RPkQlC.png" alt="CrossViT"></p><h2 id="MViT"><a href="#MViT" class="headerlink" title="MViT"></a>MViT</h2><p>Paper: <a href="">Multiscale Vision Transformer</a><br>Codes: <a href="https://github.com/facebookresearch/SlowFast/tree/master/projects/mvit">https://github.com/facebookresearch/SlowFast/tree/master/projects/mvit</a></p><h2 id="Swin-Transformer"><a href="#Swin-Transformer" class="headerlink" title="Swin-Transformer"></a>Swin-Transformer</h2><p>Paper: <a href="">Swin Transformer: Hierarchical Vision Transformer using Shifted Windows</a></p><h2 id="SETR"><a href="#SETR" class="headerlink" title="SETR"></a><strong>SETR</strong></h2><p>Paper: <a href="https://arxiv.org/abs/2105.05633">Rethinking Semantic Segmentation from a Sequence-to-Sequence Perspective with Transformers</a>[CVPR 2021]<br>Codes: <a href="https://github.com/fudan-zvg/SETR">SETR</a><br><img src="https://i.loli.net/2021/07/20/CAvJluR4LfNS18e.png" alt="SETR"></p><h2 id="Segmenter"><a href="#Segmenter" class="headerlink" title="Segmenter"></a>Segmenter</h2><p>Paper: <a href="https://arxiv.org/abs/2105.05633">Segmenter: Transformer for Semantic Segmentation</a><br>Codes: <a href="https://github.com/rstrudel/segmenter">Segmenter</a></p><h1 id="åŒ»å­¦å›¾åƒä¸­çš„Transformer"><a href="#åŒ»å­¦å›¾åƒä¸­çš„Transformer" class="headerlink" title="åŒ»å­¦å›¾åƒä¸­çš„Transformer"></a><strong>åŒ»å­¦å›¾åƒä¸­çš„Transformer</strong></h1><h2 id="TransU-Net"><a href="#TransU-Net" class="headerlink" title="TransU-Net"></a>TransU-Net</h2><p>Paper: <a href="">TransUNet: Transformers Make Strong Encoders for Medical Image Segmentation</a><br><img src="https://i.loli.net/2021/07/20/mKI2VGrY7EHATUq.png" alt="TransU-Net(R50+ViT)"></p><h2 id="U-Net-Transformer"><a href="#U-Net-Transformer" class="headerlink" title="U-Net Transformer"></a>U-Net Transformer</h2><p>Paper: <a href="">U-Net Transformer: Self and Cross Attention for Medical Image Segmentation</a><br><img src="https://i.loli.net/2021/07/20/RJyVszCqudIGotW.png" alt="U-Net Transformer"></p><h2 id="Medical-Transformer-MedT"><a href="#Medical-Transformer-MedT" class="headerlink" title="Medical Transformer(MedT)"></a><strong>Medical Transformer(MedT)</strong></h2><p>Paper: <a href="">Medical Transformer: Gated Axial-Attention for Medical Image Segmentation</a>[MICCAI 2021]<br><img src="https://i.loli.net/2021/07/20/pHGLezSUiCWFmBa.png" alt="Medical Transformer(LoGo)"></p><h2 id="TransBTS"><a href="#TransBTS" class="headerlink" title="TransBTS"></a>TransBTS</h2><h2 id="UNETR"><a href="#UNETR" class="headerlink" title="UNETR"></a>UNETR</h2><h2 id="TransFuse"><a href="#TransFuse" class="headerlink" title="TransFuse"></a>TransFuse</h2><p>Paper: <a href="">TransFuse: Fusing Transformers and CNNs for Medical Image Segmentation</a><br><img src="https://i.loli.net/2021/07/20/XdqYRoj6vLWb7AT.png" alt="TransFuse"></p><h2 id="SegTran"><a href="#SegTran" class="headerlink" title="SegTran"></a><strong>SegTran</strong></h2><p>Paper: <a href="https://arxiv.org/abs/2105.09511">Medical Image Segmentation Using Squeeze-and-Expansion Transformers</a>[IJCAI 2021]<br>Codes: <a href="https://github.com/askerlee/segtran">segtran</a></p><h2 id="Trans2Seg"><a href="#Trans2Seg" class="headerlink" title="Trans2Seg"></a>Trans2Seg</h2><h2 id="Swin-Unet"><a href="#Swin-Unet" class="headerlink" title="Swin-Unet"></a>Swin-Unet</h2><p>Paper: <a href="https://arxiv.org/abs/2105.05537">Swin-Unet: Unet-like Pure Transformer for Medical Image Segmentation</a><br>Codes: <a href="https://github.com/HuCaoFighting/Swin-Unet">Swin-Unet</a><br><img src="https://i.loli.net/2021/07/20/UJPC3YxTQVnLhFB.png" alt="Swin-Unet"></p><h2 id="DS-TransUNet"><a href="#DS-TransUNet" class="headerlink" title="DS-TransUNet"></a>DS-TransUNet</h2><h2 id="UTNet"><a href="#UTNet" class="headerlink" title="UTNet"></a><strong>UTNet</strong></h2><p>[MICCAI 2021]</p><h2 id="PNS-Net"><a href="#PNS-Net" class="headerlink" title="PNS-Net"></a><strong>PNS-Net</strong></h2><p>[MICCAI 2021]</p><h1 id="ä»£ç å®ç°ç¤ºä¾‹"><a href="#ä»£ç å®ç°ç¤ºä¾‹" class="headerlink" title="ä»£ç å®ç°ç¤ºä¾‹"></a><strong>ä»£ç å®ç°ç¤ºä¾‹</strong></h1><ul><li>å‚è€ƒèµ„æ–™<br>[1] <a href="https://arxiv.org/abs/2012.12556">A Survey on Visual Transformer</a><br>[2] <a href="https://zhuanlan.zhihu.com/p/339181742">https://zhuanlan.zhihu.com/p/339181742</a><br>[3] <a href="https://arxiv.org/abs/2101.01169">Transformers in Vision: A Survey</a><br>[4] <a href="https://zhuanlan.zhihu.com/p/390784659">https://zhuanlan.zhihu.com/p/390784659</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
            <tag> Transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytorchä½¿ç”¨Visdomå¯è§†åŒ–ï¼ˆå®‰è£…å’Œä½¿ç”¨æ•™ç¨‹ï¼‰</title>
      <link href="/2022/07/05/024-Visdom/"/>
      <url>/2022/07/05/024-Visdom/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Visdomå®‰è£…"><a href="#1-Visdomå®‰è£…" class="headerlink" title="1 Visdomå®‰è£…"></a>1 Visdomå®‰è£…</h1><ul><li>åœ¨ä»£ç ç¯å¢ƒä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯å®‰è£…ã€‚</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">pip install visdom<br></code></pre></td></tr></table></figure><h1 id="2-Visdomå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹"><a href="#2-Visdomå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹" class="headerlink" title="2 Visdomå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹"></a>2 Visdomå¯è§†åŒ–è®­ç»ƒè¿‡ç¨‹</h1><h2 id="1-Visdomå¯è§†åŒ–æ–¹æ³•çš„å®ç°"><a href="#1-Visdomå¯è§†åŒ–æ–¹æ³•çš„å®ç°" class="headerlink" title="(1) Visdomå¯è§†åŒ–æ–¹æ³•çš„å®ç°"></a>(1) Visdomå¯è§†åŒ–æ–¹æ³•çš„å®ç°</h2><ul><li>ä»¥ä¸‹pythonç±»å¯è‡ªè¡Œå®ç°ï¼Œè¿™é‡Œè´´å‡ºæœ¬äººä½¿ç”¨çš„Visdomç±»å’Œæ–¹æ³•ã€‚<br>æ³¨ï¼šä»¥ä¸‹ä»£ç ç›´æ¥æ‹·è´è‡³visualizer.pyå¹¶ä¸æ¨¡å‹è®­ç»ƒæ–‡ä»¶æ”¾åœ¨åŒä¸€è·¯å¾„ä¸‹å³å¯ï¼Œåœ¨éœ€è¦å¯è§†åŒ–çš„æ–‡ä»¶ä¸­è°ƒç”¨Visualizerç±»ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> os<br><span class="hljs-keyword">import</span> visdom<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> time<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Visualizer</span>(<span class="hljs-title class_ inherited__">object</span>):<br>    <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">    å°è£…äº†visdomçš„åŸºæœ¬æ“ä½œï¼Œä½†æ˜¯ä½ ä»ç„¶å¯ä»¥é€šè¿‡`self.vis.function`</span><br><span class="hljs-string">    æˆ–è€…`self.function`è°ƒç”¨åŸç”Ÿçš„visdomæ¥å£</span><br><span class="hljs-string">    æ¯”å¦‚</span><br><span class="hljs-string">    self.text(&#x27;hello visdom&#x27;)</span><br><span class="hljs-string">    self.histogram(t.randn(1000))</span><br><span class="hljs-string">    self.line(t.arange(0, 10),t.arange(1, 11))</span><br><span class="hljs-string">    &quot;&quot;&quot;</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, env=<span class="hljs-string">&quot;default&quot;</span>, **kwargs</span>):<br>        self.vis = visdom.Visdom(env=env, **kwargs)<br>        self.env = env<br>        <span class="hljs-comment"># ç”»çš„ç¬¬å‡ ä¸ªæ•°ï¼Œç›¸å½“äºæ¨ªåæ ‡</span><br>        <span class="hljs-comment"># æ¯”å¦‚(&quot;loss&quot;, 23) å³lossçš„ç¬¬23ä¸ªç‚¹</span><br>        self.index = &#123;&#125;<br>        self.log_text = <span class="hljs-string">&quot;&quot;</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">reinit</span>(<span class="hljs-params">self, env=<span class="hljs-string">&quot;default&quot;</span>, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        ä¿®æ”¹visdomçš„é…ç½®</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        self.vis = visdom.Visdom(env=env, **kwargs)<br>        self.env = env<br>        <br>        <span class="hljs-keyword">return</span> self<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_many</span>(<span class="hljs-params">self, d</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        ä¸€æ¬¡plotå¤šä¸ª</span><br><span class="hljs-string">        @params d: dict (name, value) i.e. (&quot;loss&quot;, 0.11)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.iteritems():<br>            self.plot(k, v)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">img_many</span>(<span class="hljs-params">self, d</span>):<br>        <span class="hljs-keyword">for</span> k, v <span class="hljs-keyword">in</span> d.iteritems():<br>            self.img(k, v)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">plot</span>(<span class="hljs-params">self, name, y, **kwargs</span>):<br>        <span class="hljs-comment"># self.plot(&quot;loss&quot;, 1.00)</span><br>        <br>        x = self.index.get(name, <span class="hljs-number">0</span>)<br>        self.vis.line(Y=np.array([y]), X=np.array([x]),<br>                      win=name,<br>                      opts=<span class="hljs-built_in">dict</span>(title=name),<br>                      update=<span class="hljs-literal">None</span> <span class="hljs-keyword">if</span> x == <span class="hljs-number">0</span> <span class="hljs-keyword">else</span> <span class="hljs-string">&quot;append&quot;</span>,<br>                      **kwargs<br>                      )<br>        self.index[name] = x + <span class="hljs-number">1</span><br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">img</span>(<span class="hljs-params">self, name, img_, **kwargs</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        self.img(&quot;input_img&quot;, t.Tensor(64, 64))</span><br><span class="hljs-string">        self.img(&quot;input_imgs&quot;, t.Tensor(3, 64, 64))</span><br><span class="hljs-string">        self.img(&quot;input_imgs&quot;, t.Tensor(100, 1, 64, 64))</span><br><span class="hljs-string">        self.img(&quot;input_imgs&quot;, t.Tensor(100, 3, 64, 64), nrows=10)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        self.vis.images(img_,<br>                        win=name,<br>                        opts=<span class="hljs-built_in">dict</span>(title=name),<br>                        **kwargs<br>                        )<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">log</span>(<span class="hljs-params">self, info, win=<span class="hljs-string">&quot;log_text&quot;</span></span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        self.log(&#123;&quot;loss&quot;: 1, &quot;lr&quot;: 0.0001&#125;)</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        self.log_text += (<span class="hljs-string">&quot;[&#123;time&#125;] &#123;info&#125; &lt;br&gt;&quot;</span>.<span class="hljs-built_in">format</span>(<br>            time=time.strftime(<span class="hljs-string">&quot;%m%d_%H%M%S&quot;</span>), info=info))<br>        self.vis.text(self.log_text, win)<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__getattr__</span>(<span class="hljs-params">self, name</span>):<br>        <span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">        self.function ç­‰ä»·äºself.vis.function</span><br><span class="hljs-string">        è‡ªå®šä¹‰çš„plot, image, log, plot_manyç­‰é™¤å¤–</span><br><span class="hljs-string">        &quot;&quot;&quot;</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">getattr</span>(self.vis, name)<br></code></pre></td></tr></table></figure><h2 id="2-Visualizerç±»çš„è°ƒç”¨ä»¥åŠå…¶æ–¹æ³•çš„ä½¿ç”¨"><a href="#2-Visualizerç±»çš„è°ƒç”¨ä»¥åŠå…¶æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="(2) Visualizerç±»çš„è°ƒç”¨ä»¥åŠå…¶æ–¹æ³•çš„ä½¿ç”¨"></a>(2) Visualizerç±»çš„è°ƒç”¨ä»¥åŠå…¶æ–¹æ³•çš„ä½¿ç”¨</h2><h3 id="Visualizerç±»çš„åˆå§‹åŒ–"><a href="#Visualizerç±»çš„åˆå§‹åŒ–" class="headerlink" title="Visualizerç±»çš„åˆå§‹åŒ–"></a>Visualizerç±»çš„åˆå§‹åŒ–</h3><ul><li>Visualizerç±»åŒ…å«ç¯å¢ƒåå’Œç«¯å£å·ä¸¤ä¸ªå‚æ•°ã€‚<br>ç¯å¢ƒåï¼ˆenvï¼‰ï¼šå­—ç¬¦ä¸²ï¼Œæ— é»˜è®¤å€¼ï¼Œä¸ºä¾¿äºåŒºåˆ†ï¼Œå»ºè®®è®¾ç½®ä¸ºå®éªŒåç§°ã€‚å¦‚â€™exp1â€™ã€‚<br>ç«¯å£å·ï¼ˆportï¼‰ï¼šæ•´æ•°ï¼Œé»˜è®¤ä¸º8097ï¼Œé¿å…ä¸ä»–äººå†²çªï¼Œå»ºè®®æ›´æ”¹ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">viz = Visualizer(env, port)<br></code></pre></td></tr></table></figure><h3 id="Visualizerç±»ä¸­æ–¹æ³•çš„ä½¿ç”¨"><a href="#Visualizerç±»ä¸­æ–¹æ³•çš„ä½¿ç”¨" class="headerlink" title="Visualizerç±»ä¸­æ–¹æ³•çš„ä½¿ç”¨"></a>Visualizerç±»ä¸­æ–¹æ³•çš„ä½¿ç”¨</h3><ul><li>ä»¥ä¸‹é€šè¿‡ä¸¾ä¾‹æ¥è¯´æ˜ã€‚</li></ul><h4 id="Lossæ›²çº¿å¯è§†åŒ–"><a href="#Lossæ›²çº¿å¯è§†åŒ–" class="headerlink" title="Lossæ›²çº¿å¯è§†åŒ–"></a>Lossæ›²çº¿å¯è§†åŒ–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">viz.plot(<span class="hljs-string">&quot;train loss&quot;</span>, loss.item())<br></code></pre></td></tr></table></figure><h4 id="å›¾åƒå¯è§†åŒ–"><a href="#å›¾åƒå¯è§†åŒ–" class="headerlink" title="å›¾åƒå¯è§†åŒ–"></a>å›¾åƒå¯è§†åŒ–</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs Python">viz.img(name=<span class="hljs-string">&quot;images&quot;</span>, img_=img[<span class="hljs-number">0</span>, :, :, :])<br>viz.img(name=<span class="hljs-string">&quot;labels&quot;</span>, img_=gt[<span class="hljs-number">0</span>, :, :, :])<br>viz.img(name=<span class="hljs-string">&quot;prediction&quot;</span>, img_=pred[<span class="hljs-number">0</span>, :, :, :])<br></code></pre></td></tr></table></figure><h2 id="3-VisdomæœåŠ¡å™¨å¯åŠ¨"><a href="#3-VisdomæœåŠ¡å™¨å¯åŠ¨" class="headerlink" title="(3) VisdomæœåŠ¡å™¨å¯åŠ¨"></a>(3) VisdomæœåŠ¡å™¨å¯åŠ¨</h2><ul><li>æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œåœ¨ä»£ç ç¯å¢ƒä¸‹æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å³å¯æ‰“å¼€ã€‚<br>æ³¨ï¼šæ­¤ç»ˆç«¯å¿…é¡»ä¿æŒæ‰“å¼€çŠ¶æ€ï¼Œä¸å¯å…³é—­ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">python -m visdom.server -port=<span class="hljs-number">9999</span><br></code></pre></td></tr></table></figure><h2 id="4-æ‰“å¼€Visdomå¯è§†åŒ–ç½‘é¡µ"><a href="#4-æ‰“å¼€Visdomå¯è§†åŒ–ç½‘é¡µ" class="headerlink" title="(4) æ‰“å¼€Visdomå¯è§†åŒ–ç½‘é¡µ"></a>(4) æ‰“å¼€Visdomå¯è§†åŒ–ç½‘é¡µ</h2><ul><li>æµè§ˆå™¨ä¸­è¾“å…¥server_ip:9999æ‰“å¼€ç½‘é¡µï¼Œåœ¨environmentä¸­é€‰æ‹©è‡ªå·±è®¾ç½®çš„ç¯å¢ƒåå³å¯çœ‹åˆ°å¯è§†åŒ–ç»“æœã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Pytorch </tag>
            
            <tag> ç¯å¢ƒé…ç½® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆæ•´ç†é“¾æ¥ï¼‰å¸¸ç”¨ç½‘ç»œçš„Pytorchå®ç°</title>
      <link href="/2022/07/05/025-PytorchImplementation/"/>
      <url>/2022/07/05/025-PytorchImplementation/</url>
      
        <content type="html"><![CDATA[<p>æ•´ç†å‡ºæ¥æ–¹ä¾¿è‡ªç”¨ï¼Œä¸ç”¨æ¯æ¬¡éƒ½å»åˆ°å¤„æ‰¾å¼€æºä»£ç ã€‚ï¼ˆä»¥ä¸‹é“¾æ¥ä¸­çš„ä»£ç å¯ç›´æ¥æ‹·è´ä½¿ç”¨ï¼‰</p><h2 id="CNNs"><a href="#CNNs" class="headerlink" title="CNNs"></a>CNNs</h2><h3 id="LeNet"><a href="#LeNet" class="headerlink" title="LeNet"></a>LeNet</h3><h3 id="AlexNet"><a href="#AlexNet" class="headerlink" title="AlexNet"></a>AlexNet</h3><p><a href="https://github.com/dansuh17/alexnet-pytorch/blob/d0c1b1c52296ffcbecfbf5b17e1d1685b4ca6744/model.py#L40">alexnet-pytorch&#x2F;model.py at d0c1b1c52296ffcbecfbf5b17e1d1685b4ca6744 Â· dansuh17&#x2F;alexnet-pytorch (github.com)</a></p><h3 id="VGGç³»åˆ—"><a href="#VGGç³»åˆ—" class="headerlink" title="VGGç³»åˆ—"></a>VGGç³»åˆ—</h3><p><a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/vgg.py#L24">vision&#x2F;vgg.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></p><h3 id="ResNetç³»åˆ—åŠå…¶è¡ç”Ÿç³»åˆ—"><a href="#ResNetç³»åˆ—åŠå…¶è¡ç”Ÿç³»åˆ—" class="headerlink" title="ResNetç³»åˆ—åŠå…¶è¡ç”Ÿç³»åˆ—"></a>ResNetç³»åˆ—åŠå…¶è¡ç”Ÿç³»åˆ—</h3><ul><li>ResNetï¼š<a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/resnet.py#L124">vision&#x2F;resnet.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></li><li>ResNeStï¼š<a href="https://github.com/zhanghang1989/ResNeSt/blob/5fe47e93bd7e098d15bc278d8ab4812b82b49414/resnest/torch/resnet.py#L129">ResNeSt&#x2F;resnet.py at 5fe47e93bd7e098d15bc278d8ab4812b82b49414 Â· zhanghang1989&#x2F;ResNeSt (github.com)</a></li><li>ResNeXtï¼š<a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/resnet.py#L124">vision&#x2F;resnet.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></li><li>SENetï¼š<a href="https://github.com/moskomule/senet.pytorch/blob/master/senet/se_resnet.py">senet.pytorch&#x2F;se_resnet.py at master Â· moskomule&#x2F;senet.pytorch (github.com)</a></li><li>SKNetï¼š<a href="https://github.com/pppLang/SKNet/blob/master/sknet.py">SKNet&#x2F;sknet.py at master Â· pppLang&#x2F;SKNet (github.com)</a></li><li>RepVGGï¼š<a href="https://github.com/DingXiaoH/RepVGG/blob/main/repvgg.py">RepVGG&#x2F;repvgg.py at main Â· DingXiaoH&#x2F;RepVGG (github.com)</a></li></ul><h3 id="DenseNet"><a href="#DenseNet" class="headerlink" title="DenseNet"></a>DenseNet</h3><p><a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/densenet.py#L126">vision&#x2F;densenet.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></p><h3 id="GoogLeNet"><a href="#GoogLeNet" class="headerlink" title="GoogLeNet"></a>GoogLeNet</h3><p><a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/googlenet.py#L62">vision&#x2F;googlenet.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></p><h3 id="MobileNetç³»åˆ—"><a href="#MobileNetç³»åˆ—" class="headerlink" title="MobileNetç³»åˆ—"></a>MobileNetç³»åˆ—</h3><ul><li>V1ï¼š<a href="https://github.com/osmr/imgclsmob/blob/956b4ebab0bbf98de4e1548287df5197a3c7154e/pytorch/pytorchcv/models/mobilenet.py#L14">imgclsmob&#x2F;mobilenet.py at 956b4ebab0bbf98de4e1548287df5197a3c7154e Â· osmr&#x2F;imgclsmob (github.com)</a></li><li>V2ï¼š<a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/mobilenet.py#L77">vision&#x2F;mobilenet.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></li></ul><h3 id="ShuffleNetç³»åˆ—"><a href="#ShuffleNetç³»åˆ—" class="headerlink" title="ShuffleNetç³»åˆ—"></a>ShuffleNetç³»åˆ—</h3><ul><li>V1ï¼š<a href="https://github.com/osmr/imgclsmob/blob/c03fa67de3c9e454e9b6d35fe9cbb6b15c28fda7/pytorch/pytorchcv/models/shufflenet.py#L123">imgclsmob&#x2F;shufflenet.py at c03fa67de3c9e454e9b6d35fe9cbb6b15c28fda7 Â· osmr&#x2F;imgclsmob (github.com)</a></li><li>V2ï¼š<a href="https://github.com/pytorch/vision/blob/6db1569c89094cf23f3bc41f79275c45e9fcb3f3/torchvision/models/shufflenetv2.py#L86">vision&#x2F;shufflenetv2.py at 6db1569c89094cf23f3bc41f79275c45e9fcb3f3 Â· pytorch&#x2F;vision (github.com)</a></li></ul><h3 id="EfficientNetç³»åˆ—"><a href="#EfficientNetç³»åˆ—" class="headerlink" title="EfficientNetç³»åˆ—"></a>EfficientNetç³»åˆ—</h3><ul><li>V1ï¼š<a href="https://github.com/lukemelas/EfficientNet-PyTorch/blob/2eb7a7d264344ddf15d0a06ee99b0dca524c6a07/efficientnet_pytorch/model.py#L143">EfficientNet-PyTorch&#x2F;model.py at 2eb7a7d264344ddf15d0a06ee99b0dca524c6a07 Â· lukemelas&#x2F;EfficientNet-PyTorch (github.com)</a></li><li>V2ï¼š<a href="https://github.com/google/automl/blob/master/efficientnetv2/effnetv2_model.py">automl&#x2F;effnetv2_model.py at master Â· google&#x2F;automl (github.com)</a></li></ul><h3 id="HRNet"><a href="#HRNet" class="headerlink" title="HRNet"></a>HRNet</h3><p><a href="https://github.com/HRNet/HRNet-Image-Classification/blob/8f158719e821836e21e6cba99a3241a12a13bc41/lib/models/cls_hrnet.py#L254">HRNet-Image-Classification&#x2F;cls_hrnet.py at 8f158719e821836e21e6cba99a3241a12a13bc41 Â· HRNet&#x2F;HRNet-Image-Classification (github.com)</a></p><h3 id="Deformable-Convolutional-Network"><a href="#Deformable-Convolutional-Network" class="headerlink" title="Deformable Convolutional Network"></a>Deformable Convolutional Network</h3><ul><li>DCNv1ï¼šå¾…è¡¥å……</li><li>DCNv2ï¼šå¾…è¡¥å……</li></ul><h3 id="FCN"><a href="#FCN" class="headerlink" title="FCN"></a>FCN</h3><p><a href="https://github.com/pytorch/vision/blob/bf843c664b8ba0ff49d2921237500c77d82f2d04/torchvision/models/segmentation/fcn.py#L9">vision&#x2F;fcn.py at bf843c664b8ba0ff49d2921237500c77d82f2d04 Â· pytorch&#x2F;vision (github.com)</a></p><h3 id="UNetåŠå…¶è¡ç”Ÿ"><a href="#UNetåŠå…¶è¡ç”Ÿ" class="headerlink" title="UNetåŠå…¶è¡ç”Ÿ"></a>UNetåŠå…¶è¡ç”Ÿ</h3><ul><li>U-Netï¼š<a href="https://github.com/milesial/Pytorch-UNet/blob/67bf11b4db4c5f2891bd7e8e7f58bcde8ee2d2db/unet/unet_model.py#L8">Pytorch-UNet&#x2F;unet_model.py at 67bf11b4db4c5f2891bd7e8e7f58bcde8ee2d2db Â· milesial&#x2F;Pytorch-UNet (github.com)</a></li><li>U-Net++ï¼š<a href="https://github.com/MrGiovanni/UNetPlusPlus/blob/e145ba63862982bf1099cf2ec11d5466b434ae0b/pytorch/nnunet/network_architecture/generic_UNetPlusPlus.py#L167">UNetPlusPlus&#x2F;generic_UNetPlusPlus.py at e145ba63862982bf1099cf2ec11d5466b434ae0b Â· MrGiovanni&#x2F;UNetPlusPlus (github.com)</a></li><li>U-Net 3+ï¼š<a href="https://github.com/ZJUGiveLab/UNet-Version/blob/master/models/UNet_3Plus.py">UNet-Version&#x2F;UNet_3Plus.py at master Â· ZJUGiveLab&#x2F;UNet-Version (github.com)</a></li><li>Attention U-Netï¼š<a href="https://github.com/LeeJunHyun/Image_Segmentation/blob/master/network.py">Image_Segmentation&#x2F;network.py at master Â· LeeJunHyun&#x2F;Image_Segmentation (github.com)</a></li><li>R2 U-Netï¼š<a href="https://github.com/LeeJunHyun/Image_Segmentation/blob/master/network.py">Image_Segmentation&#x2F;network.py at master Â· LeeJunHyun&#x2F;Image_Segmentation (github.com)</a></li><li>U^2 Netï¼š<a href="https://github.com/xuebinqin/U-2-Net/blob/master/model/u2net.py">U-2-Net&#x2F;u2net.py at master Â· xuebinqin&#x2F;U-2-Net (github.com)</a></li></ul><h3 id="SegNet"><a href="#SegNet" class="headerlink" title="SegNet"></a>SegNet</h3><p><a href="https://github.com/yassouali/pytorch-segmentation/blob/8b8e3ee20a3aa733cb19fc158ad5d7773ed6da7f/models/segnet.py#L9">pytorch-segmentation&#x2F;segnet.py at 8b8e3ee20a3aa733cb19fc158ad5d7773ed6da7f Â· yassouali&#x2F;pytorch-segmentation (github.com)</a></p><h3 id="PSPNet"><a href="#PSPNet" class="headerlink" title="PSPNet"></a>PSPNet</h3><p><a href="https://github.com/hszhao/semseg/blob/7192f922b99468969cfd4535e3e35a838994b115/model/pspnet.py#L29">semseg&#x2F;pspnet.py at 7192f922b99468969cfd4535e3e35a838994b115 Â· hszhao&#x2F;semseg (github.com)</a></p><h3 id="DeepLabç³»åˆ—"><a href="#DeepLabç³»åˆ—" class="headerlink" title="DeepLabç³»åˆ—"></a>DeepLabç³»åˆ—</h3><ul><li>V1ï¼š<a href="https://github.com/kazuto1011/deeplab-pytorch/blob/master/libs/models/deeplabv1.py">deeplab-pytorch&#x2F;deeplabv1.py at master Â· kazuto1011&#x2F;deeplab-pytorch (github.com)</a></li><li>V2ï¼š<a href="https://github.com/kazuto1011/deeplab-pytorch/blob/master/libs/models/deeplabv2.py">deeplab-pytorch&#x2F;deeplabv2.py at master Â· kazuto1011&#x2F;deeplab-pytorch (github.com)</a></li><li>V3ï¼š<a href="https://github.com/fregu856/deeplabv3/blob/master/model/deeplabv3.py">deeplabv3&#x2F;deeplabv3.py at master Â· fregu856&#x2F;deeplabv3 (github.com)</a></li><li>V3+ï¼š<a href="https://github.com/YudeWang/deeplabv3plus-pytorch/blob/master/lib/net/deeplabv3plus.py">deeplabv3plus-pytorch&#x2F;deeplabv3plus.py at master Â· YudeWang&#x2F;deeplabv3plus-pytorch (github.com)</a></li></ul><h2 id="Transformers"><a href="#Transformers" class="headerlink" title="Transformers"></a>Transformers</h2><h3 id="ViT"><a href="#ViT" class="headerlink" title="ViT"></a>ViT</h3><p><a href="https://github.com/lucidrains/vit-pytorch/blob/main/vit_pytorch/vit.py">vit-pytorch&#x2F;vit.py at main Â· lucidrains&#x2F;vit-pytorch (github.com)</a></p><h3 id="DeepViT"><a href="#DeepViT" class="headerlink" title="DeepViT"></a>DeepViT</h3><p><a href="https://github.com/lucidrains/vit-pytorch/blob/main/vit_pytorch/deepvit.py">vit-pytorch&#x2F;deepvit.py at main Â· lucidrains&#x2F;vit-pytorch (github.com)</a></p><h3 id="Cross-ViT"><a href="#Cross-ViT" class="headerlink" title="Cross ViT"></a>Cross ViT</h3><p><a href="https://github.com/lucidrains/vit-pytorch/blob/main/vit_pytorch/cross_vit.py">vit-pytorch&#x2F;cross_vit.py at main Â· lucidrains&#x2F;vit-pytorch (github.com)</a></p><h3 id="Swin-Transformer"><a href="#Swin-Transformer" class="headerlink" title="Swin Transformer"></a>Swin Transformer</h3><p><a href="https://github.com/berniwal/swin-transformer-pytorch/blob/master/swin_transformer_pytorch/swin_transformer.py">swin-transformer-pytorch&#x2F;swin_transformer.py at master Â· berniwal&#x2F;swin-transformer-pytorch (github.com)</a></p><h3 id="Token-to-Token-ViT"><a href="#Token-to-Token-ViT" class="headerlink" title="Token-to-Token ViT"></a>Token-to-Token ViT</h3><p><a href="https://github.com/lucidrains/vit-pytorch/blob/main/vit_pytorch/t2t.py">vit-pytorch&#x2F;t2t.py at main Â· lucidrains&#x2F;vit-pytorch (github.com)</a></p><h3 id="TransUNet"><a href="#TransUNet" class="headerlink" title="TransUNet"></a>TransUNet</h3><p><a href="https://github.com/Beckschen/TransUNet/blob/main/networks/vit_seg_modeling.py">TransUNet&#x2F;vit_seg_modeling.py at main Â· Beckschen&#x2F;TransUNet (github.com)</a></p><h3 id="Medical-Transformer"><a href="#Medical-Transformer" class="headerlink" title="Medical Transformer"></a>Medical Transformer</h3><p><a href="https://github.com/jeya-maria-jose/Medical-Transformer/blob/main/lib/models/model_codes.py">Medical-Transformer&#x2F;model_codes.py at main Â· jeya-maria-jose&#x2F;Medical-Transformer (github.com)</a></p><h3 id="TransFuse"><a href="#TransFuse" class="headerlink" title="TransFuse"></a>TransFuse</h3><p>å¾…è¡¥å……</p><h3 id="Swin-UNet"><a href="#Swin-UNet" class="headerlink" title="Swin-UNet"></a>Swin-UNet</h3><p>å¾…è¡¥å……</p><h3 id="nnFormer"><a href="#nnFormer" class="headerlink" title="nnFormer"></a>nnFormer</h3><p><a href="https://github.com/282857341/nnFormer/blob/main/nnformer/network_architecture/neural_network.py">nnFormer&#x2F;neural_network.py at main Â· 282857341&#x2F;nnFormer (github.com)</a></p><h3 id="UCTranNet"><a href="#UCTranNet" class="headerlink" title="UCTranNet"></a>UCTranNet</h3><p><a href="https://github.com/McGregorWwww/UCTransNet/blob/main/nets/UCTransNet.py">UCTransNet&#x2F;UCTransNet.py at main Â· McGregorWwww&#x2F;UCTransNet (github.com)</a></p><h3 id="CrossFormer"><a href="#CrossFormer" class="headerlink" title="CrossFormer"></a>CrossFormer</h3><p><a href="https://github.com/lucidrains/vit-pytorch/blob/main/vit_pytorch/crossformer.py">vit-pytorch&#x2F;crossformer.py at main Â· lucidrains&#x2F;vit-pytorch (github.com)</a></p>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ISICDM_2020æŒ‘æˆ˜èµ›â€”â€”è‚ºéƒ¨ç»„ç»‡åˆ†å‰²</title>
      <link href="/2022/07/05/017-ISICDM2020/"/>
      <url>/2022/07/05/017-ISICDM2020/</url>
      
        <content type="html"><![CDATA[<p>è®°å½•ä¸€ä¸‹æ²ˆé˜³çš„ç¬¬å››å±Šå›¾åƒè®¡ç®—ä¸æ•°å­—åŒ»å­¦å›½é™…ç ”è®¨ä¼š(The 4th International Symposium on Image Computing and Digital Medicine, ISICDM)æŒ‘æˆ˜èµ›çš„ç«èµ›è¿‡ç¨‹ã€‚ä¸å¾—ä¸åæ§½ä¸€ä¸‹æ•´ä¸ªè¿‡ç¨‹é¡¹ç›®ä¸‰çš„ä¸»åŠæ–¹çš„å„ç§å»¶è¯¯å’Œä½çº§é”™è¯¯ï¼Œæ¯”å¦‚æ ‡ç­¾ç»™çš„JPGæ ¼å¼ï¼Œæ§½ç‚¹å¤ªå¤šï¼Œåæ§½ä¸è¿‡æ¥ã€‚<br>æŒ‘æˆ˜èµ›å®˜æ–¹ç½‘å€ï¼š<a href="http://isicdm2020.imagecomputing.org/cn/Challenges.html">http://isicdm2020.imagecomputing.org/cn/Challenges.html</a></p><hr><h1 id="ä¸€ã€ç«èµ›èƒŒæ™¯"><a href="#ä¸€ã€ç«èµ›èƒŒæ™¯" class="headerlink" title="ä¸€ã€ç«èµ›èƒŒæ™¯"></a>ä¸€ã€ç«èµ›èƒŒæ™¯</h1><ul><li>æˆ‘å›½åœ¨å·¥ä¸šåŒ–å‘å±•è¿‡ç¨‹ä¸­ï¼Œç”±äºé«˜åº¦çš„ç©ºæ°”æ±¡æŸ“ã€é«˜å¸çƒŸç‡å’Œè¾ƒå·®çš„ç”Ÿäº§ä¿æŠ¤æ¡ä»¶ï¼Œå¯¼è‡´è‚ºç™Œã€æ…¢é˜»è‚ºç­‰è‚ºéƒ¨ç–¾ç—…çš„å‘ç—…ç‡ä¸€ç›´ç»´æŒåœ¨è¾ƒé«˜æ°´å¹³ï¼Œå¹¶å‘ˆåŠ å‰§è¶‹åŠ¿ã€‚å¦å¤–ï¼ŒSARSã€ COVID-19ç­‰å† çŠ¶ç—…æ¯’è‚ºç‚ä¼ æŸ“é€Ÿåº¦å¿«ï¼Œå·²è¢«åˆ—ä¸ºå¨èƒå…¨çƒå…¬ä¼—å¥åº·çš„é‡å¤§ä¼ æŸ“æ€§ç–¾ç—…ã€‚è‚ºéƒ¨ç–¾ç—…å·²ç»æˆä¸ºå±å®³äººæ°‘å¥åº·ã€ç¤¾ä¼šåŠç»æµå¯æŒç»­å‘å±•çš„ä¸¥é‡å…¬å…±å«ç”Ÿé—®é¢˜å’Œç¤¾ä¼šé—®é¢˜ã€‚ å½“å‰åŒ»å­¦å½±åƒå·²ç»æˆä¸ºè‚ºéƒ¨ç–¾ç—…ä¸´åºŠæ£€æµ‹å’Œè¯Šæ–­ã€æ²»ç–—æ–¹æ¡ˆè§„åˆ’å’Œæœ¯åè¯„ä¼°ç­‰å„ä¸ªç¯èŠ‚çš„é‡è¦ä¾æ®ã€‚è¿‘å¹´æ¥ï¼Œå›½å†…å¤–ç ”ç©¶è€…åœ¨è‚ºéƒ¨å½±åƒæ™ºèƒ½è¾…åŠ©è¯Šç–—æŠ€æœ¯æ–¹é¢å·²å–å¾—æ˜¾è‘—ç ”ç©¶è¿›å±•ï¼Œåœ¨è‚ºéƒ¨ç–¾ç—…çš„æ—©æœŸè¯Šæ–­ã€ç²¾å‡†æ²»ç–—ç­‰æ–¹é¢å¼€å§‹å‘æŒ¥é‡è¦ä½œç”¨ã€‚ä¼ ç»Ÿé‡‡ç”¨æ£€æµ‹å›¾åƒä¸­ç—…å˜ç‰¹å¾åŒºåŸŸçš„å¼‚å¸¸ä¾èµ–æ–¹æ¡ˆï¼Œå¯¹äºæ­£å¸¸ç»„ç»‡çš„å…³æ³¨åº¦è¾ƒä½ï¼Œä¸ç¬¦åˆä¸“ä¸šåŒ»å¸ˆçš„å·¥ä½œæ€è·¯ï¼Œåœ¨ä¸´åºŠåº”ç”¨ä¸­å…·æœ‰å±€é™æ€§ã€‚ç”±äºè‚ºéƒ¨ç»“æ„å¤æ‚ã€ç›¸é‚»ç»„ç»‡åŒºåˆ†åº¦ä½ã€ç»“æ„è¾¹ç•Œä¸æ¸…æ™°ã€åŒºåŸŸå¯†åº¦ä¸å‡åŒ€å’Œå½¢çŠ¶ä¸è§„åˆ™ï¼Œå¦‚ä½•å®ç°<strong>è‚ºéƒ¨å¤šå±‚æ¬¡ç»„ç»‡ç»“æ„çš„ç²¾å‡†æå–å’Œå®šé‡è¯„ä¼°</strong>ï¼Œå·²æˆä¸ºè‚ºéƒ¨å½±åƒæ™ºèƒ½åŒ–ã€å®šé‡åŒ–ã€ç²¾å‡†åŒ–ä¸´åºŠåº”ç”¨éœ€æ±‚çš„éš¾é¢˜å’Œå…±æ€§é—®é¢˜ã€‚</li></ul><h1 id="äºŒã€æ•°æ®è¯´æ˜"><a href="#äºŒã€æ•°æ®è¯´æ˜" class="headerlink" title="äºŒã€æ•°æ®è¯´æ˜"></a>äºŒã€æ•°æ®è¯´æ˜</h1><ul><li><strong>æœ¬æ•°æ®é›†åŒ…å«è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸¤éƒ¨åˆ†ã€‚è®­ç»ƒé›†åŒ…å«10ä¾‹èƒ¸éƒ¨CTå¹³æ‰«å½±åƒå’Œ10ä¾‹CTAå¢å¼ºå½±åƒï¼ˆæ³¨å°„è¡€ç®¡é€ å½±å‰‚ï¼Œç°åº¦å€¼å¢å¼ºï¼‰ï¼Œå±‚åšå°äº 2.0mmï¼Œåˆ†è¾¨ç‡512*512ï¼ŒDICOMæ ¼å¼ï¼ŒåŒ…æ‹¬è‚ºå®è´¨ã€æ”¯æ°”ç®¡ã€è‚ºéƒ¨è¡€ç®¡ç­‰ç»„ç»‡çš„æ ‡æ³¨ç»“æ„ã€‚æµ‹è¯•é›†å°†åˆ†åˆ«ç”±5ä¾‹èƒ¸éƒ¨CTå½±åƒã€5ä¾‹CTAå½±åƒç»„æˆã€‚</strong></li><li>æœ¬æ•°æ®é›†ç”±ç«èµ›å‚åŠ äººå¡«å†™ç”³è¯·è¡¨åï¼Œæä¾›ä¸‹è½½é“¾æ¥ï¼Œæœ¬æ•°æ®é›†ä»…é™äºåšæœ¬æ¬¡ç«èµ›å’Œç§‘ç ”ä½¿ç”¨ï¼Œä¸å¾—ç”¨äºä»»ä½•å•†ä¸šç”¨é€”ã€‚</li></ul><h1 id="ä¸‰ã€è¯„ä»·è¯´æ˜"><a href="#ä¸‰ã€è¯„ä»·è¯´æ˜" class="headerlink" title="ä¸‰ã€è¯„ä»·è¯´æ˜"></a>ä¸‰ã€è¯„ä»·è¯´æ˜</h1><ul><li>è¯„ä»·é‡‡ç”¨æµ‹è¯•é›†æœºå™¨è¯„ä»·ä¸åŒ»ç”Ÿä¸»è§‚è¯„ä»·ç›¸ç»“åˆçš„æ–¹å¼ï¼ŒæŒ‰ç…§å¾—åˆ†é¡ºåºè¿›è¡Œæ’åã€‚</li></ul><hr><h1 id="å››ã€æ•°æ®å¤„ç†"><a href="#å››ã€æ•°æ®å¤„ç†" class="headerlink" title="å››ã€æ•°æ®å¤„ç†"></a>å››ã€æ•°æ®å¤„ç†</h1><h2 id="One-Hotç¼–ç "><a href="#One-Hotç¼–ç " class="headerlink" title="One-Hotç¼–ç "></a>One-Hotç¼–ç </h2><ul><li>åœ¨å›¾åƒåˆ†å‰²ä¸­ï¼Œlableä¹Ÿæ˜¯å›¾ç‰‡ï¼Œè¿›è¡Œè®­ç»ƒæ—¶ï¼Œéœ€è¦å°†lable imageè½¬æ¢æˆone hotç¼–ç çš„å½¢å¼ã€‚æœ¬æ–‡ä»…ä½¿ç”¨np.equalï¼Œnp.allï¼Œnp.stackï¼Œä¸‰ä¸ªæ“ä½œå®ç°one hotç¼–ç ã€‚å…¶ä¸­labelä¸ºgt image, label_valuesä¸ºclass RGB Values listã€‚</li><li>np.equalå®ç°æŠŠlabel imageæ¯ä¸ªåƒç´ çš„RGBå€¼ä¸æŸä¸ªclassçš„RGBå€¼è¿›è¡Œæ¯”å¯¹ï¼Œå˜æˆRGB boolå€¼ã€‚</li><li>np.all æŠŠRGB boolå€¼ï¼Œå˜æˆä¸€ä¸ªboolå€¼ï¼Œå³å®ç°æŸä¸ªclass çš„label maskã€‚ä½¿ç”¨forå¾ªç¯ï¼Œç”Ÿæˆæ‰€æœ‰classçš„label maskã€‚</li><li>np.stackå®ç°æ‰€æœ‰classçš„label maskçš„å †å ã€‚æœ€ç»ˆdepth size ä¸ºnum_classesçš„æ•°é‡ã€‚</li></ul><h2 id="å¤„ç†æµç¨‹"><a href="#å¤„ç†æµç¨‹" class="headerlink" title="å¤„ç†æµç¨‹"></a>å¤„ç†æµç¨‹</h2><ul><li>æœ¬æ¬¡æ¯”èµ›çš„æ•°æ®å¤„ç†å’Œè®­ç»ƒçš„Pipelineå¦‚ä¸‹å›¾ã€‚<br><img src="https://i.loli.net/2021/07/05/Pc5JtLSfEuWZOYk.png" alt="Pipeline"></li></ul><h1 id="äº”ã€æ¨¡å‹é€‰æ‹©"><a href="#äº”ã€æ¨¡å‹é€‰æ‹©" class="headerlink" title="äº”ã€æ¨¡å‹é€‰æ‹©"></a>äº”ã€æ¨¡å‹é€‰æ‹©</h1><ul><li><p>æœ¬æ¬¡æ¯”èµ›éƒ½é€‰æ‹©ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼ˆGANï¼‰ä½œä¸ºBackboneï¼Œå†åœ¨ç”Ÿæˆå™¨éƒ¨åˆ†åšå¤§é‡å°è¯•ï¼Œå°†UNetç­‰åˆ†å‰²ç½‘ç»œä½œä¸ºç”Ÿæˆå™¨ï¼Œå†åœ¨ç”Ÿæˆå™¨çš„è¾“å‡ºå¤„è¿›è¡Œæ·±åº¦ç›‘ç£ï¼ˆåƒç´ çº§ï¼‰ã€‚<br><img src="https://i.loli.net/2021/07/05/vMwKE34APSe8TUa.png" alt="è‚ºå®è´¨åˆ†å‰²ç½‘ç»œ"><br><img src="https://i.loli.net/2021/07/05/ezMwF5oB6QyXUlj.png" alt="è‚ºæ°”ç®¡åˆ†å‰²ç½‘ç»œ"><br><img src="https://i.loli.net/2021/07/05/LPioqldhRFGxE7u.png" alt="è‚ºè¡€ç®¡åˆ†å‰²ç½‘ç»œ"></p></li><li><p>ç”Ÿæˆå™¨éƒ¨åˆ†çš„å°è¯•åŒ…æ‹¬ï¼š<br>ï¼ˆ1ï¼‰U-Net<br>ï¼ˆ2ï¼‰Two Stageï¼ˆæ¨¡å‹æ¡†æ¶æºè‡ªäºHMOENetï¼‰<br>ï¼ˆ3ï¼‰U-Net with Inception Module</p></li><li><p>æ¨¡å‹ç»†èŠ‚è®¾è®¡<br>ç”Ÿæˆå™¨å’Œåˆ¤åˆ«å™¨è¾“å‡ºéƒ½ä¸éœ€è¦Sigmoidï¼Œä¼šåœ¨è®­ç»ƒä¸­å¤„ç†<br>é™„Codes: <a href="https://github.com/SvyJ/svyj.github.io/blob/master/codes/ISICDM">https://github.com/SvyJ/svyj.github.io/blob/master/codes/ISICDM</a></p></li></ul><h1 id="å…­ã€è®­ç»ƒç»†èŠ‚"><a href="#å…­ã€è®­ç»ƒç»†èŠ‚" class="headerlink" title="å…­ã€è®­ç»ƒç»†èŠ‚"></a>å…­ã€è®­ç»ƒç»†èŠ‚</h1><ul><li>æ¨¡å‹è®­ç»ƒç»†èŠ‚</li></ul><p>ï¼ˆ1ï¼‰å›ºå®šåˆ¤åˆ«å™¨ï¼Œè®­ç»ƒç”Ÿæˆå™¨<br>ï¼ˆ2ï¼‰å›ºå®šç”Ÿæˆå™¨ï¼Œè®­ç»ƒåˆ¤åˆ«å™¨</p><ul><li>æŸå¤±å‡½æ•°ç»†èŠ‚</li></ul><p>ï¼ˆ1ï¼‰ç”Ÿæˆå™¨G_Lossï¼šç”±ä¸‰éƒ¨åˆ†ç»„æˆï¼Œåƒç´ ç‚¹æŸå¤±BCELossï¼ŒDiceLosså’Œä¸€è‡´æ€§æŸå¤±ConsistencyLossï¼ˆæ¥è‡ªåˆ¤åˆ«å™¨ï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">G_Loss = <span class="hljs-number">0.5</span>\*(loss_ce + loss_dice) + consisitency_loss\*consistency_weight<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åˆ¤åˆ«å™¨D_Lossï¼šç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œreal &amp; fake</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">GANï¼šD_loss = D_loss_real + D_loss_fake<br>WGANï¼šD_loss = torch.<span class="hljs-built_in">abs</span>(D_outputs_fake.mean() - D_outputs_real.mean())<br></code></pre></td></tr></table></figure><ul><li>å‚æ•°æ§åˆ¶ç»†èŠ‚</li></ul><p>ï¼ˆ1ï¼‰å­¦ä¹ ç‡ï¼šæ ¹æ®è¯„ä»·æŒ‡æ ‡é™ä½å­¦ä¹ ç‡ï¼ŒæŒ‡æ ‡åœ¨patienceä¸ªbatchåä¸å˜åŒ–åˆ™é™ä½factoræ¯”ä¾‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">scheduler_d = torch.optim.lr_scheduler.ReduceLROnPlateau(D_optimizer, mode=<span class="hljs-string">&#x27;max&#x27;</span>, factor=<span class="hljs-number">0.5</span>, patience=<span class="hljs-number">10</span>)<br>scheduler_g = torch.optim.lr_scheduler.ReduceLROnPlateau(G_optimizer, mode=<span class="hljs-string">&#x27;max&#x27;</span>, factor=<span class="hljs-number">0.5</span>, patience=<span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰æƒé‡ï¼šæ§åˆ¶æƒé‡åœ¨clamp_lower&#x3D;-0.01å’Œclamp_upper&#x3D;0.01ä¹‹é—´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> D.parameters():<br>p.data.clamp_(clamp_lower, clamp_upper)<br></code></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰æ¢¯åº¦ï¼šé˜²æ­¢æ¢¯åº¦çˆ†ç‚¸</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">nn.utils.clip_grad_value_(D.parameters(), <span class="hljs-number">0.1</span>)<br></code></pre></td></tr></table></figure><ul><li>é™„Codesï¼ˆè®­ç»ƒç»†èŠ‚åœ¨train_WGAN_airwayï¼‰: <a href="https://github.com/SvyJ/svyj.github.io/tree/master/codes/ISICDM2020">https://github.com/SvyJ/svyj.github.io/tree/master/codes/ISICDM2020</a></li></ul><h1 id="ä¸ƒã€å®éªŒç»“æœ"><a href="#ä¸ƒã€å®éªŒç»“æœ" class="headerlink" title="ä¸ƒã€å®éªŒç»“æœ"></a>ä¸ƒã€å®éªŒç»“æœ</h1><ul><li>æ¶¨ç»éªŒå»äº†ï¼Œè¯·å¿½ç•¥æœ¬èœé¸¡ä»¬çš„æˆç»©ï¼ˆTeam49ï¼‰<br><img src="https://i.loli.net/2021/07/05/QHKd9AmW2tprTgE.png" alt="çƒ­èº«èµ›æˆç»©æ’å"><br><img src="https://i.loli.net/2021/07/05/oAT5f7pGV418zMg.png" alt="æ’ä½èµ›æˆç»©æ’å"><br><img src="https://i.loli.net/2021/07/05/TrusH84xWmtjPqw.png" alt="å†³èµ›æˆç»©æ’å"></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•è¯„ä¼°ä½ çš„ç½‘ç»œæ¨¡å‹ï¼Ÿ</title>
      <link href="/2022/07/05/008-DL_Models_Metrics/"/>
      <url>/2022/07/05/008-DL_Models_Metrics/</url>
      
        <content type="html"><![CDATA[<h1 id="äºŒåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡"><a href="#äºŒåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡" class="headerlink" title="äºŒåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡"></a><strong>äºŒåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡</strong></h1><ul><li>Acc, F1, ROC, AUC</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Metrics</span>(<span class="hljs-params">output, labels</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    output: &lt;list&gt;</span><br><span class="hljs-string">    labels: &lt;list&gt;</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    test_correct = <span class="hljs-number">0</span><br>    test_total = <span class="hljs-number">0</span><br>    predicts = []<br>    prob = []<br>    tp, tn, fp, fn = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><br>    <span class="hljs-keyword">for</span> outputs <span class="hljs-keyword">in</span> output:<br>        index, predicted = torch.<span class="hljs-built_in">max</span>(outputs.data, <span class="hljs-number">1</span>)<br>        predicts.append([outputs.data, predicted, labels])<br>        test_total += labels.size(<span class="hljs-number">0</span>)<br>        test_correct += (predicted == labels.data).<span class="hljs-built_in">sum</span>()<br><br>        <span class="hljs-comment"># calc F1-score</span><br>        <br>        f1_predicts = predicted.cpu().numpy().tolist()<br>        f1_label = labels.data.cpu().numpy().tolist()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(f1_label)):<br>            <span class="hljs-keyword">if</span> f1_predicts[i] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> f1_label[i] == <span class="hljs-number">1</span>:<br>                tp += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> f1_predicts[i] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> f1_label[i] == <span class="hljs-number">0</span>:<br>                fp += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> f1_predicts[i] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> f1_label[i] == <span class="hljs-number">1</span>:<br>                fn += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> f1_predicts[i] == <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> f1_label[i] == <span class="hljs-number">0</span>:<br>                tn += <span class="hljs-number">1</span><br><br>        <span class="hljs-comment"># calc softmax probability</span><br>        outputs = outputs.data.cpu().numpy()<br>        probability = np.exp(outputs)/np.mat(np.<span class="hljs-built_in">sum</span>(np.exp(outputs), axis=<span class="hljs-number">1</span>)).T<br>        prob = probability[:,<span class="hljs-number">1</span>].T.tolist()[<span class="hljs-number">0</span>]  <br>        <span class="hljs-keyword">for</span> p, label <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>(prob, labels.data.cpu().numpy().tolist()):<br>            prob.append([p, label])<br><br>    F1_Score = <span class="hljs-number">2</span>*tp/(<span class="hljs-number">2</span>*tp+fp+fn)<br>    test_acc = test_correct.item()/test_total <br><br>    <span class="hljs-keyword">return</span> prob, test_acc, F1_Score<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">drawROC</span>(<span class="hljs-params">prob</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    prob: &lt;list&gt;: [probability of positive, true label]</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br><br>    neg = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(prob)):<br>        <span class="hljs-keyword">if</span> prob[i][<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>:<br>            neg += <span class="hljs-number">1</span><br>    pos = <span class="hljs-built_in">len</span>(prob) - neg<br><br>    x = []<br>    y = []<br>    sample_sort = <span class="hljs-built_in">sorted</span>(prob, key=<span class="hljs-keyword">lambda</span> x:x[<span class="hljs-number">0</span>], reverse=<span class="hljs-literal">False</span>)<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(sample_sort)):<br>        tp = <span class="hljs-number">0</span><br>        fp = <span class="hljs-number">0</span><br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i, <span class="hljs-built_in">len</span>(sample_sort)):<br>            <span class="hljs-keyword">if</span> sample_sort[j][<span class="hljs-number">1</span>] == <span class="hljs-number">1</span>:  <span class="hljs-comment"># true positive</span><br>                tp += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> sample_sort[j][<span class="hljs-number">1</span>] == <span class="hljs-number">0</span>:  <span class="hljs-comment"># false positive</span><br>                fp += <span class="hljs-number">1</span><br>        x.append(fp/neg)<br>        y.append(tp/pos)<br>    x.append(<span class="hljs-number">0</span>)<br>    y.append(<span class="hljs-number">0</span>)<br><br>    auc = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(x)-<span class="hljs-number">1</span>):<br>        auc += ((x[i]-x[i+<span class="hljs-number">1</span>]) * (y[i]+y[i+<span class="hljs-number">1</span>]))<br><br>    <span class="hljs-comment"># ROC curve</span><br>    plt.clf()<br>    plt.title(<span class="hljs-string">&#x27;Small_Intestine_Classifier_ROC&#x27;</span>)<br>    plt.plot(x, y, <span class="hljs-string">&#x27;b&#x27;</span>, label=<span class="hljs-string">&#x27;AUC = %.3f ACC = %.3f&#x27;</span> % (auc*<span class="hljs-number">0.5</span>))<br>    plt.xlabel(<span class="hljs-string">&#x27;FPR&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;TPR&#x27;</span>)<br>    plt.legend(loc=<span class="hljs-string">&#x27;lower right&#x27;</span>)<br>    plt.plot([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], <span class="hljs-string">&#x27;r--&#x27;</span>)<br>    plt.savefig(<span class="hljs-string">&quot;./temp/Small_Intestine_Classifier_ROC_AUC=%.3f_EfficientNet.jpg&quot;</span> % (auc*<span class="hljs-number">0.5</span>))<br><br>    <span class="hljs-keyword">return</span> auc*<span class="hljs-number">0.5</span><br></code></pre></td></tr></table></figure><h1 id="å¤šåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡-ä»¥å››åˆ†ç±»ä¸ºä¾‹"><a href="#å¤šåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡-ä»¥å››åˆ†ç±»ä¸ºä¾‹" class="headerlink" title="å¤šåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡(ä»¥å››åˆ†ç±»ä¸ºä¾‹)"></a><strong>å¤šåˆ†ç±»ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡(ä»¥å››åˆ†ç±»ä¸ºä¾‹)</strong></h1><ul><li>Acc, macro_F1, micro_F1</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Metrics</span>(<span class="hljs-params">output, labels</span>):<br>    <span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">    output: &lt;list&gt;</span><br><span class="hljs-string">    labels: &lt;list&gt;</span><br><span class="hljs-string">    &#x27;&#x27;&#x27;</span><br>    test_correct = <span class="hljs-number">0</span><br>    test_total = <span class="hljs-number">0</span><br>    Confusion_Matrix = np.zeros((<span class="hljs-number">4</span>, <span class="hljs-number">4</span>))<br><br>    <span class="hljs-comment"># traverse output</span><br>    <span class="hljs-keyword">for</span> outputs <span class="hljs-keyword">in</span> output:<br>        index, predicted = torch.<span class="hljs-built_in">max</span>(outputs.data, <span class="hljs-number">1</span>)<br>        test_total += labels.size(<span class="hljs-number">0</span>)<br>        test_correct += (predicted == labels.data).<span class="hljs-built_in">sum</span>()<br><br>        <span class="hljs-comment"># calc Confusion Matrix</span><br>        f1_predicts = predicted.cpu().numpy().tolist()<br>        f1_label = labels.data.cpu().numpy().tolist()<br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(f1_label)):<br>            Confusion_Matrix[f1_predicts[i]][f1_label[i]] += <span class="hljs-number">1</span><br><br>    <span class="hljs-comment"># print(&quot;Confusion_Matrix: \n&quot;, Confusion_Matrix)    </span><br><br>    <span class="hljs-comment"># calc F1-Score</span><br>    TP, FP, TN, FN, P, R = [], [], [], [], [], []<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">4</span>):<br>        <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(i+<span class="hljs-number">1</span>, <span class="hljs-number">4</span>):<br>            tp = Confusion_Matrix[i][i]<br>            tn = Confusion_Matrix[j][j]<br>            fp = Confusion_Matrix[j][i]<br>            fn = Confusion_Matrix[i][j]<br>        TP.append(tp)<br>        FP.append(fp)<br>        TN.append(tn)<br>        FN.append(fn)<br>        P.append(tp/(tp+fp))<br>        R.append(tp/(tp+fn))<br>    macro_P = np.mean(P)<br>    macro_R = np.mean(R)<br>    _TP = np.mean(TP)<br>    _FP = np.mean(FP)<br>    _TN = np.mean(TN)<br>    _FN = np.mean(FN)<br>    micro_P = _TP/(_TP+_FP)<br>    micro_R = _TP/(_TP+_FN)<br><br>    macro_F1 = (<span class="hljs-number">2</span>*macro_P*macro_R)/(macro_P+macro_R)<br>    micro_F1 = (<span class="hljs-number">2</span>*micro_P*micro_R)/(micro_P+micro_R)<br>    test_acc = test_correct.item()/test_total<br><br>    <span class="hljs-keyword">return</span> test_acc, macro_F1, micro_F1<br></code></pre></td></tr></table></figure><h1 id="åˆ†å‰²ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡"><a href="#åˆ†å‰²ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡" class="headerlink" title="åˆ†å‰²ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡"></a><strong>åˆ†å‰²ç½‘ç»œçš„è¯„ä»·æŒ‡æ ‡</strong></h1><ul><li>Pixel_Acc, Dice, Jac, IoU, Spe, Sen, Pre</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">Metrics</span>(<span class="hljs-params">output, mask</span>):<br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br><span class="hljs-string">output: model outputs, size=[Batch_Size, Channels, Height, Width]</span><br><span class="hljs-string">mask:   Ground Truth</span><br><span class="hljs-string">&#x27;&#x27;&#x27;</span><br>tp, fp, tn, fn = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span><br><br><span class="hljs-comment"># output binarization</span><br>output[output&gt;=<span class="hljs-number">0.5</span>] = <span class="hljs-number">1</span><br>    output[output&lt;<span class="hljs-number">0.5</span>]  = <span class="hljs-number">0</span><br>    output = output.cpu().detach().numpy().flatten().flatten()<br>    img_mask = img_mask.cpu().numpy().flatten()<br><br>    <span class="hljs-comment"># nums for metrics</span><br>    test_pixel_correct = <span class="hljs-built_in">len</span>(np.argwhere(output == img_mask))<br>    test_pixel_total   = output.size<br>    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(output.size):<br>        <span class="hljs-keyword">if</span> output[i] == <span class="hljs-number">1</span>:<br>            <span class="hljs-keyword">if</span> img_mask[i]==<span class="hljs-number">1</span>: tp += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>: fp += <span class="hljs-number">1</span><br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> img_mask[i]==<span class="hljs-number">0</span>: tn += <span class="hljs-number">1</span><br>            <span class="hljs-keyword">else</span>: fn += <span class="hljs-number">1</span><br>    overlap = np.<span class="hljs-built_in">sum</span>(output * img_mask)<br> <br>    <span class="hljs-comment"># Pixel Accuracy</span><br>    test_pixel_acc = test_pixel_correct/test_pixel_total<br>    <span class="hljs-comment"># Dice </span><br>    dice = np.clip(((<span class="hljs-number">2.</span> * overlap) / (np.<span class="hljs-built_in">sum</span>(img_mask) + np.<span class="hljs-built_in">sum</span>(output) + <span class="hljs-number">1</span>)), <span class="hljs-number">1e-4</span>, <span class="hljs-number">0.9999</span>)<br>    <span class="hljs-comment"># Jaccard Index</span><br>    jac  = overlap/(np.<span class="hljs-built_in">sum</span>(img_mask) + np.<span class="hljs-built_in">sum</span>(output)-overlap)<br>    <span class="hljs-comment"># Intersection over Union</span><br>    IoU = dice/(<span class="hljs-number">2</span>-dice)<br>    <span class="hljs-comment"># specificity</span><br>    Spe = tn/(tn+fp)<br>    <span class="hljs-comment"># sensitivity</span><br>    Sen = tp/(tp+fn)<br>    <span class="hljs-comment"># Precision</span><br>    Pre = tp/(tp+fp)<br><br>    <span class="hljs-keyword">return</span> test_pixel_acc, dice, jac, IoU, Spe, Sen, Pre<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> è¯„ä»·æŒ‡æ ‡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»å…¸åˆ†å‰²æ¨¡å‹çš„Pytorchå®ç°</title>
      <link href="/2022/07/05/007-DL_Models_Segmentation/"/>
      <url>/2022/07/05/007-DL_Models_Segmentation/</url>
      
        <content type="html"><![CDATA[<h2 id="FCN-32-x2F-16-x2F-8-x2F-1s-2014"><a href="#FCN-32-x2F-16-x2F-8-x2F-1s-2014" class="headerlink" title="FCN-32&#x2F;16&#x2F;8&#x2F;1s(2014)"></a><br>FCN-32&#x2F;16&#x2F;8&#x2F;1s(2014)</br></h2><h4 id="æ³¨-Backbone-VGG"><a href="#æ³¨-Backbone-VGG" class="headerlink" title="æ³¨.Backbone: VGG"></a>æ³¨.Backbone: VGG</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">from</span> torchvision <span class="hljs-keyword">import</span> models<br><span class="hljs-keyword">from</span> torchvision.models.vgg <span class="hljs-keyword">import</span> VGG<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FCN32s</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained_net, n_class=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.n_class = n_class<br>        self.pretrained_net = pretrained_net<br>        self.relu    = nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        self.deconv1 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn1     = nn.BatchNorm2d(<span class="hljs-number">512</span>)<br>        self.deconv2 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn2     = nn.BatchNorm2d(<span class="hljs-number">256</span>)<br>        self.deconv3 = nn.ConvTranspose2d(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn3     = nn.BatchNorm2d(<span class="hljs-number">128</span>)<br>        self.deconv4 = nn.ConvTranspose2d(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn4     = nn.BatchNorm2d(<span class="hljs-number">64</span>)<br>        self.deconv5 = nn.ConvTranspose2d(<span class="hljs-number">64</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn5     = nn.BatchNorm2d(<span class="hljs-number">32</span>)<br>        self.classifier = nn.Conv2d(<span class="hljs-number">32</span>, n_class, kernel_size=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        output = self.pretrained_net(x)<br>        x5 = output[<span class="hljs-string">&#x27;x5&#x27;</span>]<br><br>        score = self.bn1(self.relu(self.deconv1(x5)))     <br>        score = self.bn2(self.relu(self.deconv2(score)))  <br>        score = self.bn3(self.relu(self.deconv3(score)))  <br>        score = self.bn4(self.relu(self.deconv4(score)))  <br>        score = self.bn5(self.relu(self.deconv5(score)))  <br>        score = self.classifier(score)                    <br><br>        score = nn.Sigmoid()(score)<br>        <span class="hljs-keyword">return</span> score <br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FCN16s</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained_net, n_class=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.n_class = n_class<br>        self.pretrained_net = pretrained_net<br>        self.relu    = nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        self.deconv1 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn1     = nn.BatchNorm2d(<span class="hljs-number">512</span>)<br>        self.deconv2 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn2     = nn.BatchNorm2d(<span class="hljs-number">256</span>)<br>        self.deconv3 = nn.ConvTranspose2d(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn3     = nn.BatchNorm2d(<span class="hljs-number">128</span>)<br>        self.deconv4 = nn.ConvTranspose2d(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn4     = nn.BatchNorm2d(<span class="hljs-number">64</span>)<br>        self.deconv5 = nn.ConvTranspose2d(<span class="hljs-number">64</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn5     = nn.BatchNorm2d(<span class="hljs-number">32</span>)<br>        self.classifier = nn.Conv2d(<span class="hljs-number">32</span>, n_class, kernel_size=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        output = self.pretrained_net(x)<br>        x5 = output[<span class="hljs-string">&#x27;x5&#x27;</span>]  <br>        x4 = output[<span class="hljs-string">&#x27;x4&#x27;</span>]  <br><br>        score = self.relu(self.deconv1(x5))               <br>        score = self.bn1(score + x4)                      <br>        score = self.bn2(self.relu(self.deconv2(score)))  <br>        score = self.bn3(self.relu(self.deconv3(score)))  <br>        score = self.bn4(self.relu(self.deconv4(score)))  <br>        score = self.bn5(self.relu(self.deconv5(score)))  <br>        score = self.classifier(score)                   <br>        <br>        score = nn.Sigmoid()(score)<br>        <span class="hljs-keyword">return</span> score  <br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FCN8s</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained_net, n_class=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.n_class = n_class<br>        self.pretrained_net = pretrained_net<br>        self.relu    = nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        self.deconv1 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn1     = nn.BatchNorm2d(<span class="hljs-number">512</span>)<br>        self.deconv2 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn2     = nn.BatchNorm2d(<span class="hljs-number">256</span>)<br>        self.deconv3 = nn.ConvTranspose2d(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn3     = nn.BatchNorm2d(<span class="hljs-number">128</span>)<br>        self.deconv4 = nn.ConvTranspose2d(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn4     = nn.BatchNorm2d(<span class="hljs-number">64</span>)<br>        self.deconv5 = nn.ConvTranspose2d(<span class="hljs-number">64</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn5     = nn.BatchNorm2d(<span class="hljs-number">32</span>)<br>        self.classifier = nn.Conv2d(<span class="hljs-number">32</span>, n_class, kernel_size=<span class="hljs-number">1</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        output = self.pretrained_net(x)<br>        x5 = output[<span class="hljs-string">&#x27;x5&#x27;</span>]  <br>        x4 = output[<span class="hljs-string">&#x27;x4&#x27;</span>]  <br>        x3 = output[<span class="hljs-string">&#x27;x3&#x27;</span>]  <br><br>        score = self.relu(self.deconv1(x5))              <br>        score = self.bn1(score + x4)                      <br>        score = self.relu(self.deconv2(score))            <br>        score = self.bn2(score + x3)                      <br>        score = self.bn3(self.relu(self.deconv3(score)))  <br>        score = self.bn4(self.relu(self.deconv4(score)))  <br>        score = self.bn5(self.relu(self.deconv5(score)))  <br>        score = self.classifier(score)                    <br><br>        score = nn.Sigmoid()(score)<br>        <span class="hljs-keyword">return</span> score  <br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">FCNs</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained_net, n_class=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__()<br>        self.n_class = n_class<br>        self.pretrained_net = pretrained_net<br>        self.relu    = nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        self.deconv1 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn1     = nn.BatchNorm2d(<span class="hljs-number">512</span>)<br>        self.deconv2 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn2     = nn.BatchNorm2d(<span class="hljs-number">256</span>)<br>        self.deconv3 = nn.ConvTranspose2d(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn3     = nn.BatchNorm2d(<span class="hljs-number">128</span>)<br>        self.deconv4 = nn.ConvTranspose2d(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn4     = nn.BatchNorm2d(<span class="hljs-number">64</span>)<br>        self.deconv5 = nn.ConvTranspose2d(<span class="hljs-number">64</span>, <span class="hljs-number">32</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>, dilation=<span class="hljs-number">1</span>, output_padding=<span class="hljs-number">1</span>)<br>        self.bn5     = nn.BatchNorm2d(<span class="hljs-number">32</span>)<br>        self.classifier = nn.Conv2d(<span class="hljs-number">32</span>, n_class, kernel_size=<span class="hljs-number">1</span>) <br>        <span class="hljs-comment"># classifier is 1x1 conv, to reduce channels from 32 to n_class</span><br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        output = self.pretrained_net(x)<br>        x5 = output[<span class="hljs-string">&#x27;x5&#x27;</span>]  <br>        x4 = output[<span class="hljs-string">&#x27;x4&#x27;</span>]  <br>        x3 = output[<span class="hljs-string">&#x27;x3&#x27;</span>]  <br>        x2 = output[<span class="hljs-string">&#x27;x2&#x27;</span>]  <br>        x1 = output[<span class="hljs-string">&#x27;x1&#x27;</span>]  <br><br>        score = self.bn1(self.relu(self.deconv1(x5)))     <br>        score = score + x4                                <br>        score = self.bn2(self.relu(self.deconv2(score)))  <br>        score = score + x3                                <br>        score = self.bn3(self.relu(self.deconv3(score)))  <br>        score = score + x2                                <br>        score = self.bn4(self.relu(self.deconv4(score)))  <br>        score = score + x1                                <br>        score = self.bn5(self.relu(self.deconv5(score)))  <br>        score = self.classifier(score)                    <br><br>        score = nn.Sigmoid()(score)<br>        <span class="hljs-keyword">return</span> score  <br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">VGGNet</span>(<span class="hljs-title class_ inherited__">VGG</span>):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, pretrained=<span class="hljs-literal">True</span>, model=<span class="hljs-string">&#x27;vgg16&#x27;</span>, requires_grad=<span class="hljs-literal">True</span>, remove_fc=<span class="hljs-literal">True</span>, show_params=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-built_in">super</span>().__init__(make_layers(cfg[model]))<br>        self.ranges = ranges[model]<br><br>        <span class="hljs-keyword">if</span> pretrained:<br>            <span class="hljs-built_in">exec</span>(<span class="hljs-string">&quot;self.load_state_dict(models.%s(pretrained=True).state_dict())&quot;</span> % model)<br><br>        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> requires_grad:<br>            <span class="hljs-keyword">for</span> param <span class="hljs-keyword">in</span> <span class="hljs-built_in">super</span>().parameters():<br>                param.requires_grad = <span class="hljs-literal">False</span><br><br>        <span class="hljs-comment"># delete redundant fully-connected layers</span><br>        <span class="hljs-keyword">if</span> remove_fc:  <br>            <span class="hljs-keyword">del</span> self.classifier<br><br>        <span class="hljs-keyword">if</span> show_params:<br>            <span class="hljs-keyword">for</span> name, param <span class="hljs-keyword">in</span> self.named_parameters():<br>                <span class="hljs-built_in">print</span>(name, param.size())<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        output = &#123;&#125;<br>        <span class="hljs-comment"># get the output of each maxpooling layer (5 maxpool in VGG net)</span><br>        <span class="hljs-keyword">for</span> idx, (begin, end) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(self.ranges):<br>        <span class="hljs-comment">#self.ranges = ((0, 5), (5, 10), (10, 17), (17, 24), (24, 31)) (vgg16 examples)</span><br>            <span class="hljs-keyword">for</span> layer <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(begin, end):<br>                x = self.features[layer](x)<br>            output[<span class="hljs-string">&quot;x%d&quot;</span>%(idx+<span class="hljs-number">1</span>)] = x<br><br>        <span class="hljs-keyword">return</span> output<br><br><br>ranges = &#123;<br>    <span class="hljs-string">&#x27;vgg11&#x27;</span>: ((<span class="hljs-number">0</span>, <span class="hljs-number">3</span>), (<span class="hljs-number">3</span>, <span class="hljs-number">6</span>),  (<span class="hljs-number">6</span>, <span class="hljs-number">11</span>),  (<span class="hljs-number">11</span>, <span class="hljs-number">16</span>), (<span class="hljs-number">16</span>, <span class="hljs-number">21</span>)),<br>    <span class="hljs-string">&#x27;vgg13&#x27;</span>: ((<span class="hljs-number">0</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">10</span>), (<span class="hljs-number">10</span>, <span class="hljs-number">15</span>), (<span class="hljs-number">15</span>, <span class="hljs-number">20</span>), (<span class="hljs-number">20</span>, <span class="hljs-number">25</span>)),<br>    <span class="hljs-string">&#x27;vgg16&#x27;</span>: ((<span class="hljs-number">0</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">10</span>), (<span class="hljs-number">10</span>, <span class="hljs-number">17</span>), (<span class="hljs-number">17</span>, <span class="hljs-number">24</span>), (<span class="hljs-number">24</span>, <span class="hljs-number">31</span>)),<br>    <span class="hljs-string">&#x27;vgg19&#x27;</span>: ((<span class="hljs-number">0</span>, <span class="hljs-number">5</span>), (<span class="hljs-number">5</span>, <span class="hljs-number">10</span>), (<span class="hljs-number">10</span>, <span class="hljs-number">19</span>), (<span class="hljs-number">19</span>, <span class="hljs-number">28</span>), (<span class="hljs-number">28</span>, <span class="hljs-number">37</span>))<br>&#125;<br><br><span class="hljs-comment"># Vgg-Net config </span><br>cfg = &#123;<br>    <span class="hljs-string">&#x27;vgg11&#x27;</span>: [<span class="hljs-number">64</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">128</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>],<br>    <span class="hljs-string">&#x27;vgg13&#x27;</span>: [<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>],<br>    <span class="hljs-string">&#x27;vgg16&#x27;</span>: [<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>],<br>    <span class="hljs-string">&#x27;vgg19&#x27;</span>: [<span class="hljs-number">64</span>, <span class="hljs-number">64</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-string">&#x27;M&#x27;</span>],<br>&#125;<br><br><span class="hljs-comment"># make layers using Vgg-Net config(cfg)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_layers</span>(<span class="hljs-params">cfg, batch_norm=<span class="hljs-literal">False</span></span>):<br>    layers = []<br>    in_channels = <span class="hljs-number">3</span><br>    <span class="hljs-keyword">for</span> v <span class="hljs-keyword">in</span> cfg:<br>        <span class="hljs-keyword">if</span> v == <span class="hljs-string">&#x27;M&#x27;</span>:<br>            layers += [nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)]<br>        <span class="hljs-keyword">else</span>:<br>            conv2d = nn.Conv2d(in_channels, v, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">if</span> batch_norm:<br>                layers += [conv2d, nn.BatchNorm2d(v), nn.ReLU(inplace=<span class="hljs-literal">True</span>)]<br>            <span class="hljs-keyword">else</span>:<br>                layers += [conv2d, nn.ReLU(inplace=<span class="hljs-literal">True</span>)]<br>            in_channels = v<br>    <span class="hljs-keyword">return</span> nn.Sequential(*layers)<br></code></pre></td></tr></table></figure><h2 id="UNet-2015"><a href="#UNet-2015" class="headerlink" title="UNet(2015)"></a><br>UNet(2015)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch<br> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">DoubleConv</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, in_channels, out_channels</span>):<br>        <span class="hljs-built_in">super</span>(DoubleConv, self).__init__()<br>        self.conv = nn.Sequential(<br>                nn.Conv2d(in_channels, out_channels, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>), <br>                nn.BatchNorm2d(out_channels),<br>                nn.ReLU(inplace = <span class="hljs-literal">True</span>),<br>                nn.Conv2d(out_channels, out_channels, kernel_size=<span class="hljs-number">3</span>, padding=<span class="hljs-number">1</span>),<br>                nn.BatchNorm2d(out_channels),<br>                nn.ReLU(inplace = <span class="hljs-literal">True</span>)  <br>            )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> self.conv(x)<br> <br> <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">UNet</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-built_in">super</span>(UNet,self).__init__()<br>        <span class="hljs-comment"># Conv</span><br>        self.conv1 = DoubleConv(in_channels, <span class="hljs-number">64</span>)<br>        self.pool1 = nn.MaxPool2d(<span class="hljs-number">2</span>) <br><br>        self.conv2 = DoubleConv(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>)<br>        self.pool2 = nn.MaxPool2d(<span class="hljs-number">2</span>)<br><br>        self.conv3 = DoubleConv(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>)<br>        self.pool3 = nn.MaxPool2d(<span class="hljs-number">2</span>)<br><br>        self.conv4 = DoubleConv(<span class="hljs-number">256</span>, <span class="hljs-number">512</span>)<br>        self.pool4 = nn.MaxPool2d(<span class="hljs-number">2</span>)<br><br>        self.conv5 = DoubleConv(<span class="hljs-number">512</span>, <span class="hljs-number">1024</span>)<br><br>        <span class="hljs-comment"># DeConv</span><br>        self.up_conv6 = nn.ConvTranspose2d(<span class="hljs-number">1024</span>, <span class="hljs-number">512</span>, <span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        self.conv6 = DoubleConv(<span class="hljs-number">1024</span>, <span class="hljs-number">512</span>)<br><br>        self.up_conv7 = nn.ConvTranspose2d(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>, <span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        self.conv7 = DoubleConv(<span class="hljs-number">512</span>, <span class="hljs-number">256</span>)<br><br>        self.up_conv8 = nn.ConvTranspose2d(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, <span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        self.conv8 = DoubleConv(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>)<br><br>        self.up_conv9 = nn.ConvTranspose2d(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>, <span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        self.conv9 = DoubleConv(<span class="hljs-number">128</span>, <span class="hljs-number">64</span>)<br>        <br>        self.conv10 = nn.Conv2d(<span class="hljs-number">64</span>, out_channels, <span class="hljs-number">1</span>)<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self,x</span>):<br>        conv_out_1 = self.conv1(x)<br>        pool_out_1 = self.pool1(conv_out_1)<br>        conv_out_2 = self.conv2(pool_out_1)<br>        pool_out_2 = self.pool2(conv_out_2)<br>        conv_out_3 = self.conv3(pool_out_2)<br>        pool_out_3 = self.pool3(conv_out_3)<br>        conv_out_4 = self.conv4(pool_out_3)<br>        pool_out_4 = self.pool4(conv_out_4)<br>        conv_out_5 = self.conv5(pool_out_4)<br>        up_conv_out_6 = self.up_conv6(conv_out_5)<br>        concate_6 = torch.cat([up_conv_out_6, conv_out_4], dim=<span class="hljs-number">1</span>) <br><br>        conv_out_6 = self.conv6(concate_6)<br>        up_conv_out_7 = self.up_conv7(conv_out_6)<br>        concate_7 = torch.cat([up_conv_out_7, conv_out_3], dim=<span class="hljs-number">1</span>)<br><br>        conv_out_7 = self.conv7(concate_7)<br>        up_conv_out_8 = self.up_conv8(conv_out_7)<br>        concate_8 = torch.cat([up_conv_out_8, conv_out_2], dim=<span class="hljs-number">1</span>)<br><br>        conv_out_8 = self.conv8(concate_8)<br>        up_conv_out_9 = self.up_conv9(conv_out_8)<br>        concate_9 = torch.cat([up_conv_out_9, conv_out_1], dim=<span class="hljs-number">1</span>)<br><br>        conv_out_9 = self.conv9(concate_9)<br>        conv_out_10 = self.conv10(conv_out_9)<br>        out = nn.Sigmoid()(conv_out_10) <br>        <span class="hljs-keyword">return</span> out<br><br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Pytorch </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç»å…¸åˆ†ç±»æ¨¡å‹çš„Pytorchå®ç°</title>
      <link href="/2022/07/05/005-DL_Models_Classification/"/>
      <url>/2022/07/05/005-DL_Models_Classification/</url>
      
        <content type="html"><![CDATA[<p>ä»¥ä¸‹æ‰€æœ‰æ¨¡å‹è¾“å…¥ä¸º224*224çš„å›¾ç‰‡ï¼Œè¾“å‡ºå±‚ä¸º2ä¸ªç¥ç»å…ƒï¼ˆå³å¯å®ç°äºŒåˆ†ç±»é—®é¢˜, æ›´æ”¹è¾“å‡ºç¥ç»å…ƒä¸ªæ•°ä»¥å®ç°å¤šåˆ†ç±»ï¼‰</p><h2 id="LeNet-1998"><a href="#LeNet-1998" class="headerlink" title="LeNet(1998)"></a><br>LeNet(1998)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">LeNet</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(LeNet,self).__init__()<br>        self.conv1 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>),<br>            nn.ReLU(),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        )<br>        self.conv2 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">6</span>, <span class="hljs-number">16</span>, <span class="hljs-number">5</span>),                  <br>            nn.ReLU(),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        )<br>        self.conv3 = nn.Sequential(<br>            nn.Linear(<span class="hljs-number">16</span>*<span class="hljs-number">5</span>*<span class="hljs-number">5</span>, <span class="hljs-number">120</span>),<br>            nn.ReLU()<br>        )<br>        self.fc2 = nn.Sequential(<br>            nn.Linear(<span class="hljs-number">120</span>, <span class="hljs-number">84</span>),<br>            nn.ReLU()<br>        )<br>        self.fc3 = nn.Linear(<span class="hljs-number">84</span>, <span class="hljs-number">10</span>)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self,x</span>):<br>        x = self.conv1(x)<br>        x = self.conv2(x)<br> <br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        x = self.conv3(x)<br>        x = self.fc2(x)<br>        x = self.fc3(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="AlexNet-2012"><a href="#AlexNet-2012" class="headerlink" title="AlexNet(2012)"></a><br>AlexNet(2012)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">AlexNet</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(AlexNet, self).__init__()<br>        self.features = nn.Sequential(<br>            nn.Conv2d(in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">96</span>, kernel_size=<span class="hljs-number">11</span>, stride=<span class="hljs-number">4</span>, padding=<span class="hljs-number">3</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>),<br>            <br>            nn.Conv2d(in_channels=<span class="hljs-number">96</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">5</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">2</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>),<br>            <br>            nn.Conv2d(in_channels=<span class="hljs-number">256</span>, out_channels=<span class="hljs-number">384</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">384</span>, out_channels=<span class="hljs-number">384</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">384</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>)<br>        )<br><br>        self.classifier = nn.Sequential(<br>            nn.Dropout(),<br>            nn.Linear(<span class="hljs-number">256</span>*<span class="hljs-number">6</span>*<span class="hljs-number">6</span>, <span class="hljs-number">4096</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Dropout(),<br>            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">1024</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Linear(<span class="hljs-number">1024</span>, <span class="hljs-number">2</span>)<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>): <br>        <span class="hljs-comment"># print(x.size())</span><br>        x = self.features(x) <br>        <span class="hljs-comment"># print(x.size())</span><br>        x = x.view(x.size(<span class="hljs-number">0</span>), <span class="hljs-number">256</span>*<span class="hljs-number">6</span>*<span class="hljs-number">6</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="VGG-2014"><a href="#VGG-2014" class="headerlink" title="VGG(2014)"></a><br>VGG(2014)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">VGG16</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(VGG16, self).__init__()<br>        self.features = nn.Sequential(<br>            nn.Conv2d(in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">64</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">64</span>, out_channels=<span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">128</span>, out_channels=<span class="hljs-number">128</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">128</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">256</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">256</span>, out_channels=<span class="hljs-number">256</span>, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">256</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">512</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">512</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>),<br><br>            nn.Conv2d(in_channels=<span class="hljs-number">512</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">512</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">512</span>, out_channels=<span class="hljs-number">512</span>, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">2</span>, stride=<span class="hljs-number">2</span>)<br>        )<br>        self.classifier = nn.Sequential(<br>            nn.Dropout(),<br>            nn.Linear(<span class="hljs-number">512</span>*<span class="hljs-number">3</span>*<span class="hljs-number">3</span>, <span class="hljs-number">4096</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Dropout(),<br>            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">4096</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br><br>            nn.Linear(<span class="hljs-number">4096</span>, <span class="hljs-number">2</span>)<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>): <br>        <span class="hljs-comment"># print(x.size())</span><br>        x = self.features(x) <br>        <span class="hljs-comment"># print(x.size())</span><br>        x = x.view(x.size(<span class="hljs-number">0</span>), <span class="hljs-number">512</span>*<span class="hljs-number">3</span>*<span class="hljs-number">3</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="InceptionV1-2014"><a href="#InceptionV1-2014" class="headerlink" title="InceptionV1(2014)"></a><br>InceptionV1(2014)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InceptionModule</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, in_channels, out_channels_1, reduce_3, out_channels_3, reduce_5, out_channels_5, pool_proj</span>):<br>        <span class="hljs-built_in">super</span>(InceptionModule, self).__init__()<br>        self.branch_1 = nn.Sequential(<br>            nn.Conv2d(in_channels, out_channels_1, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(out_channels_1),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br>        self.branch_2 = nn.Sequential(<br>            nn.Conv2d(in_channels, reduce_3, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(reduce_3),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(reduce_3, out_channels_3, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(out_channels_3),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br>        self.branch_3 = nn.Sequential(<br>            nn.Conv2d(in_channels, reduce_5, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(reduce_5),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(reduce_5, out_channels_5, kernel_size=<span class="hljs-number">5</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">2</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(out_channels_5),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br>        self.branch_4 = nn.Sequential(<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>),<br>            nn.Conv2d(in_channels, pool_proj, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(pool_proj),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br>    <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-comment"># print(self.branch_1(x).shape, self.branch_2(x).shape, self.branch_3(x).shape, self.branch_4(x).shape)</span><br>        <span class="hljs-keyword">return</span> torch.cat([self.branch_1(x), self.branch_2(x), self.branch_3(x), self.branch_4(x)], dim=<span class="hljs-number">1</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InceptionV1</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num_classes=<span class="hljs-number">2</span></span>):<br>        <span class="hljs-built_in">super</span>(InceptionV1, self).__init__()<br>        self.stage1 = nn.Sequential(<br>            nn.Conv2d(in_channels=<span class="hljs-number">3</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">7</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">3</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>),<br>            nn.Conv2d(in_channels=<span class="hljs-number">64</span>, out_channels=<span class="hljs-number">64</span>, kernel_size=<span class="hljs-number">1</span>, stride=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>        )<br>        self.stage2 = nn.Sequential(<br>            nn.Conv2d(in_channels=<span class="hljs-number">64</span>, out_channels=<span class="hljs-number">192</span>, kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">1</span>, padding=<span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">192</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>)<br>        )<br>        self.stage3 = nn.Sequential(<br>            <span class="hljs-comment"># InceptionModule(in_channels, out_channels_1, reduce_3, out_channels_3, reduce_5, out_channels_5, pool_proj)</span><br>            InceptionModule(<span class="hljs-number">192</span>, <span class="hljs-number">64</span>, <span class="hljs-number">96</span>, <span class="hljs-number">128</span>, <span class="hljs-number">16</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>),<br>            InceptionModule(<span class="hljs-number">256</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-number">192</span>, <span class="hljs-number">32</span>, <span class="hljs-number">96</span>, <span class="hljs-number">64</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>)<br>        )<br>        self.stage4 = nn.Sequential(<br>            InceptionModule(<span class="hljs-number">480</span>, <span class="hljs-number">192</span>, <span class="hljs-number">96</span>, <span class="hljs-number">208</span>, <span class="hljs-number">16</span>, <span class="hljs-number">48</span>, <span class="hljs-number">64</span>),<br>            InceptionModule(<span class="hljs-number">512</span>, <span class="hljs-number">160</span>, <span class="hljs-number">112</span>, <span class="hljs-number">224</span>, <span class="hljs-number">24</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            InceptionModule(<span class="hljs-number">512</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">24</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            InceptionModule(<span class="hljs-number">512</span>, <span class="hljs-number">112</span>, <span class="hljs-number">144</span>, <span class="hljs-number">288</span>, <span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">64</span>),<br>            InceptionModule(<span class="hljs-number">528</span>, <span class="hljs-number">256</span>, <span class="hljs-number">160</span>, <span class="hljs-number">320</span>, <span class="hljs-number">32</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>),<br>            nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>)<br>        )<br>        self.stage5 = nn.Sequential(<br>            InceptionModule(<span class="hljs-number">832</span>, <span class="hljs-number">256</span>, <span class="hljs-number">160</span>, <span class="hljs-number">320</span>, <span class="hljs-number">32</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>),<br>            InceptionModule(<span class="hljs-number">832</span>, <span class="hljs-number">384</span>, <span class="hljs-number">192</span>, <span class="hljs-number">384</span>, <span class="hljs-number">48</span>, <span class="hljs-number">128</span>, <span class="hljs-number">128</span>),<br>        )<br>        self.avg_pool = nn.AvgPool2d(kernel_size=<span class="hljs-number">7</span>)<br>        self.classifier = nn.Sequential(<br>            nn.Dropout(<span class="hljs-number">0.4</span>),<br>            nn.Linear(<span class="hljs-number">1024</span>, num_classes)<br>        )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.stage1(x)<br>        x = self.stage2(x)<br>        x = self.stage3(x)<br>        x = self.stage4(x)<br>        x = self.stage5(x)<br>        x = self.avg_pool(x)<br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="ResNet-18-x2F-34-x2F-50-x2F-101-x2F-152-2015"><a href="#ResNet-18-x2F-34-x2F-50-x2F-101-x2F-152-2015" class="headerlink" title="ResNet-18&#x2F;34&#x2F;50&#x2F;101&#x2F;152(2015)"></a><br>ResNet-18&#x2F;34&#x2F;50&#x2F;101&#x2F;152(2015)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">from</span> torch <span class="hljs-keyword">import</span> nn<br><span class="hljs-keyword">from</span> torch.nn <span class="hljs-keyword">import</span> functional <span class="hljs-keyword">as</span> F<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResidualBlock</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inchannel, outchannel, stride=<span class="hljs-number">1</span>, shortcut=<span class="hljs-literal">None</span></span>):<br>        <span class="hljs-built_in">super</span>(ResidualBlock, self).__init__()<br><br>        <span class="hljs-comment"># left_2 for ResNet-18/34, left_3 for ResNet-50/101/152 </span><br>        self.left_2 = nn.Sequential(<br>            nn.Conv2d(inchannel, outchannel, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(outchannel, outchannel, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel)<br>        )<br>        self.left_3 = nn.Sequential(<br>            nn.Conv2d(inchannel, outchannel, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(outchannel, outchannel, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.Conv2d(outchannel, outchannel, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel)<br>        )<br>        self.right = shortcut<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        out = self.left_2(x)<br>        <span class="hljs-built_in">print</span>(out.shape)<br>        resisdual = x <span class="hljs-keyword">if</span> self.right <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span> <span class="hljs-keyword">else</span> self.right(x)<br>        out += resisdual<br>        <span class="hljs-keyword">return</span> F.relu(out)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ResNet34</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num_classes=<span class="hljs-number">2</span></span>):<br>        <span class="hljs-built_in">super</span>(ResNet34, self).__init__()<br>        self.layer1 = nn.Sequential(<br>            nn.Conv2d(<span class="hljs-number">3</span>, <span class="hljs-number">64</span>, <span class="hljs-number">7</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(<span class="hljs-number">64</span>),<br>            nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            nn.MaxPool2d(<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>)<br>        )<br>        <span class="hljs-comment"># ResNet-18: 2,2,2,2  ResNet-34:  3,4,6,3</span><br>        <span class="hljs-comment"># ResNet-50: 3,4,6,3  ResNet-101: 3,4,23,3  ResNet-152: 3,8,36,3</span><br>        self.layer2 = self._make_layer(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">3</span>)<br>        self.layer3 = self._make_layer(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">4</span>, stride=<span class="hljs-number">2</span>)<br>        self.layer4 = self._make_layer(<span class="hljs-number">256</span>, <span class="hljs-number">512</span>, <span class="hljs-number">6</span>, stride=<span class="hljs-number">2</span>)<br>        self.layer5 = self._make_layer(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>)<br>        self.avg_pool = nn.AvgPool2d(kernel_size=<span class="hljs-number">7</span>)<br>        self.classifier = nn.Linear(<span class="hljs-number">512</span>, num_classes)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_make_layer</span>(<span class="hljs-params">self, inchannel, outchannel, block_num, stride=<span class="hljs-number">1</span></span>):<br>        <span class="hljs-comment"># 1*1 Conv Projection</span><br>        shortcut = nn.Sequential(<br>            nn.Conv2d(inchannel, outchannel, <span class="hljs-number">1</span>, stride, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(outchannel)<br>        )<br><br>        layers = []<br>        layers.append(ResidualBlock(inchannel, outchannel, stride, shortcut))<br><br>        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">1</span>, block_num):<br>            layers.append(ResidualBlock(outchannel, outchannel))<br>        <span class="hljs-keyword">return</span> nn.Sequential(*layers)<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.layer1(x)<br>        x = self.layer2(x)<br>        x = self.layer3(x)<br>        x = self.layer4(x)<br>        x = self.layer5(x)<br>        x = self.avg_pool(x)<br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="MobileNetV1-2017"><a href="#MobileNetV1-2017" class="headerlink" title="MobileNetV1(2017)"></a><br>MobileNetV1(2017)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MobileNetV1</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-built_in">super</span>(MobileNetV1, self).__init__()<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_bn</span>(<span class="hljs-params">inp, oup, stride</span>):<br>            <span class="hljs-keyword">return</span> nn.Sequential(<br>                nn.Conv2d(inp, oup, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>            )<br>        <span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_dw</span>(<span class="hljs-params">inp, oup, stride</span>):<br>            <span class="hljs-keyword">return</span> nn.Sequential(<br>                nn.Conv2d(inp, inp, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=inp, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(inp),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>    <br>                nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            )<br>        self.model = nn.Sequential(<br>            conv_bn(<span class="hljs-number">3</span>, <span class="hljs-number">32</span>, <span class="hljs-number">2</span>),<br>            conv_dw(<span class="hljs-number">32</span>, <span class="hljs-number">64</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">64</span>, <span class="hljs-number">128</span>, <span class="hljs-number">2</span>),<br>            conv_dw(<span class="hljs-number">128</span>, <span class="hljs-number">128</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">128</span>, <span class="hljs-number">256</span>, <span class="hljs-number">2</span>),<br>            conv_dw(<span class="hljs-number">256</span>, <span class="hljs-number">256</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">256</span>, <span class="hljs-number">512</span>, <span class="hljs-number">2</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">512</span>, <span class="hljs-number">1</span>),<br>            conv_dw(<span class="hljs-number">512</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">2</span>),<br>            conv_dw(<span class="hljs-number">1024</span>, <span class="hljs-number">1024</span>, <span class="hljs-number">1</span>),<br>            nn.AvgPool2d(<span class="hljs-number">7</span>),<br>        )<br>        self.fc = nn.Linear(<span class="hljs-number">1024</span>, <span class="hljs-number">2</span>)<br> <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.model(x)<br>        x = x.view(-<span class="hljs-number">1</span>, <span class="hljs-number">1024</span>)<br>        x = self.fc(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure><h2 id="MobileNetV2-2018"><a href="#MobileNetV2-2018" class="headerlink" title="MobileNetV2(2018)"></a><br>MobileNetV2(2018)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> math<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_bn</span>(<span class="hljs-params">inp, oup, stride</span>):<br>    <span class="hljs-keyword">return</span> nn.Sequential(<br>        nn.Conv2d(inp, oup, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>        nn.BatchNorm2d(oup),<br>        nn.ReLU6(inplace=<span class="hljs-literal">True</span>)<br>    )<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_1x1_bn</span>(<span class="hljs-params">inp, oup</span>):<br>    <span class="hljs-keyword">return</span> nn.Sequential(<br>        nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>        nn.BatchNorm2d(oup),<br>        nn.ReLU6(inplace=<span class="hljs-literal">True</span>)<br>    )<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">make_divisible</span>(<span class="hljs-params">x, divisible_by=<span class="hljs-number">8</span></span>):<br>    <span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br>    <span class="hljs-keyword">return</span> <span class="hljs-built_in">int</span>(np.ceil(x * <span class="hljs-number">1.</span> / divisible_by) * divisible_by)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InvertedResidual</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inp, oup, stride, expand_ratio</span>):<br>        <span class="hljs-built_in">super</span>(InvertedResidual, self).__init__()<br>        self.stride = stride<br>        <span class="hljs-keyword">assert</span> stride <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<br><br>        hidden_dim = <span class="hljs-built_in">int</span>(inp * expand_ratio)<br>        self.use_res_connect = self.stride == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> inp == oup<br><br>        <span class="hljs-keyword">if</span> expand_ratio == <span class="hljs-number">1</span>:<br>            self.conv = nn.Sequential(<br>                <span class="hljs-comment"># dw</span><br>                nn.Conv2d(hidden_dim, hidden_dim, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=hidden_dim, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(hidden_dim),<br>                nn.ReLU6(inplace=<span class="hljs-literal">True</span>),<br>                <span class="hljs-comment"># pw-linear</span><br>                nn.Conv2d(hidden_dim, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup),<br>            )<br>        <span class="hljs-keyword">else</span>:<br>            self.conv = nn.Sequential(<br>                <span class="hljs-comment"># pw</span><br>                nn.Conv2d(inp, hidden_dim, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(hidden_dim),<br>                nn.ReLU6(inplace=<span class="hljs-literal">True</span>),<br>                <span class="hljs-comment"># dw</span><br>                nn.Conv2d(hidden_dim, hidden_dim, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=hidden_dim, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(hidden_dim),<br>                nn.ReLU6(inplace=<span class="hljs-literal">True</span>),<br>                <span class="hljs-comment"># pw-linear</span><br>                nn.Conv2d(hidden_dim, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup),<br>            )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">if</span> self.use_res_connect:<br>            <span class="hljs-keyword">return</span> x + self.conv(x)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> self.conv(x)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MobileNetV2</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n_class=<span class="hljs-number">2</span>, input_size=<span class="hljs-number">224</span>, width_mult=<span class="hljs-number">1.</span></span>):<br>        <span class="hljs-built_in">super</span>(MobileNetV2, self).__init__()<br>        block = InvertedResidual<br>        input_channel = <span class="hljs-number">32</span><br>        last_channel = <span class="hljs-number">1280</span><br>        interverted_residual_setting = [<br>            <span class="hljs-comment"># t, c, n, s</span><br>            [<span class="hljs-number">1</span>, <span class="hljs-number">16</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">24</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">64</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">96</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">160</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>],<br>            [<span class="hljs-number">6</span>, <span class="hljs-number">320</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>],<br>        ]<br><br>        <span class="hljs-comment"># building first layer</span><br>        <span class="hljs-keyword">assert</span> input_size % <span class="hljs-number">32</span> == <span class="hljs-number">0</span><br>        <span class="hljs-comment"># input_channel = make_divisible(input_channel * width_mult)  # first channel is always 32!</span><br>        self.last_channel = make_divisible(last_channel * width_mult) <span class="hljs-keyword">if</span> width_mult &gt; <span class="hljs-number">1.0</span> <span class="hljs-keyword">else</span> last_channel<br>        self.features = [conv_bn(<span class="hljs-number">3</span>, input_channel, <span class="hljs-number">2</span>)]<br><br>        <span class="hljs-comment"># building inverted residual blocks</span><br>        <span class="hljs-keyword">for</span> t, c, n, s <span class="hljs-keyword">in</span> interverted_residual_setting:<br>            output_channel = make_divisible(c * width_mult) <span class="hljs-keyword">if</span> t &gt; <span class="hljs-number">1</span> <span class="hljs-keyword">else</span> c<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(n):<br>                <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>:<br>                    self.features.append(block(input_channel, output_channel, s, expand_ratio=t))<br>                <span class="hljs-keyword">else</span>:<br>                    self.features.append(block(input_channel, output_channel, <span class="hljs-number">1</span>, expand_ratio=t))<br>                input_channel = output_channel<br>                <br>        <span class="hljs-comment"># building last several layers</span><br>        self.features.append(conv_1x1_bn(input_channel, self.last_channel))<br><br>        <span class="hljs-comment"># make it nn.Sequential</span><br>        self.features = nn.Sequential(*self.features)<br><br>        <span class="hljs-comment"># building classifier</span><br>        self.classifier = nn.Linear(self.last_channel, n_class)<br>        self._initialize_weights()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.features(x)<br>        x = x.mean(<span class="hljs-number">3</span>).mean(<span class="hljs-number">2</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_initialize_weights</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> self.modules():<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(m, nn.Conv2d):<br>                n = m.kernel_size[<span class="hljs-number">0</span>] * m.kernel_size[<span class="hljs-number">1</span>] * m.out_channels<br>                m.weight.data.normal_(<span class="hljs-number">0</span>, math.sqrt(<span class="hljs-number">2.</span> / n))<br>                <span class="hljs-keyword">if</span> m.bias <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                    m.bias.data.zero_()<br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(m, nn.BatchNorm2d):<br>                m.weight.data.fill_(<span class="hljs-number">1</span>)<br>                m.bias.data.zero_()<br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(m, nn.Linear):<br>                n = m.weight.size(<span class="hljs-number">1</span>)<br>                m.weight.data.normal_(<span class="hljs-number">0</span>, <span class="hljs-number">0.01</span>)<br>                m.bias.data.zero_()<br></code></pre></td></tr></table></figure><h2 id="MobileNetV3-2019"><a href="#MobileNetV3-2019" class="headerlink" title="MobileNetV3(2019)"></a><br>MobileNetV3(2019)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F<br><span class="hljs-keyword">from</span> torch.autograd <span class="hljs-keyword">import</span> Variable<br><span class="hljs-keyword">import</span> math<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HardSwish</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inplace=<span class="hljs-literal">True</span></span>):<br>        <span class="hljs-built_in">super</span>(HardSwish, self).__init__()<br>        self.relu6 = nn.ReLU6(inplace=inplace)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> x * (self.relu6(x+<span class="hljs-number">3</span>)) / <span class="hljs-number">6</span><br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">HardSigmoid</span>(nn.Module):<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inplace=<span class="hljs-literal">True</span></span>):<br>        <span class="hljs-built_in">super</span>(HardSigmoid, self).__init__()<br>        self.relu6 = nn.ReLU6(inplace=inplace)<br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">return</span> (self.relu6(x+<span class="hljs-number">3</span>)) / <span class="hljs-number">6</span><br><br><br>ACT_FNS = &#123;<br>    <span class="hljs-string">&#x27;RE&#x27;</span>: nn.ReLU6(inplace=<span class="hljs-literal">True</span>),<br>    <span class="hljs-string">&#x27;HS&#x27;</span>: HardSwish(),<br>    <span class="hljs-string">&#x27;HG&#x27;</span>: HardSigmoid()<br>&#125;<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">_make_divisible</span>(<span class="hljs-params">v, divisor, min_value=<span class="hljs-literal">None</span></span>):<br>    <span class="hljs-keyword">if</span> min_value <span class="hljs-keyword">is</span> <span class="hljs-literal">None</span>:<br>        min_value = divisor<br>    new_v = <span class="hljs-built_in">max</span>(min_value, <span class="hljs-built_in">int</span>(v + divisor / <span class="hljs-number">2</span>) // divisor * divisor)<br>    <span class="hljs-keyword">if</span> new_v &lt; <span class="hljs-number">0.9</span> * v:<br>        new_v += divisor<br>    <span class="hljs-keyword">return</span> new_v<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_3x3_bn</span>(<span class="hljs-params">inp, oup, stride, nl=<span class="hljs-string">&#x27;RE&#x27;</span></span>):<br>    <span class="hljs-keyword">return</span> nn.Sequential(<br>        nn.Conv2d(inp, oup, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>        nn.BatchNorm2d(oup),<br>        ACT_FNS[nl]<br>    )<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_1x1</span>(<span class="hljs-params">inp, oup, nl=<span class="hljs-string">&#x27;RE&#x27;</span>, with_se=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-keyword">if</span> with_se:<br>        <span class="hljs-keyword">return</span> nn.Sequential(<br>            nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            SqueezeAndExcite(oup, reduction=<span class="hljs-number">4</span>),<br>            ACT_FNS[nl]<br>        )<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> nn.Sequential(<br>            nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            ACT_FNS[nl]<br>        )<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_1x1_bn</span>(<span class="hljs-params">inp, oup, nl=<span class="hljs-string">&#x27;RE&#x27;</span>, with_se=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-keyword">if</span> with_se:<br>        <span class="hljs-keyword">return</span> nn.Sequential(<br>            nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            SqueezeAndExcite(oup, reduction=<span class="hljs-number">4</span>),<br>            nn.BatchNorm2d(oup),<br>            ACT_FNS[nl]<br>        )<br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">return</span> nn.Sequential(<br>            nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(oup),<br>            ACT_FNS[nl]<br>        )<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">SqueezeAndExcite</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n_features, reduction=<span class="hljs-number">4</span></span>):<br>        <span class="hljs-built_in">super</span>(SqueezeAndExcite, self).__init__()<br>        <span class="hljs-keyword">if</span> n_features % reduction != <span class="hljs-number">0</span>:<br>            <span class="hljs-keyword">raise</span> ValueError(<span class="hljs-string">&#x27;n_features must be divisible by reduction (default = 4)&#x27;</span>)<br>        self.linear1 = nn.Linear(n_features, n_features // reduction, bias=<span class="hljs-literal">True</span>)<br>        self.nonlin1 = ACT_FNS[<span class="hljs-string">&#x27;RE&#x27;</span>]<br>        self.linear2 = nn.Linear(n_features // reduction, n_features, bias=<span class="hljs-literal">True</span>)<br>        self.nonlin2 = ACT_FNS[<span class="hljs-string">&#x27;HG&#x27;</span>]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        y = F.avg_pool2d(x, kernel_size=x.size()[<span class="hljs-number">2</span>:<span class="hljs-number">4</span>])<br>        y = y.permute(<span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>)<br>        y = self.nonlin1(self.linear1(y))<br>        y = self.nonlin2(self.linear2(y))<br>        y = y.permute(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>)<br>        y = x * y<br>        <span class="hljs-keyword">return</span> y<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InvertedResidual</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inp, oup, kernel, stride, expand_size, nl=<span class="hljs-string">&#x27;RE&#x27;</span>, with_se=<span class="hljs-literal">False</span></span>):<br>        <span class="hljs-built_in">super</span>(InvertedResidual, self).__init__()<br>        <span class="hljs-keyword">assert</span> stride <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<br><br>        hidden_dim = expand_size<br><br>        self.identity = stride == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> inp == oup<br><br>        self.pw = nn.Sequential(<br>            nn.Conv2d(inp, hidden_dim, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(hidden_dim),<br>            ACT_FNS[nl],<br>        )<br><br>        self.dw = nn.Sequential(<br>            nn.Conv2d(hidden_dim, hidden_dim, kernel, stride, kernel//<span class="hljs-number">2</span>, groups=hidden_dim, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(hidden_dim),<br>            ACT_FNS[nl],<br>        )<br><br>        self.se = nn.Sequential(<br>            SqueezeAndExcite(hidden_dim, reduction=<span class="hljs-number">4</span>)<br>        )<br><br>        self.pw_linear = nn.Sequential(<br>            nn.Conv2d(hidden_dim, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>            nn.BatchNorm2d(oup),<br>        )<br><br>        <span class="hljs-keyword">if</span> with_se: <span class="hljs-comment"># with squeeze and excite </span><br>            <span class="hljs-keyword">if</span> expand_size == oup: <span class="hljs-comment"># exp_ratio = 1</span><br>                self.conv = nn.Sequential(<br>                    self.dw,<br>                    self.se,<br>                    self.pw_linear,<br>                )<br>            <span class="hljs-keyword">else</span>:<br>                self.conv = nn.Sequential(<br>                    self.pw,<br>                    self.dw,<br>                    self.se,<br>                    self.pw_linear,<br>                )<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">if</span> expand_size == oup:<br>                self.conv = nn.Sequential(<br>                    self.dw,<br>                    self.pw_linear,<br>                )<br>            <span class="hljs-keyword">else</span>:<br>                self.conv = nn.Sequential(<br>                    self.pw,<br>                    self.dw,<br>                    self.pw_linear,<br>                )<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">if</span> self.identity:<br>            <span class="hljs-keyword">return</span> x + self.conv(x)<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">return</span> self.conv(x)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">MobileNetV3</span>(nn.Module):<br><br>    <span class="hljs-comment"># <span class="hljs-doctag">NOTE:</span> [kernel, expansion, output, SE, NL, s]</span><br>    cfg = [(<span class="hljs-number">3</span>,  <span class="hljs-number">16</span>, <span class="hljs-number">16</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;RE&#x27;</span>, <span class="hljs-number">2</span>),<br>           (<span class="hljs-number">3</span>,  <span class="hljs-number">72</span>, <span class="hljs-number">24</span>, <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;RE&#x27;</span>, <span class="hljs-number">2</span>),  <br>           (<span class="hljs-number">3</span>,  <span class="hljs-number">88</span>, <span class="hljs-number">24</span>, <span class="hljs-literal">False</span>, <span class="hljs-string">&#x27;RE&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>,  <span class="hljs-number">96</span>, <span class="hljs-number">40</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">2</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">240</span>, <span class="hljs-number">40</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">240</span>, <span class="hljs-number">40</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">120</span>, <span class="hljs-number">48</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">144</span>, <span class="hljs-number">48</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">288</span>, <span class="hljs-number">96</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">2</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">576</span>, <span class="hljs-number">96</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>),<br>           (<span class="hljs-number">5</span>, <span class="hljs-number">576</span>, <span class="hljs-number">96</span>, <span class="hljs-literal">True</span>,  <span class="hljs-string">&#x27;HS&#x27;</span>, <span class="hljs-number">1</span>)]<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, num_classes=<span class="hljs-number">2</span>, input_size=<span class="hljs-number">224</span>, width_mult=<span class="hljs-number">1.</span></span>):<br>        <span class="hljs-built_in">super</span>(MobileNetV3, self).__init__()<br>        <span class="hljs-comment"># building first layer</span><br>        <span class="hljs-keyword">assert</span> input_size % <span class="hljs-number">32</span> == <span class="hljs-number">0</span><br>        input_channel = _make_divisible(<span class="hljs-number">16</span> * width_mult, <span class="hljs-number">8</span>)<br>        self.conv0 = conv_3x3_bn(<span class="hljs-number">3</span>, input_channel, <span class="hljs-number">2</span>, nl=<span class="hljs-string">&#x27;HS&#x27;</span>)<br>        layers = []<br>        <span class="hljs-comment"># building inverted residual blocks</span><br>        block = InvertedResidual<br>        <span class="hljs-comment"># for t, c, n, s in self.cfgs:</span><br>        <span class="hljs-keyword">for</span> kernel, expansion, output_channel, se, nl, stride <span class="hljs-keyword">in</span> self.cfg:<br>            layers.append(block(input_channel, output_channel, kernel, stride, expansion, nl=nl, with_se=se))<br>            input_channel = output_channel<br>        self.features = nn.Sequential(*layers)<br><br>        <span class="hljs-comment"># building last several layers</span><br>        self.conv1 = conv_1x1_bn(input_channel, expansion, nl=<span class="hljs-string">&#x27;HS&#x27;</span>, with_se=<span class="hljs-literal">False</span>)<br>        input_channel = expansion<br><br>        self.avgpool = nn.AvgPool2d(input_size // <span class="hljs-number">32</span>, stride=<span class="hljs-number">1</span>)<br>        output_channel = _make_divisible(<span class="hljs-number">1280</span> * width_mult, <span class="hljs-number">8</span>) <span class="hljs-keyword">if</span> width_mult &gt; <span class="hljs-number">1.0</span> <span class="hljs-keyword">else</span> <span class="hljs-number">1280</span><br>        self.conv2 = conv_1x1(input_channel, output_channel, nl=<span class="hljs-string">&#x27;HS&#x27;</span>, with_se=<span class="hljs-literal">False</span>)<br>        self.classifier = nn.Linear(output_channel, num_classes)<br><br>        self._initialize_weights()<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.conv0(x)<br>        x = self.features(x)<br>        x = self.conv1(x)<br>        x = self.avgpool(x)<br>        x = self.conv2(x)<br>        x = x.view(x.size(<span class="hljs-number">0</span>), -<span class="hljs-number">1</span>)<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_initialize_weights</span>(<span class="hljs-params">self</span>):<br>        <span class="hljs-keyword">for</span> m <span class="hljs-keyword">in</span> self.modules():<br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">isinstance</span>(m, nn.Conv2d):<br>                n = m.kernel_size[<span class="hljs-number">0</span>] * m.kernel_size[<span class="hljs-number">1</span>] * m.out_channels<br>                m.weight.data.normal_(<span class="hljs-number">0</span>, math.sqrt(<span class="hljs-number">2.</span> / n))<br>                <span class="hljs-keyword">if</span> m.bias <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                    m.bias.data.zero_()<br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(m, nn.BatchNorm2d):<br>                m.weight.data.fill_(<span class="hljs-number">1</span>)<br>                m.bias.data.zero_()<br>            <span class="hljs-keyword">elif</span> <span class="hljs-built_in">isinstance</span>(m, nn.Linear):<br>                n = m.weight.size(<span class="hljs-number">1</span>)<br>                m.weight.data.normal_(<span class="hljs-number">0</span>, <span class="hljs-number">0.01</span>)<br>                m.bias.data.zero_()<br><br></code></pre></td></tr></table></figure><h2 id="ShuffleNetV2-2019"><a href="#ShuffleNetV2-2019" class="headerlink" title="ShuffleNetV2(2019)"></a><br>ShuffleNetV2(2019)</br></h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span> torch<br><span class="hljs-keyword">import</span> torch.nn <span class="hljs-keyword">as</span> nn<br><span class="hljs-keyword">import</span> torch.nn.functional <span class="hljs-keyword">as</span> F<br><span class="hljs-keyword">from</span> torch.autograd <span class="hljs-keyword">import</span> Variable<br><span class="hljs-keyword">from</span> collections <span class="hljs-keyword">import</span> OrderedDict<br><span class="hljs-keyword">from</span> torch.nn <span class="hljs-keyword">import</span> init<br><span class="hljs-keyword">import</span> math<br><br><br><span class="hljs-comment"># model = ShuffleNetV2()</span><br><span class="hljs-comment"># input: 3*?*?</span><br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_bn</span>(<span class="hljs-params">inp, oup, stride</span>):<br>    <span class="hljs-keyword">return</span> nn.Sequential(<br>        nn.Conv2d(inp, oup, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, bias=<span class="hljs-literal">False</span>),<br>        nn.BatchNorm2d(oup),<br>        nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>    )<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">conv_1x1_bn</span>(<span class="hljs-params">inp, oup</span>):<br>    <span class="hljs-keyword">return</span> nn.Sequential(<br>        nn.Conv2d(inp, oup, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>        nn.BatchNorm2d(oup),<br>        nn.ReLU(inplace=<span class="hljs-literal">True</span>)<br>    )<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">channel_shuffle</span>(<span class="hljs-params">x, groups</span>):<br>    batchsize, num_channels, height, width = x.data.size()<br><br>    channels_per_group = num_channels // groups<br>    <br>    <span class="hljs-comment"># reshape</span><br>    x = x.view(batchsize, groups, <br>        channels_per_group, height, width)<br><br>    x = torch.transpose(x, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>).contiguous()<br><br>    <span class="hljs-comment"># flatten</span><br>    x = x.view(batchsize, -<span class="hljs-number">1</span>, height, width)<br><br>    <span class="hljs-keyword">return</span> x<br>    <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">InvertedResidual</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, inp, oup, stride, benchmodel</span>):<br>        <span class="hljs-built_in">super</span>(InvertedResidual, self).__init__()<br>        self.benchmodel = benchmodel<br>        self.stride = stride<br>        <span class="hljs-keyword">assert</span> stride <span class="hljs-keyword">in</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]<br><br>        oup_inc = oup//<span class="hljs-number">2</span><br>        <br>        <span class="hljs-keyword">if</span> self.benchmodel == <span class="hljs-number">1</span>:<br>            <span class="hljs-comment">#assert inp == oup_inc</span><br>        self.banch2 = nn.Sequential(<br>                <span class="hljs-comment"># pw</span><br>                nn.Conv2d(oup_inc, oup_inc, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>                <span class="hljs-comment"># dw</span><br>                nn.Conv2d(oup_inc, oup_inc, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=oup_inc, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                <span class="hljs-comment"># pw-linear</span><br>                nn.Conv2d(oup_inc, oup_inc, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            )                <br>        <span class="hljs-keyword">else</span>:                  <br>            self.banch1 = nn.Sequential(<br>                <span class="hljs-comment"># dw</span><br>                nn.Conv2d(inp, inp, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=inp, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(inp),<br>                <span class="hljs-comment"># pw-linear</span><br>                nn.Conv2d(inp, oup_inc, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            )        <br>    <br>            self.banch2 = nn.Sequential(<br>                <span class="hljs-comment"># pw</span><br>                nn.Conv2d(inp, oup_inc, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>                <span class="hljs-comment"># dw</span><br>                nn.Conv2d(oup_inc, oup_inc, <span class="hljs-number">3</span>, stride, <span class="hljs-number">1</span>, groups=oup_inc, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                <span class="hljs-comment"># pw-linear</span><br>                nn.Conv2d(oup_inc, oup_inc, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, bias=<span class="hljs-literal">False</span>),<br>                nn.BatchNorm2d(oup_inc),<br>                nn.ReLU(inplace=<span class="hljs-literal">True</span>),<br>            )<br>          <br><span class="hljs-meta">    @staticmethod</span><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">_concat</span>(<span class="hljs-params">x, out</span>):<br>        <span class="hljs-comment"># concatenate along channel axis</span><br>        <span class="hljs-keyword">return</span> torch.cat((x, out), <span class="hljs-number">1</span>)        <br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        <span class="hljs-keyword">if</span> <span class="hljs-number">1</span>==self.benchmodel:<br>            x1 = x[:, :(x.shape[<span class="hljs-number">1</span>]//<span class="hljs-number">2</span>), :, :]<br>            x2 = x[:, (x.shape[<span class="hljs-number">1</span>]//<span class="hljs-number">2</span>):, :, :]<br>            out = self._concat(x1, self.banch2(x2))<br>        <span class="hljs-keyword">elif</span> <span class="hljs-number">2</span>==self.benchmodel:<br>            out = self._concat(self.banch1(x), self.banch2(x))<br><br>        <span class="hljs-keyword">return</span> channel_shuffle(out, <span class="hljs-number">2</span>)<br><br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">ShuffleNetV2</span>(nn.Module):<br><br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">__init__</span>(<span class="hljs-params">self, n_class=<span class="hljs-number">1000</span>, input_size=<span class="hljs-number">224</span>, width_mult=<span class="hljs-number">1.</span></span>):<br>        <span class="hljs-built_in">super</span>(ShuffleNetV2, self).__init__()<br>        <br>        <span class="hljs-keyword">assert</span> input_size % <span class="hljs-number">32</span> == <span class="hljs-number">0</span><br>        <br>        self.stage_repeats = [<span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">4</span>]<br>        <span class="hljs-comment"># index 0 is invalid and should never be called.</span><br>        <span class="hljs-comment"># only used for indexing convenience.</span><br>        <span class="hljs-keyword">if</span> width_mult == <span class="hljs-number">0.5</span>:<br>            self.stage_out_channels = [-<span class="hljs-number">1</span>, <span class="hljs-number">24</span>,  <span class="hljs-number">48</span>,  <span class="hljs-number">96</span>, <span class="hljs-number">192</span>, <span class="hljs-number">1024</span>]<br>        <span class="hljs-keyword">elif</span> width_mult == <span class="hljs-number">1.0</span>:<br>            self.stage_out_channels = [-<span class="hljs-number">1</span>, <span class="hljs-number">24</span>, <span class="hljs-number">116</span>, <span class="hljs-number">232</span>, <span class="hljs-number">464</span>, <span class="hljs-number">1024</span>]<br>        <span class="hljs-keyword">elif</span> width_mult == <span class="hljs-number">1.5</span>:<br>            self.stage_out_channels = [-<span class="hljs-number">1</span>, <span class="hljs-number">24</span>, <span class="hljs-number">176</span>, <span class="hljs-number">352</span>, <span class="hljs-number">704</span>, <span class="hljs-number">1024</span>]<br>        <span class="hljs-keyword">elif</span> width_mult == <span class="hljs-number">2.0</span>:<br>            self.stage_out_channels = [-<span class="hljs-number">1</span>, <span class="hljs-number">24</span>, <span class="hljs-number">224</span>, <span class="hljs-number">488</span>, <span class="hljs-number">976</span>, <span class="hljs-number">2048</span>]<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> ValueError(<br>                <span class="hljs-string">&quot;&quot;&quot;&#123;&#125; groups is not supported for</span><br><span class="hljs-string">                       1x1 Grouped Convolutions&quot;&quot;&quot;</span>.<span class="hljs-built_in">format</span>(num_groups))<br><br>        <span class="hljs-comment"># building first layer</span><br>        input_channel = self.stage_out_channels[<span class="hljs-number">1</span>]<br>        self.conv1 = conv_bn(<span class="hljs-number">3</span>, input_channel, <span class="hljs-number">2</span>)<br>        self.maxpool = nn.MaxPool2d(kernel_size=<span class="hljs-number">3</span>, stride=<span class="hljs-number">2</span>, padding=<span class="hljs-number">1</span>)<br>        self.features = []<br><br>        <span class="hljs-comment"># building inverted residual blocks</span><br>        <span class="hljs-keyword">for</span> idxstage <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(self.stage_repeats)):<br>            numrepeat = self.stage_repeats[idxstage]<br>            output_channel = self.stage_out_channels[idxstage+<span class="hljs-number">2</span>]<br>            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(numrepeat):<br>                <span class="hljs-keyword">if</span> i == <span class="hljs-number">0</span>:<br>            <span class="hljs-comment">#inp, oup, stride, benchmodel):</span><br>                    self.features.append(InvertedResidual(input_channel, output_channel, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>))<br>                <span class="hljs-keyword">else</span>:<br>                    self.features.append(InvertedResidual(input_channel, output_channel, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>))<br>                input_channel = output_channel<br>                <br>                <br>        <span class="hljs-comment"># make it nn.Sequential</span><br>        self.features = nn.Sequential(*self.features)<br><br>        <span class="hljs-comment"># building last several layers</span><br>        self.conv_last = conv_1x1_bn(input_channel, self.stage_out_channels[-<span class="hljs-number">1</span>])<br>        self.globalpool = nn.Sequential(nn.AvgPool2d(<span class="hljs-built_in">int</span>(input_size/<span class="hljs-number">32</span>)))<br><br>        <span class="hljs-comment"># building classifier</span><br>        self.classifier = nn.Sequential(nn.Linear(self.stage_out_channels[-<span class="hljs-number">1</span>], n_class))<br>        <br>    <span class="hljs-keyword">def</span> <span class="hljs-title function_">forward</span>(<span class="hljs-params">self, x</span>):<br>        x = self.conv1(x)<br>        x = self.maxpool(x)<br>        x = self.features(x)<br>        x = self.conv_last(x)<br>        x = self.globalpool(x)<br>        x = x.view(-<span class="hljs-number">1</span>, self.stage_out_channels[-<span class="hljs-number">1</span>])<br>        x = self.classifier(x)<br>        <span class="hljs-keyword">return</span> x<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> å›¾åƒåˆ†ç±» </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ï¼ˆæŒç»­æ›´æ–°ä¸­...ï¼‰è®¤çœŸåœ°åšä¸€ä¸ªâ€œé©¬æ¥äººâ€â€”â€”æ·±åº¦å­¦ä¹ éƒ¨åˆ†</title>
      <link href="/2022/07/05/004-MarkMan_DL/"/>
      <url>/2022/07/05/004-MarkMan_DL/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»£ç å¸¸ç”¨"><a href="#ä»£ç å¸¸ç”¨" class="headerlink" title="ä»£ç å¸¸ç”¨"></a><strong>ä»£ç å¸¸ç”¨</strong></h1><h2 id="Pytorchæ¡†æ¶ä¸‹å¸¸è§é—®é¢˜"><a href="#Pytorchæ¡†æ¶ä¸‹å¸¸è§é—®é¢˜" class="headerlink" title="Pytorchæ¡†æ¶ä¸‹å¸¸è§é—®é¢˜"></a>Pytorchæ¡†æ¶ä¸‹å¸¸è§é—®é¢˜</h2><ul><li><p><strong>Pytorchä¸­Tensorä¸å„ç§å›¾åƒæ ¼å¼çš„ç›¸äº’è½¬åŒ–</strong><br><a href="https://blog.csdn.net/qq_36955294/article/details/82888443">https://blog.csdn.net/qq_36955294/article/details/82888443</a></p></li><li><p><strong>PytorchæŸ¥çœ‹æ¨¡å‹ç»†èŠ‚å’Œå‚æ•°å¤§å°è®¡ç®—ï¼ˆåˆ©ç”¨torchsummaryæ¨¡å—ï¼‰</strong></p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">from torchsummary import summary<br>summary(model, input_size=(C, H, W))<br><br>ä»¥UNetä¸ºä¾‹<br>from torchsummary import summary<br>device = torch.device(&quot;cuda&quot; if torch.cuda.is_available() else &quot;cpu&quot;)<br>model = UNet(in_channels=3).to(device)<br>print(model)                                                               # æ‰“å°æ•´ä¸ªæ¨¡å‹æ¡†æ¶<br>parameters = filter(lambda p: p.requires_grad, model.parameters())         # è¿‡æ»¤å¯è®­ç»ƒå‚æ•°<br>parameters = sum([np.prod(p.size()) for p in parameters]) / 1_000_000      # å‚æ•°å¤§å°ä¼°è®¡<br>print(&#x27;Trainable Parameters: %.3fM&#x27; % parameters)<br>summary(model, input_size=(C, H, W))  # [B, num_classes] or [B, C, H, W]   # æµ‹è¯•æ¨¡å‹è¾“å‡º<br></code></pre></td></tr></table></figure><ul><li><strong>ä½¿ç”¨torchsummaryæ—¶çš„å¸¸è§é—®é¢˜</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æŠ¥é”™ï¼šAttributeError: &#x27;list&#x27; object has no attribute &#x27;size&#x27;<br>åŸå› ï¼šä¼ å…¥çš„æ˜¯listå±æ€§ï¼Œè€Œä¸æ˜¯torch.Tensorï¼ˆå…·ä½“åŸå› æœªçŸ¥ï¼‰<br>è§£å†³åŠæ³•ï¼šåœ¨torchsummary.pyä¸­åŠ æ¡ä»¶åˆ¤æ–­ä¸€ä¸‹å³å¯ï¼Œåœ¨Line 23å·¦å³çš„ä½ç½®<br># è¿™æ˜¯æºç <br>summary[m_key][&quot;output_shape&quot;] = [<br>    [-1] + list(o.size())[1:] for o in output<br>]<br><br># ä»¥ä¸‹ä¸ºæŠ¥é”™åä¿®æ”¹çš„ä»£ç <br>summary[m_key][&quot;output_shape&quot;] = [<br>    [-1] + list(o.size())[1:] if isinstance(o, torch.Tensor) else [-1] + list(np.array(o).shape)[1:] for o in output<br>]<br></code></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æŠ¥é”™ï¼šIndexError: tuple index out of range<br>åŸå› ï¼šä¼ å…¥çš„inputä¸ºNone<br>è§£å†³åŠæ³•ï¼šæ·»åŠ åˆ¤æ–­inputæ˜¯å¦ä¸ºNoneå³å¯<br># è¿™æ˜¯æºç <br>summary[m_key][&quot;input_shape&quot;] = list(input[0].size())<br>summary[m_key][&quot;input_shape&quot;][0] = batch_size<br><br># ä»¥ä¸‹ä¸ºæŠ¥é”™åä¿®æ”¹çš„ä»£ç <br>if len(input) != 0:<br>    summary[m_key][&quot;input_shape&quot;] = list(input[0].size())<br>    summary[m_key][&quot;input_shape&quot;][0] = batch_size<br>else:<br>    summary[m_key][&quot;input_shape&quot;] = input<br><br></code></pre></td></tr></table></figure><ul><li><p><strong>é‡å†™Datasetç±»</strong><br>æ‰€æœ‰å­ç±»åº”è¯¥override <strong>len</strong> å’Œ __getitem__ï¼Œå‰è€…æä¾›äº†æ•°æ®é›†çš„å¤§å°ï¼Œåè€…æ”¯æŒæ•´æ•°ç´¢å¼•ï¼ŒèŒƒå›´ä»0åˆ°len(self)</p></li><li><p><strong>pytorchå®ç”¨æ–¹æ³•ï¼ˆæŒç»­æ›´æ–°ï¼‰</strong></p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">torch.ones_like(img) # ç”Ÿæˆä¸imgå½¢çŠ¶ç›¸åŒçš„å…¨1çŸ©é˜µï¼Œä¸‹åŒ<br>torch.zeros_like(img)<br>with torch.no_grad(): .... # ä¸æ„å›¾ï¼Œå³ä¸å‚ä¸æ­£å‘/åå‘ä¼ æ’­<br></code></pre></td></tr></table></figure><ul><li><strong>pytorchæ¨¡å‹ä¿å­˜ä¸åŠ è½½ï¼ˆä¿å­˜ä¸º.pt or .pthï¼‰</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æ–¹å¼ä¸€ï¼šä¿å­˜æ•´ä¸ªç½‘ç»œç»“æ„ä¿¡æ¯å’Œæ¨¡å‹å‚æ•°ä¿¡æ¯:<br>ï¼ƒã€€ä¿å­˜ï¼šã€€torch.save(model_object, &#x27;./model.pth&#x27;)<br>ï¼ƒã€€åŠ è½½ï¼šã€€model = torch.load(&#x27;./model.pth&#x27;)<br><br>æ–¹å¼äºŒï¼šåªä¿å­˜ç½‘ç»œçš„æ¨¡å‹å‚æ•°-æ¨èä½¿ç”¨<br>ï¼ƒã€€ä¿å­˜ï¼šã€€torch.save(model_object.state_dict(), &#x27;./params.pth&#x27;)<br>ï¼ƒã€€åŠ è½½ï¼šã€€from models import AgeModel<br>ã€€ã€€ã€€ã€€ã€€ã€€model = AgeModel()<br>ã€€ã€€ã€€ã€€ã€€ã€€model.load_state_dict(torch.load(&#x27;./params.pth&#x27;))<br></code></pre></td></tr></table></figure><h2 id="NumpyçŸ©é˜µè¿ç®—å¸¸è§é—®é¢˜"><a href="#NumpyçŸ©é˜µè¿ç®—å¸¸è§é—®é¢˜" class="headerlink" title="NumpyçŸ©é˜µè¿ç®—å¸¸è§é—®é¢˜"></a>NumpyçŸ©é˜µè¿ç®—å¸¸è§é—®é¢˜</h2><ul><li>Numpyä½¿ç”¨np.vstack()å’Œnp.hstack()æ‹¼æ¥çŸ©é˜µæ—¶åŒ¹é…ç»´åº¦å‡ºé”™</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æŠ¥é”™ï¼šValueError: all the inputs arrays must have same number of dimensions<br>è§£å†³æ–¹æ³•ï¼šæ›´æ¢np.vstack()å’Œnp.hstack()<br>np.vstack((a, b)) -&gt; np.row_stack((a, b))<br>np.hstack((a, b)) -&gt; np.column_stack((a, b))<br></code></pre></td></tr></table></figure><h2 id="Opencv-pythonå¸¸è§é—®é¢˜"><a href="#Opencv-pythonå¸¸è§é—®é¢˜" class="headerlink" title="Opencv-pythonå¸¸è§é—®é¢˜"></a>Opencv-pythonå¸¸è§é—®é¢˜</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">æŠ¥é”™ï¼šcv2.error: OpenCV(4.5.2) /tmp/pip-req-build-lnehsv18/opencv/modules/imgcodecs/src/loadsave.cpp:650: error: (-2:Unspecified error) could not find a writer for the specified extension in function &#x27;imwrite_&#x27;<br>è§£å†³ï¼šä¿å­˜å›¾ç‰‡è®°å¾—åŠ ä¸Šæ‹“å±•å cv2.imwrite(&#x27;img.png&#x27;, img)<br></code></pre></td></tr></table></figure><h2 id="å…¶ä»–é—®é¢˜"><a href="#å…¶ä»–é—®é¢˜" class="headerlink" title="å…¶ä»–é—®é¢˜"></a>å…¶ä»–é—®é¢˜</h2><ul><li><strong>æ‰¹é‡å‡çº§pythonæ‰€æœ‰åŒ…ï¼ˆæ¨¡å—ï¼‰</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># æ¡Œé¢åˆ›å»ºpythonæ–‡ä»¶upgrade.py, å°†å¦‚ä¸‹ä»£ç æ‹·è¿›å»ï¼Œä¿å­˜ã€‚ ä½¿ç”¨å‘½ä»¤è¡Œ python upgrade.py è¿è¡Œ<br>import pip<br>import time<br>from pip._internal.utils.misc import get_installed_distributions<br>from subprocess import call<br><br>for dist in get_installed_distributions():<br>    print(dist.project_name)<br>print(&#x27;----------&#x27;)<br><br>for dist in get_installed_distributions():<br>    print(&quot;updating:&quot;, dist.project_name, &quot;\t&quot;)#print log<br>    print(time.asctime( time.localtime(time.time()) ))#print log<br>    call(&quot;pip3 install --upgrade -i https://pypi.tuna.tsinghua.edu.cn/simple &quot; + dist.project_name, shell=True)#è°ƒç”¨æ›´æ–°å‘½ä»¤<br></code></pre></td></tr></table></figure><ul><li><strong>å¯¼å‡ºå½“å‰ç¯å¢ƒ&#x2F;ç›®å½•æ‰€éœ€åŒ…ï¼Œä»¥åŠæŒ‰ç…§requirements.txtæ‰¹é‡å®‰è£…æŒ‡å®šçš„åŒ…ï¼ˆæ¨¡å—ï¼‰</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">(1) å¯¼å‡ºå½“å‰ç¯å¢ƒå®‰è£…çš„æ‰€æœ‰ç±»åº“ï¼ˆæ¨èï¼‰<br>pip freeze &gt; requirements.txt<br>(2) å¯¼å‡ºå½“å‰é¡¹ç›®ç›®å½•å®‰è£…çš„æ‰€æœ‰ç±»åº“ï¼ˆæ¨èï¼‰<br>pip install pipreqs $ pipreqs /path/to/project<br>(3) æŒ‰ç…§requirements.txtæ‰¹é‡å®‰è£…ç±»åº“<br>pip install -i requirements.txt<br></code></pre></td></tr></table></figure><ul><li><strong>å¿½ç•¥è­¦å‘Šä¿¡æ¯</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import warnings<br>warnings.filterwarnings(&quot;ignore&quot;)<br></code></pre></td></tr></table></figure><ul><li><strong>åˆ©ç”¨ä»£ç æ‰¹é‡ç§»åŠ¨æ–‡ä»¶</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">import os<br>cmd = &quot;mv &#123;&#125; &#123;&#125;&quot;.format(src_dir, dst_dir) # src_dirå¯ä»¥åˆ©ç”¨os.listdir()è·å–<br>os.system(cmd)<br></code></pre></td></tr></table></figure><ul><li><strong>Tensorboardã€Jupyter notebookå’ŒVisdomè¿è¡Œç«¯å£çš„æŒ‡å®š</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># Tensorboard<br>ç»ˆç«¯æ‰“å¼€ç«¯å£ tensorboard --logdir ./ --port=1234<br><br># Jupyter notebook<br>ç»ˆç«¯æ‰“å¼€ç«¯å£ jupyter notebook --port=1234<br><br># Visdom<br>ä»£ç ä¸­åˆ›å»ºç¯å¢ƒ vis = visdom.Visdom(env=&#x27;name&#x27;, port=1234)<br>ç»ˆç«¯æ‰“å¼€ç«¯å£ python -m visdom.server -port=1234<br></code></pre></td></tr></table></figure><h1 id="VSCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜"><a href="#VSCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜" class="headerlink" title="VSCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜"></a><strong>VSCodeä½¿ç”¨è¿‡ç¨‹ä¸­çš„é—®é¢˜</strong></h1><ul><li><strong>SSHè¿œç¨‹è¿æ¥æœåŠ¡å™¨ä¸€ç›´å¼¹çª—è¾“å¯†ç </strong><br>  è§£å†³åŠæ³•1ï¼šå¹²æ‰é‡æ¥<br>  <a href="https://blog.csdn.net/Mr_Cat123/article/details/107432070">https://blog.csdn.net/Mr_Cat123/article/details/107432070</a><br>  è§£å†³åŠæ³•2ï¼šå¹²æ‰.vscode-server</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">rm -rf .vscode-server<br></code></pre></td></tr></table></figure><ul><li><strong>SSHè¿œç¨‹è¿æ¥æ—¶Downloading with wgetâ€¦è¶…æ—¶</strong><br>  è§£å†³åŠæ³•ï¼šå¹²æ‰æœåŠ¡å™¨ä¸Šçš„.wget-hstså†é‡æ–°è¿æ¥<br>  <img src="https://i.loli.net/2021/07/05/4bi17ZzLHnGsVR2.png" alt="Downloading with wgetè¶…æ—¶è§£å†³åŠæ³•"></li><li><strong>æœåŠ¡å™¨é‡è£…ç³»ç»Ÿåï¼ŒHostKeyå‘ç”Ÿæ”¹å˜ï¼ŒVSCodeç›´æ¥è¿çš„è¯è¿ä¸ä¸Š</strong><br>  è§£å†³åŠæ³•ï¼šæŠŠæœ¬åœ°çš„.sshæ–‡ä»¶å¤¹ä¸­çš„known_hostsæ–‡ä»¶åˆ æ‰å³å¯ï¼Œå†æ¬¡é‡è¿æœåŠ¡å™¨ä¼šè‡ªåŠ¨ç”Ÿæˆæ–°çš„known_hostsæ–‡ä»¶<br>  ï¼ˆknown_hostsæ–‡ä»¶è·¯å¾„ï¼šC:\Users\lenovo.ssh\known_hostsï¼‰</li><li><strong>VSCodeé…ç½®Pythonè°ƒè¯•ï¼ˆDebugï¼‰ç¯å¢ƒ</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ï¼ˆ1ï¼‰æ·»åŠ é…ç½®ï¼ˆAdd Configurationï¼‰<br>ï¼ˆ2ï¼‰å°†ä»¥ä¸‹ä»£ç æ‹·å…¥launch.jsonå³å¯<br>æ³¨ï¼šæœåŠ¡å™¨ä¸Šé…ç½®æ— éœ€æŒ‡æ˜Pythonè·¯å¾„ï¼Œåœ¨å·¦ä¸‹è§’é€‰æ‹©Pythonè§£é‡Šå™¨å³å¯<br>&#123;<br>    // Use IntelliSense to learn about possible attributes.<br>    // Hover to view descriptions of existing attributes.<br>    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387<br>    &quot;version&quot;: &quot;0.2.0&quot;,<br>    &quot;configurations&quot;: [<br>        &#123;<br>            &quot;name&quot;: &quot;Python: Current File&quot;,<br>            &quot;type&quot;: &quot;python&quot;,<br>            &quot;request&quot;: &quot;launch&quot;,<br>            &quot;stopOnEntry&quot;: false,<br>            &quot;program&quot;: &quot;$&#123;file&#125;&quot;,<br>            &quot;cwd&quot;: &quot;$&#123;workspaceRoot&#125;&quot;,<br>            &quot;env&quot;: &#123;&#125;,<br>            &quot;envFile&quot;: &quot;$&#123;workspaceRoot&#125;/.env&quot;<br>        &#125;<br>    ]<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><strong>VSCodeåˆ‡æ¢ä¸­è‹±æ–‡ç•Œé¢</strong><br>1ï¼‰ä½¿ç”¨å¿«æ·é”®ç»„åˆã€Ctrl+Shift+pã€‘ï¼Œåœ¨æœç´¢æ¡†ä¸­è¾“å…¥â€œconfigure display languageâ€ï¼Œç‚¹å‡»ç¡®å®šåï¼›<br>2ï¼‰ç‚¹å‡»zh-CN&#x2F;enï¼Œæˆ–è€…ç›´æ¥ä¿®æ”¹locale.jsonæ–‡ä»¶ä¸‹çš„å±æ€§â€œlocaleâ€ä¸ºâ€œzh-CNâ€;<br>3ï¼‰é‡å¯vscodeå³å¯ï¼›</li></ul><h1 id="Jupyter-Notebookæ’ä»¶é…ç½®"><a href="#Jupyter-Notebookæ’ä»¶é…ç½®" class="headerlink" title="Jupyter Notebookæ’ä»¶é…ç½®"></a><strong>Jupyter Notebookæ’ä»¶é…ç½®</strong></h1><ul><li><strong>æ’ä»¶åº“å®‰è£…åŠé…ç½®</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ï¼ˆ1ï¼‰å®‰è£…nbextensionsæ’ä»¶<br>pip install jupyter_contrib_nbextensions<br>ï¼ˆ2ï¼‰é…ç½®ï¼ˆæ³¨ï¼šç¡®ä¿å·²å…³é—­ Jupyter Notebookï¼‰<br>jupyter contrib nbextension install --user --skip-running-check<br>ï¼ˆ3ï¼‰å¯åŠ¨Jupyter Notebookï¼Œåœ¨Nbextensionsçš„ä¼—å¤šé€‰é¡¹ä¸­å‹¾é€‰Hinterlandï¼Œå³å¯<br></code></pre></td></tr></table></figure><ul><li><strong>å¿…ç”¨æ’ä»¶</strong><br>ï¼ˆ1ï¼‰ä»£ç å—æŠ˜å  Codefolding<br>ï¼ˆ2ï¼‰æ˜¾ç¤ºè¿è¡Œæ—¶é—´ ExecuteTime<br>ï¼ˆ3ï¼‰å˜é‡é«˜äº®æ˜¾ç¤º Highlight selected word<br>ï¼ˆ4ï¼‰ä»£ç æç¤º Hinterland<br>ï¼ˆ5ï¼‰ä»£ç è¡Œå·æ˜¾ç¤º Toggle all line numbers</li></ul><h2 id="LinuxæœåŠ¡å™¨å¸¸ç”¨æŒ‡ä»¤"><a href="#LinuxæœåŠ¡å™¨å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="LinuxæœåŠ¡å™¨å¸¸ç”¨æŒ‡ä»¤"></a><b>LinuxæœåŠ¡å™¨å¸¸ç”¨æŒ‡ä»¤</b></h2><ul><li><strong>å‹ç¼©åŒ…è§£å‹å‘½ä»¤</strong><br><b>*.taræ–‡ä»¶</b></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">tar -xvf filename.tar<br></code></pre></td></tr></table></figure><p><b>*.tar.gzå’Œ*.tgzæ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">tar -xzvf filename.tar.gz<br></code></pre></td></tr></table></figure><p><b>*.gzæ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">gunzip filename.gz<br>gzip -d filename.gz<br></code></pre></td></tr></table></figure><p><b>*.bz2æ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">bunzip2 filename.bz2<br>bzip2 -d filename.bz2<br></code></pre></td></tr></table></figure><p><b>*.tar.bz2æ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">tar jxvf filename.tar.bz2<br>tar --bzip xvf filename.tar.bz2<br></code></pre></td></tr></table></figure><p><b>*.zipæ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">unzip filename.zip<br></code></pre></td></tr></table></figure><p><b>*.raræ–‡ä»¶</b></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">unrar e filename.rar<br></code></pre></td></tr></table></figure><ul><li><strong>æŸ¥çœ‹ç£ç›˜å ç”¨æƒ…å†µ</strong></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">du -h --max-depth=0 *<br></code></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> å¤‡å¿˜å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å®éªŒå®¤é›†ç¾¤ç¯å¢ƒé…ç½®ï¼ˆåŒ…æ‹¬Anacondaç¯å¢ƒæ­å»ºã€Pytorchæ¡†æ¶çš„å®‰è£…å’ŒJupyter Notebookçš„é…ç½®ï¼‰</title>
      <link href="/2022/07/05/003-ServerEnvironmentConfig/"/>
      <url>/2022/07/05/003-ServerEnvironmentConfig/</url>
      
        <content type="html"><![CDATA[<h2 id="Anacondaç¯å¢ƒæ­å»º"><a href="#Anacondaç¯å¢ƒæ­å»º" class="headerlink" title="Anacondaç¯å¢ƒæ­å»º"></a><b>Anacondaç¯å¢ƒæ­å»º</b></h2><h3 id="1-å¤åˆ¶å‹ç¼©åŒ…"><a href="#1-å¤åˆ¶å‹ç¼©åŒ…" class="headerlink" title="1Â å¤åˆ¶å‹ç¼©åŒ…"></a>1Â å¤åˆ¶å‹ç¼©åŒ…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">home/xxÂ <span class="hljs-built_in">cp</span>Â Anaconda3-5.2.0-Linux-x86_64.shÂ Â home/xx<br>(ä¹Ÿå¯ç›´æ¥æ‰‹åŠ¨å¤åˆ¶ç²˜è´´æ–‡ä»¶)<br></code></pre></td></tr></table></figure><h3 id="2-å®‰è£…"><a href="#2-å®‰è£…" class="headerlink" title="2Â å®‰è£…"></a>2Â å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">bashÂ Anaconda3-5.2.0-Linux-x86_64.sh<br></code></pre></td></tr></table></figure><h3 id="3-æ·»åŠ åˆ°åˆ°PATH"><a href="#3-æ·»åŠ åˆ°åˆ°PATH" class="headerlink" title="3Â æ·»åŠ åˆ°åˆ°PATH"></a>3Â æ·»åŠ åˆ°åˆ°PATH</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span>Â ~/.bashrc<br>vi ~/.bashrc(æŸ¥çœ‹PATH)<br></code></pre></td></tr></table></figure><h2 id="Pytorchæ¡†æ¶å’Œè™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼ˆåœ¨Anaconda-Baseä¸‹ï¼‰"><a href="#Pytorchæ¡†æ¶å’Œè™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼ˆåœ¨Anaconda-Baseä¸‹ï¼‰" class="headerlink" title="Pytorchæ¡†æ¶å’Œè™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼ˆåœ¨AnacondaÂ Baseä¸‹ï¼‰"></a><b>Pytorchæ¡†æ¶å’Œè™šæ‹Ÿç¯å¢ƒå®‰è£…ï¼ˆåœ¨AnacondaÂ Baseä¸‹ï¼‰</b></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span>Â activateÂ base<br></code></pre></td></tr></table></figure><h3 id="1-æŸ¥çœ‹CUDAç‰ˆæœ¬"><a href="#1-æŸ¥çœ‹CUDAç‰ˆæœ¬" class="headerlink" title="1Â æŸ¥çœ‹CUDAç‰ˆæœ¬"></a>1Â æŸ¥çœ‹CUDAç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">nvccÂ -V<br></code></pre></td></tr></table></figure><h3 id="2-å®˜ç½‘pytorch-orgæŸ¥çœ‹pytorchå®‰è£…æŒ‡ä»¤"><a href="#2-å®˜ç½‘pytorch-orgæŸ¥çœ‹pytorchå®‰è£…æŒ‡ä»¤" class="headerlink" title="2Â å®˜ç½‘pytorch.orgæŸ¥çœ‹pytorchå®‰è£…æŒ‡ä»¤"></a>2Â å®˜ç½‘pytorch.orgæŸ¥çœ‹pytorchå®‰è£…æŒ‡ä»¤</h3><p>æ ¹æ®æ‰€åœ¨ç»“ç‚¹çš„CUDAç‰ˆæœ¬ï¼Œå®‰è£…å¯¹åº”æ”¯æŒçš„pytorchç‰ˆæœ¬ï¼Œç›´æ¥æ‹·è´å¦‚ä¸‹ä»£ç å³å¯å®‰è£…ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># CUDA 9.0</span><br>conda install pytorch==1.1.0 torchvision==0.3.0 cudatoolkit=9.0 -c pytorch<br><span class="hljs-comment"># CUDA 11.0+</span><br>pip install torch==1.8.0+cu111 torchvision==0.9.0+cu111 torchaudio==0.8.0 -f https://download.pytorch.org/whl/torch_stable.html<br><br></code></pre></td></tr></table></figure><h3 id="3-æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#3-æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="3Â æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ"></a>3Â æ£€æŸ¥æ˜¯å¦å®‰è£…æˆåŠŸ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python"><span class="hljs-keyword">import</span>Â torch<br>torch.cuda.is_available()<br>&gt;&gt;&gt;<span class="hljs-literal">True</span><br>(è¾“å‡º<span class="hljs-literal">True</span>ä»£è¡¨å®‰è£…æˆåŠŸ)<br></code></pre></td></tr></table></figure><h3 id="4-åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒ-å¯ä»¥ä¸å®‰è£…"><a href="#4-åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒ-å¯ä»¥ä¸å®‰è£…" class="headerlink" title="4Â åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒ(å¯ä»¥ä¸å®‰è£…)"></a>4Â åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒ(å¯ä»¥ä¸å®‰è£…)</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">condaÂ createÂ -nÂ nameÂ python=3.X<br></code></pre></td></tr></table></figure><h3 id="5-é€€å‡ºcondaç¯å¢ƒ"><a href="#5-é€€å‡ºcondaç¯å¢ƒ" class="headerlink" title="5Â é€€å‡ºcondaç¯å¢ƒ"></a>5Â é€€å‡ºcondaç¯å¢ƒ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">source</span>Â deactivate<br></code></pre></td></tr></table></figure><h2 id="é›†ç¾¤å®æ—¶è¿›ç¨‹æŸ¥çœ‹"><a href="#é›†ç¾¤å®æ—¶è¿›ç¨‹æŸ¥çœ‹" class="headerlink" title="é›†ç¾¤å®æ—¶è¿›ç¨‹æŸ¥çœ‹"></a><b>é›†ç¾¤å®æ—¶è¿›ç¨‹æŸ¥çœ‹</b></h2><h3 id="1-nvidia-smiå‘½ä»¤"><a href="#1-nvidia-smiå‘½ä»¤" class="headerlink" title="1Â nvidia-smiå‘½ä»¤"></a>1Â nvidia-smiå‘½ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ç”¨äºæŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µï¼Œå…¶ä¸­GPU Memory Usageå†³å®šäº†ä½ æ˜¯å¦è¿˜èƒ½æŒ¤ä¸€æŒ¤<br>ä½¿ç”¨ nvidia-smi -l å¯å®æ—¶åˆ·æ–°ï¼ˆæ¯éš”äº”ç§’ï¼‰<br></code></pre></td></tr></table></figure><h3 id="2-htopå‘½ä»¤"><a href="#2-htopå‘½ä»¤" class="headerlink" title="2 htopå‘½ä»¤"></a>2 htopå‘½ä»¤</h3><p><img src="https://i.loli.net/2021/07/05/8v6yGuxiVkdegwJ.png" alt="htop"><br>å…¶ä¸­å„å­—æ®µå«ä¹‰ï¼š<br>ï¼ˆ1ï¼‰çº¢çº¿ä¸Šæ–¹ä»å·¦è‡³å³ã€ä»ä¸Šè‡³ä¸‹ä¸ºï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">å·¦è¾¹éƒ¨åˆ†ä¸ºï¼šcpuã€å†…å­˜ã€äº¤æ¢åˆ†åŒºçš„ä½¿ç”¨æƒ…å†µï¼›<br>å³è¾¹éƒ¨åˆ†ä¸ºï¼šTasksä¸ºè¿›ç¨‹æ€»æ•°(87)ï¼Œçº¿ç¨‹æ€»æ•°(400)å½“å‰è¿è¡Œçš„è¿›ç¨‹æ•°ã€<br>Load averageä¸ºç³»ç»Ÿ1/5/10åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½æƒ…å†µã€Uptimeä¸ºç³»ç»Ÿè¿è¡Œçš„æ—¶é—´ã€‚<br></code></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰çº¢çº¿ä¸‹æ–¹å„å­—æ®µçš„æ„ä¹‰å¦‚ä¸‹ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">PIDï¼šè¿›è¡Œçš„æ ‡è¯†å·<br>USERï¼šè¿è¡Œæ­¤è¿›ç¨‹çš„ç”¨æˆ·<br>PRIï¼šè¿›ç¨‹çš„ä¼˜å…ˆçº§<br>NIï¼šè¿›ç¨‹çš„ä¼˜å…ˆçº§åˆ«å€¼ï¼Œé»˜è®¤çš„ä¸º0ï¼Œå¯ä»¥è¿›è¡Œè°ƒæ•´, è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ï¼Œæœ€å°-20ï¼Œæœ€å¤§20ï¼ˆç”¨æˆ·è®¾ç½®æœ€å¤§19ï¼‰<br>VIRTï¼šè¿›ç¨‹å ç”¨çš„è™šæ‹Ÿå†…å­˜å€¼<br>RESï¼šè¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜å€¼<br>SHRï¼šè¿›ç¨‹å ç”¨çš„å…±äº«å†…å­˜å€¼<br>Sï¼šè¿›ç¨‹çš„è¿è¡ŒçŠ¶å†µï¼ŒRï¼ˆRunningï¼Œè¿›ç¨‹æ­£åœ¨è¿è¡Œï¼‰ã€Sï¼ˆSleepï¼Œè¿›ç¨‹ä¼‘çœ ï¼‰ã€Tï¼ˆTracedï¼Œè¿›ç¨‹åœæ­¢ï¼‰ã€Zï¼ˆZombieï¼Œåƒµå°¸è¿›ç¨‹ï¼‰å’ŒDï¼ˆDisk sleepï¼Œç¡¬ç›˜ä¼‘çœ ï¼‰<br>CPU%ï¼šè¯¥è¿›ç¨‹å ç”¨çš„CPUä½¿ç”¨ç‡<br>MEM%ï¼šè¯¥è¿›ç¨‹å ç”¨çš„ç‰©ç†å†…å­˜å’Œæ€»å†…å­˜çš„ç™¾åˆ†æ¯”<br>TIME+ï¼šè¯¥è¿›ç¨‹å¯åŠ¨åå ç”¨çš„æ€»çš„CPUæ—¶é—´<br>COMMANDï¼šè¿›ç¨‹å¯åŠ¨çš„å¯åŠ¨å‘½ä»¤åç§°<br></code></pre></td></tr></table></figure><h2 id="Jupyter-notebooké…ç½®"><a href="#Jupyter-notebooké…ç½®" class="headerlink" title="JupyterÂ notebooké…ç½®"></a><b>JupyterÂ notebooké…ç½®</b></h2><h3 id="1-åˆ›å»ºé»˜è®¤configé…ç½®æ–‡ä»¶"><a href="#1-åˆ›å»ºé»˜è®¤configé…ç½®æ–‡ä»¶" class="headerlink" title="1Â åˆ›å»ºé»˜è®¤configé…ç½®æ–‡ä»¶"></a>1Â åˆ›å»ºé»˜è®¤configé…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">jupyterÂ notebookÂ --generate-config<br></code></pre></td></tr></table></figure><h3 id="2-ç”Ÿæˆè®¿é—®å¯†ç -æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæ ¹ç›®å½•ä¸‹è¾“å…¥ipythonè¿›å…¥ç¼–è¯‘"><a href="#2-ç”Ÿæˆè®¿é—®å¯†ç -æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæ ¹ç›®å½•ä¸‹è¾“å…¥ipythonè¿›å…¥ç¼–è¯‘" class="headerlink" title="2Â ç”Ÿæˆè®¿é—®å¯†ç (æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæ ¹ç›®å½•ä¸‹è¾“å…¥ipythonè¿›å…¥ç¼–è¯‘)"></a>2Â ç”Ÿæˆè®¿é—®å¯†ç (æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œæ ¹ç›®å½•ä¸‹è¾“å…¥ipythonè¿›å…¥ç¼–è¯‘)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">In[1]:Â fromÂ notebook.authÂ importÂ passwd<br>In[2]:Â passwd()<br>Enter:Â XXXXXX<br>Verify:Â XXXXXX<br>Out[2]:Â sha1:Â &#x27;xxxxxxxxxxxxxxxx&#x27;<br>(çª—å£æš‚æ—¶ä¸è¦å…³é—­ï¼Œå°†å¼•å·å†…çš„å­—ç¬¦ä¸²å†…å®¹æ‹·è´å‡ºæ¥ï¼Œä¸‹ä¸€æ­¥ä¼šç”¨åˆ°)<br></code></pre></td></tr></table></figure><p><img src="https://i.loli.net/2021/07/05/PKaOJh7fB2tHijE.png"></p><h3 id="3-ä¿®æ”¹é…ç½®æ–‡ä»¶jupyter-notebook-config-py"><a href="#3-ä¿®æ”¹é…ç½®æ–‡ä»¶jupyter-notebook-config-py" class="headerlink" title="3Â ä¿®æ”¹é…ç½®æ–‡ä»¶jupyter_notebook_config.py"></a>3Â ä¿®æ”¹é…ç½®æ–‡ä»¶jupyter_notebook_config.py</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">è®¾ç½®æ‰€æœ‰ipå¯è®¿é—®<br>Line204:Â c.NotebookApp.ip=&#x27;*&#x27;<br>è®¾ç½®ç¦æ­¢è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨<br>Line272:Â c.NotebookApp.open_browserÂ =Â FalseÂ <br>è®¾ç½®è®¿é—®å¯†ç <br>Line281:Â c.NotebookApp.passwordÂ =Â u&#x27;xxxxxxxxxxxxxxxx&#x27; ï¼ˆå°†ä¸Šä¸€æ­¥ä¸­æ‹·è´è¿‡æ¥çš„å­—ç¬¦ä¸²æ”¾å…¥å¼•å·ä¸­å³å¯ï¼‰<br>è®¾ç½®ç«¯å£å·ï¼Œå¯è‡ªå®šä¹‰ï¼Œå°½é‡ä¸è¦è®¾ç½®8888ï¼Œå¯èƒ½ä¼šå’Œå…¶ä»–äººå†²çª<br>Line292:Â c.NotebookApp.portÂ =Â 1234Â Â <br></code></pre></td></tr></table></figure><h3 id="4-è®¿é—®"><a href="#4-è®¿é—®" class="headerlink" title="4Â è®¿é—®"></a>4Â è®¿é—®</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">åœ¨ç¯å¢ƒä¸‹è¾“å…¥jupyterÂ notebook<br>æ‰“å¼€æµè§ˆå™¨åœ°å€æ è¾“å…¥:Â http://ip:1234Â Â <br></code></pre></td></tr></table></figure><h3 id="5-æ’ä»¶å®‰è£…"><a href="#5-æ’ä»¶å®‰è£…" class="headerlink" title="5 æ’ä»¶å®‰è£…"></a>5 æ’ä»¶å®‰è£…</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">python -m pip install jupyter_contrib_nbextensions<br>jupyter contrib nbextensions install --user --skip-running-check<br></code></pre></td></tr></table></figure><p>å®‰è£…å®ŒæˆåJupyteré¡µé¢ä¼šå‡ºç°ç¬¬å››æ Nbextensionsï¼Œå‹¾é€‰ç›¸åº”æ’ä»¶å³å¯ä½¿ç”¨ï¼<br>å¸¸ç”¨æ’ä»¶ï¼š</p><ul><li>å˜é‡é«˜äº® Highlight selected word</li><li>ä»£ç å—æŠ˜å  Codefolding</li><li>ç¨‹åºæ‰§è¡Œæ—¶é—´ Execute time</li><li>ä»£ç æç¤º Hinterland<br>ç­‰ç­‰â€¦â€¦<br><img src="https://i.loli.net/2021/07/14/4vCz8BYl1NtPViu.png"></li></ul><h2 id="è¡¥å……ï¼šVS-Codeé…ç½®ï¼šä½¿ç”¨VS-Code-SSHè¿›è¡Œè¿œç¨‹å¼€å‘"><a href="#è¡¥å……ï¼šVS-Codeé…ç½®ï¼šä½¿ç”¨VS-Code-SSHè¿›è¡Œè¿œç¨‹å¼€å‘" class="headerlink" title="è¡¥å……ï¼šVS Codeé…ç½®ï¼šä½¿ç”¨VS Code + SSHè¿›è¡Œè¿œç¨‹å¼€å‘"></a><b>è¡¥å……ï¼šVS Codeé…ç½®ï¼šä½¿ç”¨VS Code + SSHè¿›è¡Œè¿œç¨‹å¼€å‘</b></h2><p>PS. åªæ˜¯å› ä¸ºæˆ‘å–œæ¬¢ç”¨VS Codeå†™ä»£ç ï¼ˆæ•™ç¨‹å¤ªé•¿ï¼Œç”©é“¾æ¥ï¼‰<br>Part1. <a href="https://blog.csdn.net/Mculover666/article/details/90439669">https://blog.csdn.net/Mculover666/article/details/90439669</a><br>ï¼ˆçœ‹è¿™ä¸ªè¶³å¤Ÿäº†ï¼‰<br>Part2. <a href="https://blog.csdn.net/maybeYoc/article/details/89979223">https://blog.csdn.net/maybeYoc/article/details/89979223</a><br>ï¼ˆå¤‡ç”¨ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> Pytorch </tag>
            
            <tag> ç¯å¢ƒé…ç½® </tag>
            
            <tag> Conda </tag>
            
            <tag> Jupyter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ·±åº¦å­¦ä¹ ç®—æ³•ä¸­çš„Hello-Worldï¼šç”¨LeNetæ¨¡å‹å®ç°æ‰‹å†™æ•°å­—è¯†åˆ«</title>
      <link href="/2022/07/05/002-LeNet_Mnist/"/>
      <url>/2022/07/05/002-LeNet_Mnist/</url>
      
        <content type="html"><![CDATA[<h2 id="ä¸€ã€Mnistæ•°æ®é›†ä»‹ç»"><a href="#ä¸€ã€Mnistæ•°æ®é›†ä»‹ç»" class="headerlink" title="ä¸€ã€Mnistæ•°æ®é›†ä»‹ç»"></a>ä¸€ã€Mnistæ•°æ®é›†ä»‹ç»</h2><p>æ•°æ®é›†çš„å†…å®¹ï¼šåŒ…å«0-9çš„æ‰‹å†™æ•°å­—<br>æ•°æ®é›†çš„æ•°é‡ï¼š60000ä¸ªè®­ç»ƒé›†&#x2F;10000ä¸ªæµ‹è¯•é›†<br>æ•°æ®é›†çš„æ ¼å¼ï¼š28*28<br>æ•°æ®é›†é€šé“æ•°ï¼šç°åº¦å›¾ï¼ˆå•é€šé“é€šé“ï¼‰</p><h2 id="äºŒã€LeNetä¸ƒå±‚æ¨¡å‹"><a href="#äºŒã€LeNetä¸ƒå±‚æ¨¡å‹" class="headerlink" title="äºŒã€LeNetä¸ƒå±‚æ¨¡å‹"></a>äºŒã€LeNetä¸ƒå±‚æ¨¡å‹</h2><h3 id="1ã€C1å·ç§¯å±‚ï¼š6ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5-5ï¼Œæ¿€æ´»å‡½æ•°ReLu"><a href="#1ã€C1å·ç§¯å±‚ï¼š6ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5-5ï¼Œæ¿€æ´»å‡½æ•°ReLu" class="headerlink" title="1ã€C1å·ç§¯å±‚ï¼š6ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5*5ï¼Œæ¿€æ´»å‡½æ•°ReLu"></a>1ã€C1å·ç§¯å±‚ï¼š6ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5*5ï¼Œæ¿€æ´»å‡½æ•°ReLu</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(Conv2D(<span class="hljs-number">6</span>, kernel_size = (<span class="hljs-number">5</span>,<span class="hljs-number">5</span>), activation = <span class="hljs-string">&#x27;relu&#x27;</span>, input_shape = (<span class="hljs-number">28</span>,<span class="hljs-number">28</span>,<span class="hljs-number">1</span>)))<br></code></pre></td></tr></table></figure><h3 id="2ã€S2æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–"><a href="#2ã€S2æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–" class="headerlink" title="2ã€S2æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–"></a>2ã€S2æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(MaxPooling2D(pool_size = (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)))<br></code></pre></td></tr></table></figure><h3 id="3ã€C3å·ç§¯å±‚ï¼š16ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5-5ï¼Œæ¿€æ´»å‡½æ•°ReLu"><a href="#3ã€C3å·ç§¯å±‚ï¼š16ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5-5ï¼Œæ¿€æ´»å‡½æ•°ReLu" class="headerlink" title="3ã€C3å·ç§¯å±‚ï¼š16ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5*5ï¼Œæ¿€æ´»å‡½æ•°ReLu"></a>3ã€C3å·ç§¯å±‚ï¼š16ä¸ªå·ç§¯æ ¸ï¼Œå¤§å°ä¸º5*5ï¼Œæ¿€æ´»å‡½æ•°ReLu</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(Conv2D(<span class="hljs-number">16</span>, kernel_size = (<span class="hljs-number">5</span>,<span class="hljs-number">5</span>), activation = <span class="hljs-string">&#x27;relu&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="4ã€S4æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–"><a href="#4ã€S4æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–" class="headerlink" title="4ã€S4æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–"></a>4ã€S4æ± åŒ–å±‚ï¼šæœ€å¤§æ± åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(MaxPooling2D(pool_size = (<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)))<br></code></pre></td></tr></table></figure><h3 id="5ã€C5å…¨è¿æ¥å±‚ï¼šå‚æ•°æ‰å¹³åŒ–ï¼Œåœ¨LeNet5ç§°ä¹‹ä¸ºå·ç§¯å±‚ï¼Œå®é™…ä¸Šè¿™ä¸€å±‚æ˜¯ä¸€ç»´å‘é‡ï¼Œå’Œå…¨è¿æ¥å±‚ä¸€æ ·"><a href="#5ã€C5å…¨è¿æ¥å±‚ï¼šå‚æ•°æ‰å¹³åŒ–ï¼Œåœ¨LeNet5ç§°ä¹‹ä¸ºå·ç§¯å±‚ï¼Œå®é™…ä¸Šè¿™ä¸€å±‚æ˜¯ä¸€ç»´å‘é‡ï¼Œå’Œå…¨è¿æ¥å±‚ä¸€æ ·" class="headerlink" title="5ã€C5å…¨è¿æ¥å±‚ï¼šå‚æ•°æ‰å¹³åŒ–ï¼Œåœ¨LeNet5ç§°ä¹‹ä¸ºå·ç§¯å±‚ï¼Œå®é™…ä¸Šè¿™ä¸€å±‚æ˜¯ä¸€ç»´å‘é‡ï¼Œå’Œå…¨è¿æ¥å±‚ä¸€æ ·"></a>5ã€C5å…¨è¿æ¥å±‚ï¼šå‚æ•°æ‰å¹³åŒ–ï¼Œåœ¨LeNet5ç§°ä¹‹ä¸ºå·ç§¯å±‚ï¼Œå®é™…ä¸Šè¿™ä¸€å±‚æ˜¯ä¸€ç»´å‘é‡ï¼Œå’Œå…¨è¿æ¥å±‚ä¸€æ ·</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(Flatten())<br>model.add(Dense(<span class="hljs-number">120</span>, activation = <span class="hljs-string">&#x27;relu&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="6ã€F6å…¨è¿æ¥å±‚ï¼šè¾“å‡ºèŠ‚ç‚¹ä¸º84ä¸ª"><a href="#6ã€F6å…¨è¿æ¥å±‚ï¼šè¾“å‡ºèŠ‚ç‚¹ä¸º84ä¸ª" class="headerlink" title="6ã€F6å…¨è¿æ¥å±‚ï¼šè¾“å‡ºèŠ‚ç‚¹ä¸º84ä¸ª"></a>6ã€F6å…¨è¿æ¥å±‚ï¼šè¾“å‡ºèŠ‚ç‚¹ä¸º84ä¸ª</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(Dense(<span class="hljs-number">84</span>, activation = <span class="hljs-string">&#x27;relu&#x27;</span>))<br></code></pre></td></tr></table></figure><h3 id="7ã€Outputè¾“å‡ºå±‚ï¼šç”¨softmaxæ¿€æ´»å‡½æ•°è®¡ç®—åˆ†ç±»æ¦‚ç‡"><a href="#7ã€Outputè¾“å‡ºå±‚ï¼šç”¨softmaxæ¿€æ´»å‡½æ•°è®¡ç®—åˆ†ç±»æ¦‚ç‡" class="headerlink" title="7ã€Outputè¾“å‡ºå±‚ï¼šç”¨softmaxæ¿€æ´»å‡½æ•°è®¡ç®—åˆ†ç±»æ¦‚ç‡"></a>7ã€Outputè¾“å‡ºå±‚ï¼šç”¨softmaxæ¿€æ´»å‡½æ•°è®¡ç®—åˆ†ç±»æ¦‚ç‡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.add(Dense(<span class="hljs-number">10</span>, activation = <span class="hljs-string">&#x27;softmax&#x27;</span>))<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€æ¨¡å‹è®­ç»ƒ"><a href="#ä¸‰ã€æ¨¡å‹è®­ç»ƒ" class="headerlink" title="ä¸‰ã€æ¨¡å‹è®­ç»ƒ"></a>ä¸‰ã€æ¨¡å‹è®­ç»ƒ</h2><h3 id="1ã€æ•°æ®åŠ è½½"><a href="#1ã€æ•°æ®åŠ è½½" class="headerlink" title="1ã€æ•°æ®åŠ è½½"></a>1ã€æ•°æ®åŠ è½½</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">(train_x,train_y),(test_x,test_y) = mnist.load_data()<br></code></pre></td></tr></table></figure><h3 id="2ã€è¾“å…¥æ•°æ®ä¸ºmnistæ•°æ®é›†"><a href="#2ã€è¾“å…¥æ•°æ®ä¸ºmnistæ•°æ®é›†" class="headerlink" title="2ã€è¾“å…¥æ•°æ®ä¸ºmnistæ•°æ®é›†"></a>2ã€è¾“å…¥æ•°æ®ä¸ºmnistæ•°æ®é›†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs Python">train_x = train_x.reshape(train_x.shape[<span class="hljs-number">0</span>], <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>) / <span class="hljs-number">255</span><br>test_x = test_x.reshape(test_x.shape[<span class="hljs-number">0</span>], <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>) / <span class="hljs-number">255</span><br>train_y = keras.utils.to_categorical(train_y, <span class="hljs-number">10</span>)<br>test_y = keras.utils.to_categorical(test_y, <span class="hljs-number">10</span>)<br></code></pre></td></tr></table></figure><h3 id="3ã€è®¾ç½®æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨é…ç½®"><a href="#3ã€è®¾ç½®æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨é…ç½®" class="headerlink" title="3ã€è®¾ç½®æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨é…ç½®"></a>3ã€è®¾ç½®æŸå¤±å‡½æ•°å’Œä¼˜åŒ–å™¨é…ç½®</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.<span class="hljs-built_in">compile</span>(loss = keras.metrics.categorical_crossentropy, optimizer = keras.optimizers.Adam(), metrics = [<span class="hljs-string">&#x27;accuracy&#x27;</span>])<br></code></pre></td></tr></table></figure><h3 id="4ã€ä¼ å…¥è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒ"><a href="#4ã€ä¼ å…¥è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒ" class="headerlink" title="4ã€ä¼ å…¥è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒ"></a>4ã€ä¼ å…¥è®­ç»ƒæ•°æ®è¿›è¡Œè®­ç»ƒ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">model.fit(train_x, train_y, batch_size = <span class="hljs-number">128</span>, epochs = <span class="hljs-number">5</span>, verbose = <span class="hljs-number">1</span>, validation_data = (test_x,test_y))<br></code></pre></td></tr></table></figure><h3 id="5ã€å¯¹ç»“æœè¿›è¡Œè¯„ä¼°"><a href="#5ã€å¯¹ç»“æœè¿›è¡Œè¯„ä¼°" class="headerlink" title="5ã€å¯¹ç»“æœè¿›è¡Œè¯„ä¼°"></a>5ã€å¯¹ç»“æœè¿›è¡Œè¯„ä¼°</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Python">score = model.evaluate(test_x, test_y)<br></code></pre></td></tr></table></figure><h2 id="å››ã€è®­ç»ƒç»“æœåŠå‡†ç¡®ç‡"><a href="#å››ã€è®­ç»ƒç»“æœåŠå‡†ç¡®ç‡" class="headerlink" title="å››ã€è®­ç»ƒç»“æœåŠå‡†ç¡®ç‡"></a>å››ã€è®­ç»ƒç»“æœåŠå‡†ç¡®ç‡</h2><p><img src="https://i.loli.net/2021/07/05/uVxbZ7TaRqkijHf.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> å›¾åƒåˆ†ç±» </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Keras </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç½‘çƒç›¸å…³</title>
      <link href="/2022/07/02/031-Tennis/"/>
      <url>/2022/07/02/031-Tennis/</url>
      
        <content type="html"><![CDATA[<h1 id="çƒæ‹ï¼ˆçƒæ‹å‚æ•°æŸ¥è¯¢ï¼‰"><a href="#çƒæ‹ï¼ˆçƒæ‹å‚æ•°æŸ¥è¯¢ï¼‰" class="headerlink" title="çƒæ‹ï¼ˆçƒæ‹å‚æ•°æŸ¥è¯¢ï¼‰"></a>çƒæ‹ï¼ˆ<a href="https://www.racketlogger.com/racket">çƒæ‹å‚æ•°æŸ¥è¯¢</a>ï¼‰</h1><ul><li>ç©ºæ‹é‡é‡</li><li>ç©¿çº¿é‡é‡</li><li>å¹³è¡¡ç‚¹<br>X pts HLï¼ŒHLå‰é¢çš„æ•°å€¼Xè¶Šå¤§å…¶æŒ¥é‡è¶Šä½ï¼Œè€Œæ•°å€¼è¶Šå°å…¶æŒ¥é‡è¶Šå¤§ã€‚X pts HHï¼Œæ•°å€¼è¶Šå¤§æŒ¥é‡è¶Šå¤§ï¼Œæ•°å€¼è¶Šå°æŒ¥é‡è¶Šå°ã€‚</li><li>æ‹é¢å°ºå¯¸</li><li>ç¡¬åº¦<br>çƒæ‹è¢«å‡»ä¸­åå¼¯æ›²çš„ç¨‹åº¦ï¼Œç”¨â€œRAâ€è¯„çº§æ¥è¡¡é‡ã€‚æ¯”è¾ƒç¡¬çš„çƒæ‹èƒ½ç»™çƒå¸¦æ¥æ›´å¤šçš„èƒ½é‡ï¼Œä½†å¯¹æ‰‹è‡‚çš„æ‰“å‡»æ›´å¤§ï¼ŒæŒ¯åŠ¨æ›´å¤§ï¼Œä¸æ¯”è¾ƒçµæ´»çš„çƒæ‹ç›¸æ¯”ï¼Œæ„Ÿè§‰å’Œæ§åˆ¶åŠ›æ›´å¼±ã€‚</li><li>æŒ¥é‡<br>æ‹å­æŒ¥èµ·æ¥çš„é‡é‡æœ‰å¤šå¤§ï¼Œè€ŒæŒ¥é‡çš„å¤§å°åˆ™å–å†³äºæ‹å­çš„å¹³è¡¡ç‚¹ã€‚æŒ¥é‡æ›´å¤§çš„æ‹å­æ›´éš¾å»æŒ¥åŠ¨ï¼Œçµæ´»æ€§ä¹Ÿä¼šå˜å·®ï¼Œä½†æ˜¯å…¶å‡»çƒåŠ›é“ä¼šæ›´å¼ºï¼Œè€ŒæŒ¥é‡ä½çš„æ‹å­çµæ´»æ€§æ›´å¥½ï¼ŒæŒ¥æ‹é€Ÿåº¦æ›´å¿«ï¼Œä½†æ˜¯çƒè´¨ä¼šç¨å·®ä¸€äº›ã€‚æŒ¥é‡ä½çš„æ‹å­ä¹Ÿå¯ä»¥é€šè¿‡å¢åŠ æ‹å­è‡ªèº«æ›´å¤§çš„é‡é‡æ¥å¼¥è¡¥ã€‚</li><li>çº¿åºŠ</li><li>çƒæ‹é•¿åº¦</li><li>æ‹æ¡†åšåº¦<br>ä¸‰ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨çš„æ˜¯æ‹å¤´éƒ¨åˆ†æ‹æ¡†çš„åšåº¦ï¼Œè€Œç¬¬äºŒä¸ªæ•°å­—ä»£è¡¨çš„æ˜¯æ‹å­ç”œåŒºå·¦å³ä¸¤ä¾§ï¼ˆ3ç‚¹ &amp; 9ç‚¹ï¼‰æ‹æ¡†çš„åšåº¦ï¼Œæœ€åä¸€ä¸ªæ•°å­—ä»£è¡¨çš„ä¸‰è§’åŒºï¼ˆæ‹å–‰ï¼‰çš„åšåº¦ã€‚æ›´åšçš„æ‹æ¡†æ‹¥æœ‰æ›´å¥½çš„é¿éœ‡å’ŒåŠ›é‡ï¼Œè€Œæ›´è–„çš„æ‹æ¡†æ‹¥æœ‰æ›´å¥½çš„æ‰‹æ„Ÿåé¦ˆå’Œæ§åˆ¶ã€‚</li></ul><h1 id="çƒæ‹çº¿ï¼ˆçƒçº¿æµ‹è¯„ç½‘ç«™ï¼‰"><a href="#çƒæ‹çº¿ï¼ˆçƒçº¿æµ‹è¯„ç½‘ç«™ï¼‰" class="headerlink" title="çƒæ‹çº¿ï¼ˆçƒçº¿æµ‹è¯„ç½‘ç«™ï¼‰"></a>çƒæ‹çº¿ï¼ˆ<a href="https://www.stringforum.net/stringsearch.php">çƒçº¿æµ‹è¯„ç½‘ç«™</a>ï¼‰</h1><p><strong>ï¼ˆæ³¨æ„äº‹é¡¹ï¼‰</strong>å‰ªçº¿é¡ºåºï¼šä»ä¸‹å¾€ä¸Šç«–ç›´å‰ªè‡³ç”œç‚¹å¤„ï¼Œå†å‘å·¦å³ä¸¤ä¾§æ¨ªå‰ªï¼Œæœ€åç«–ç›´å‰ªè‡³æ‹å¤´ï¼Œæœ€å¤§é™åº¦åœ°ä¿æŠ¤æ‹æ¡†ã€‚</p><h2 id="çƒçº¿ç±»å‹"><a href="#çƒçº¿ç±»å‹" class="headerlink" title="çƒçº¿ç±»å‹"></a>çƒçº¿ç±»å‹</h2><ul><li>ç¡¬çº¿ï¼ˆèšé…¯çº¿ï¼‰<br>å¼¹åŠ›ç¨å·®ï¼Œå›æ—‹æ²¡æœ‰è½¯çº¿å¼ºåŠ²ï¼Œæ‰“èµ·æ¥çƒé€Ÿç¨æ…¢ï¼Œä½†æ˜¯éå¸¸ç¨³ï¼Œä½¿ç”¨å¯¿å‘½å¾ˆé•¿ã€‚</li><li>è½¯çº¿ï¼ˆä»¿ç¾Šè‚ çº¿ç­‰ï¼‰<br>å¼¹æ€§å¼ºï¼Œçƒé€Ÿå¿«ï¼Œé€‚åˆæ‰“å¼ºåŠ›ä¸Šæ—‹çš„é€‰æ‰‹ä½¿ç”¨ï¼Œä½†å¯¿å‘½çŸ­ï¼Œå®¹æ˜“å´©çº¿ã€‚</li><li>å­æ¯çº¿<br>æ¨ªç«–é‡‡ç”¨ä¸åŒçš„ç½‘çƒçº¿ã€‚é€šå¸¸æ­é…ä¸ºï¼šç«–çº¿-èšé…¯çº¿ï¼ˆç¡¬çº¿ï¼‰ï¼Œæ¨ªçº¿-ï¼ˆä»¿ç¾Šè‚ çº¿&#x2F;ç¾Šè‚ çº¿ï¼‰</li></ul><h2 id="çƒçº¿ç‰¹æ€§"><a href="#çƒçº¿ç‰¹æ€§" class="headerlink" title="çƒçº¿ç‰¹æ€§"></a>çƒçº¿ç‰¹æ€§</h2><ul><li>ç£…æ•°</li><li>æ‰‹æ„Ÿ</li><li>åŠ›é‡</li><li>æ§åˆ¶</li><li>æ—‹è½¬</li></ul><p>è¦ç‚¹ï¼š<br>ï¼ˆ1ï¼‰çº¿å¾„è¶Šç²—ï¼Œè€æ‰“æ€§è¶Šå¥½ï¼Œæ‰ç£…è¶Šæ…¢ã€‚<br>ï¼ˆ2ï¼‰å¯†é›†çº¿åºŠï¼ˆ18Ã—20ï¼‰æ›´å®¹æ˜“æ‰“å¹³å‡»ï¼Œç¨€ç–çº¿åºŠï¼ˆ16Ã—19ï¼‰æ›´é€‚åˆæ‰“ä¸Šæ—‹ã€‚<br>ï¼ˆ3ï¼‰ç©¿çº¿æ—¶ï¼Œç›¸åŒç£…æ•°ç©¿å®Œåï¼Œæ¨ªçº¿ä¼šä½2ç£…ï¼Œå› æ­¤å¦‚æœæƒ³è¦æ¨ªç«–ç›¸åŒï¼Œåˆ™æ¨ªçº¿éœ€è¦æ¨ªçº¿éœ€è¦æ¯”ç«–çº¿é«˜2ç£…ã€‚ï¼ˆå­æ¯çº¿å·®1ç£…ï¼‰<br>ï¼ˆ4ï¼‰ç«–çº¿ä¸»è¦æ˜¯åŠ›é‡å’Œæ—‹è½¬ï¼Œå› æ­¤ä¼šé€‰æ‹©ç«–çº¿æ‹‰æ›´é«˜çš„ç£…æ•°ã€‚<br>ï¼ˆ5ï¼‰ç©¿çº¿å24å°æ—¶å†…ç£…æ•°ä¼šè¡°å‡çº¦10%ï¼Œç„¶åé€æ—¥è¡°å‡è‡³ç¨³å®šåœ¨40~50ç£…ä¹‹é—´ã€‚<br><strong>ç»ƒä¹ ç½‘çƒå»ºè®®ä½¿ç”¨ç¡¬çº¿ï¼Œå¢åŠ æ‰‹æ„Ÿã€‚æ“…é•¿è¿›æ”»ï¼Œä½¿ç”¨è½¯çº¿ï¼›å¦‚æœä½ é€‚åˆç¨³å¥é˜²å®ˆåå‡»ï¼Œå»ºè®®ç¡¬çº¿ã€‚</strong></p><h1 id="ç½‘çƒ"><a href="#ç½‘çƒ" class="headerlink" title="ç½‘çƒ"></a>ç½‘çƒ</h1><h1 id="æ­£æ‰‹å‡»çƒ"><a href="#æ­£æ‰‹å‡»çƒ" class="headerlink" title="æ­£æ‰‹å‡»çƒ"></a>æ­£æ‰‹å‡»çƒ</h1><h1 id="åŒåå‡»çƒ"><a href="#åŒåå‡»çƒ" class="headerlink" title="åŒåå‡»çƒ"></a>åŒåå‡»çƒ</h1>]]></content>
      
      
      <categories>
          
          <category> å­¦ä¹ ç¬”è®° </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç½‘çƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è½¬è½½ï¼šAwesome Visual-Transformer</title>
      <link href="/2022/07/01/023-Visual-Transformers/"/>
      <url>/2022/07/01/023-Visual-Transformers/</url>
      
        <content type="html"><![CDATA[<p>è½¬è½½è‡ªï¼š[<a href="https://github.com/dk-liang/Awesome-Visual-Transformer">Awesome Visual-Transformer</a>]<br>Collect some Transformer with Computer-Vision (CV) papers. </p><hr><h1 id="Awesome-Visual-Transformer"><a href="#Awesome-Visual-Transformer" class="headerlink" title="Awesome Visual-Transformer"></a>Awesome Visual-Transformer</h1><h2 id="Papers"><a href="#Papers" class="headerlink" title="Papers"></a>Papers</h2><h3 id="Transformer-original-paper"><a href="#Transformer-original-paper" class="headerlink" title="Transformer original paper"></a>Transformer original paper</h3><ul><li><a href="https://arxiv.org/abs/1706.03762">Attention is All You Need</a> (NIPS 2017)</li></ul><h3 id="ç»¼è¿°"><a href="#ç»¼è¿°" class="headerlink" title="ç»¼è¿°"></a>ç»¼è¿°</h3><ul><li>Transformers in Vision: A Survey [<a href="https://arxiv.org/abs/2101.01169">paper</a>]   - 2021.02.22</li><li>A Survey on Visual Transformer [<a href="https://arxiv.org/abs/2012.12556">paper</a>]   - 2020.1.30</li><li>A Survey of Transformers  [<a href="https://arxiv.org/abs/2106.04554">paper</a>]   - 2020.6.09</li></ul><h3 id="arXiv-papers"><a href="#arXiv-papers" class="headerlink" title="arXiv papers"></a>arXiv papers</h3><ul><li><strong>[CrossFormer]</strong> CrossFormer: A Versatile Vision Transformer Based on Cross-scale Attention [<a href="https://arxiv.org/abs/2108.00154v1">paper</a>] [<a href="https://github.com/cheerss/CrossFormer">code</a>]</li><li><strong>[Styleformer]</strong> Styleformer: Transformer based Generative Adversarial Networks with Style Vector [<a href="https://arxiv.org/abs/2106.07023">paper</a>] [<a href="https://github.com/Jeeseung-Park/Styleformer">code</a>]</li><li><strong>[CMT]</strong> CMT: Convolutional Neural Networks Meet Vision Transformers [<a href="https://arxiv.org/abs/2107.06263">paper</a>]</li><li><strong>[TransAttUnet]</strong> TransAttUnet: Multi-level Attention-guided U-Net with Transformer for Medical Image Segmentation [<a href="https://arxiv.org/abs/2107.05274">paper</a>]</li><li>TransClaw U-Net: Claw U-Net with Transformers for Medical Image Segmentation [<a href="https://arxiv.org/abs/2107.05188">paper</a>]</li><li><strong>[ViTGAN]</strong> ViTGAN: Training GANs with Vision Transformers [<a href="https://arxiv.org/abs/2107.04589">paper</a>]</li><li>What Makes for Hierarchical Vision Transformer? [<a href="https://arxiv.org/abs/2107.02174">paper</a>]</li><li>CSWin Transformer: A General Vision Transformer Backbone with Cross-Shaped Windows [<a href="https://arxiv.org/abs/2107.00652">paper</a>] [<a href="https://github.com/microsoft/CSWin-Transformer">code</a>]</li><li><strong>[Trans4Trans]</strong> Trans4Trans: Efficient Transformer for Transparent Object Segmentation to Help Visually Impaired People Navigate in the Real World [<a href="https://arxiv.org/abs/2107.03172">paper</a>] </li><li><strong>[FFVT]</strong> Feature Fusion Vision Transformer for Fine-Grained Visual Categorization [<a href="https://arxiv.org/abs/2107.02341">paper</a>] </li><li><strong>[TransformerFusion]</strong> TransformerFusion: Monocular RGB Scene Reconstruction using Transformers [<a href="https://arxiv.org/abs/2107.02191">paper</a>]</li><li>Escaping the Big Data Paradigm with Compact Transformers [<a href="https://arxiv.org/pdf/2104.05704.pdf">paper</a>]</li><li>How to train your ViT? Data, Augmentation,and Regularization in Vision Transformers [<a href="https://arxiv.org/pdf/2106.10270.pdf">paper</a>]</li><li>Beyond Self-attention: External Attention using Two Linear Layers for Visual Tasks [<a href="https://arxiv.org/pdf/2105.02358.pdf">paper</a>]</li><li><strong>[XCiT]</strong> XCiT: Cross-Covariance Image Transformers [<a href="https://arxiv.org/pdf/2106.09681.pdf">paper</a>] [<a href="https://github.com/facebookresearch/xcit">code</a>]</li><li>Shuffle Transformer: Rethinking Spatial Shuffle for Vision Transformer [<a href="https://arxiv.org/abs/2106.03650">paper</a>] [<a href="https://github.com/mulinmeng/Shuffle-Transformer">code</a>]</li><li>Video Swin Transformer [<a href="https://arxiv.org/abs/2106.13230">paper</a>] [<a href="https://github.com/SwinTransformer/Video-Swin-Transformer">code</a>]</li><li><strong>[VOLO]</strong> VOLO: Vision Outlooker for Visual Recognition [<a href="https://arxiv.org/abs/2106.13112">paper</a>] [<a href="https://github.com/sail-sg/volo">code</a>]</li><li>Transformer Meets Convolution: A Bilateral Awareness Net-work for Semantic Segmentation of Very Fine Resolution Ur-ban Scene Images [<a href="https://arxiv.org/abs/2106.12413">paper</a>] </li><li><strong>[P2T]</strong> P2T: Pyramid Pooling Transformer for Scene Understanding [<a href="https://arxiv.org/abs/2106.12011">paper</a>]</li><li><strong>[DocFormer]</strong> DocFormer: End-to-End Transformer for Document Understanding [<a href="https://arxiv.org/abs/2106.11539">paper</a>]</li><li>End-to-end Temporal Action Detection with Transformer [<a href="https://arxiv.org/abs/2106.10271">paper</a>] [<a href="https://github.com/xlliu7/TadTR">code</a>]</li><li>How to train your ViT? Data, Augmentation, and Regularization in Vision Transformers [<a href="https://arxiv.org/abs/2106.10270">paper</a>]</li><li>Efficient Self-supervised Vision Transformers for Representation Learning [<a href="https://arxiv.org/abs/2106.09785">paper</a>]</li><li>Space-time Mixing Attention for Video Transformer [<a href="https://arxiv.org/abs/2106.05968">paper</a>]</li><li>Transformed CNNs: recasting pre-trained convolutional layers with self-attention [<a href="https://arxiv.org/abs/2106.05795">paper</a>]</li><li><strong>[CAT]</strong> CAT: Cross Attention in Vision Transformer [<a href="https://arxiv.org/abs/2106.05786">paper</a>]</li><li>Scaling Vision Transformers [<a href="https://arxiv.org/abs/2106.04560">paper</a>]</li><li><strong>[DETReg]</strong> DETReg: Unsupervised Pretraining with Region Priors for Object Detection [<a href="https://arxiv.org/abs/2106.04550">paper</a>] [<a href="https://amirbar.net/detreg">code</a>]</li><li>Chasing Sparsity in Vision Transformers:An End-to-End Exploration [<a href="https://arxiv.org/abs/2106.04533">paper</a>]</li><li><strong>[MViT]</strong> MViT: Mask Vision Transformer for Facial Expression Recognition in the wild [<a href="https://arxiv.org/abs/2106.04520">paper</a>]</li><li>Demystifying Local Vision Transformer: Sparse Connectivity, Weight Sharing, and Dynamic Weight [<a href="https://arxiv.org/abs/2106.04263">paper</a>]</li><li>On Improving Adversarial Transferability of Vision Transformers [<a href="https://arxiv.org/abs/2106.04169">paper</a>]</li><li>Fully Transformer Networks for Semantic ImageSegmentation [<a href="https://arxiv.org/abs/2106.04108">paper</a>]</li><li>Visual Transformer for Task-aware Active Learning [<a href="https://arxiv.org/abs/2106.03801">paper</a>] [<a href="https://github.com/razvancaramalau/Visual-Transformer-for-Task-aware-Active-Learning">code</a>]</li><li>Efficient Training of Visual Transformers with Small-Size Datasets [<a href="https://arxiv.org/abs/2106.03746">paper</a>] </li><li>Reveal of Vision Transformers Robustness against Adversarial Attacks [<a href="https://arxiv.org/abs/2106.03734">paper</a>]</li><li>Person Re-Identification with a Locally Aware Transformer [<a href="https://arxiv.org/abs/2106.03720">paper</a>]</li><li><strong>[Refiner]</strong> Refiner: Refining Self-attention for Vision Transformers [<a href="https://arxiv.org/abs/2106.03714">paper</a>]</li><li><strong>[ViTAE]</strong> ViTAE: Vision Transformer Advanced by Exploring Intrinsic Inductive Bias [<a href="https://arxiv.org/abs/2106.03348">paper</a>]</li><li>Video Instance Segmentation using Inter-Frame Communication Transformers [<a href="https://arxiv.org/abs/2106.03299">paper</a>]</li><li>Transformer in Convolutional Neural Networks [<a href="https://arxiv.org/abs/2106.03180">paper</a>] [<a href="https://github.com/yun-liu/TransCNN">code</a>]</li><li>Oriented Object Detection with Transformer [<a href="https://arxiv.org/abs/2106.03146">paper</a>]</li><li><strong>[Uformer]</strong> Uformer: A General U-Shaped Transformer for Image Restoration [<a href="https://arxiv.org/abs/2106.03106">paper</a>] [<a href="https://github.com/ZhendongWang6/Uformer">code</a>]</li><li>Patch Slimming for Efficient Vision Transformers [<a href="https://arxiv.org/abs/2106.02852">paper</a>]</li><li><strong>[RegionViT]</strong> RegionViT: Regional-to-Local Attention for Vision Transformers [<a href="https://arxiv.org/abs/2106.02689">paper</a>]</li><li>Associating Objects with Transformers for Video Object Segmentation [<a href="https://arxiv.org/abs/2106.02638">paper</a>] [<a href="https://github.com/z-x-yang/AOT">code</a>]</li><li>Few-Shot Segmentation via Cycle-Consistent Transformer [<a href="https://arxiv.org/abs/2106.02320">paper</a>]</li><li>Glance-and-Gaze Vision Transformer [<a href="https://arxiv.org/abs/2106.02277">paper</a>] [<a href="https://github.com/yucornetto/GG-Transformer">code</a>]</li><li>Unsupervised MRI Reconstruction via Zero-Shot Learned Adversarial Transformers [<a href="https://arxiv.org/pdf/2105.08059.pdf">paper</a>]</li><li>Anticipative Video Transformer [<a href="https://arxiv.org/abs/2106.02036">paper</a>] [<a href="http://facebookresearch.github.io/AVT">code</a>]</li><li><strong>[DynamicViT]</strong> DynamicViT: Efficient Vision Transformers with Dynamic Token Sparsification [<a href="https://arxiv.org/abs/2106.02034">paper</a>] [<a href="https://dynamicvit.ivg-research.xyz/">code</a>]</li><li>When Vision Transformers Outperform ResNets without Pretraining or Strong Data Augmentations [<a href="https://arxiv.org/abs/2106.01548">paper</a>] [<a href="">code</a>]</li><li><strong>[Container]</strong> Container: Context Aggregation Network [<a href="https://arxiv.org/abs/2106.01401">paper</a>]</li><li>Unsupervised Out-of-Domain Detection via Pre-trained Transformers [<a href="https://arxiv.org/abs/2106.00948">paper</a>]</li><li><strong>[TransMIL]</strong> TransMIL: Transformer based Correlated Multiple Instance Learning for Whole Slide Image Classication [<a href="https://arxiv.org/abs/2106.00908">paper</a>]</li><li><strong>[YOLOS]</strong> You Only Look at One Sequence: Rethinking Transformer in Vision through Object Detection [<a href="https://arxiv.org/abs/2106.00666">paper</a>] [<a href="https://github.com/hustvl/YOLOS">code</a>]</li><li><strong>[TransVOS]</strong>  TransVOS: Video Object Segmentation with Transformers [<a href="https://arxiv.org/abs/2106.00588">paper</a>]</li><li><strong>[KVT]</strong> KVT: k-NN Attention for Boosting Vision Transformers [<a href="https://arxiv.org/abs/2106.00515">paper</a>] </li><li><strong>[MSG-Transformer]</strong> MSG-Transformer: Exchanging Local Spatial Information by Manipulating Messenger Tokens [<a href="https://arxiv.org/abs/2105.15168">paper</a>] [<a href="https://github.com/hustvl/MSG-Transformer">code</a>]</li><li><strong>[SegFormer]</strong> SegFormer: Simple and Efficient Design for Semantic Segmentation with Transformers [<a href="https://arxiv.org/abs/2105.15203">paper</a>] [<a href="https://github.com/NVlabs/SegFormer">code</a>]</li><li><strong>[SDNet]</strong> SDNet: mutil-branch for single image deraining using swin [<a href="https://arxiv.org/abs/2105.15077">paper</a>] [<a href="https://github.com/H-tfx/SDNet">code</a>]</li><li><strong>[DVT]</strong> Not All Images are Worth 16x16 Words: Dynamic Vision Transformers with Adaptive Sequence Length [<a href="https://arxiv.org/abs/2105.15075">paper</a>]</li><li>Dual-stream Network for Visual Recognition [<a href="https://arxiv.org/abs/2105.14734">paper</a>]</li><li><strong>[GazeTR]</strong> Gaze Estimation using Transformer [<a href="https://arxiv.org/abs/2105.14424">paper</a>] [<a href="https://github.com/yihuacheng/GazeTR">code</a>]</li><li>Transformer-Based Deep Image Matching for Generalizable Person Re-identification [<a href="https://arxiv.org/abs/2105.14432">paper</a>]</li><li>Less is More: Pay Less Attention in Vision Transformers [<a href="https://arxiv.org/abs/2105.14217">paper</a>] </li><li><strong>[FoveaTer]</strong> FoveaTer: Foveated Transformer for Image Classification [<a href="https://arxiv.org/abs/2105.14173">paper</a>]</li><li><strong>[TransDA]</strong> Transformer-Based Source-Free Domain Adaptation [<a href="https://arxiv.org/abs/2105.14138">paper</a>] [<a href="https://github.com/ygjwd12345/TransDA">code</a>]</li><li>An Attention Free Transformer [<a href="https://arxiv.org/abs/2105.14103">paper</a>]</li><li><strong>[PTNet]</strong> PTNet: A High-Resolution Infant MRI Synthesizer Based on Transformer [<a href="https://arxiv.org/abs/2105.13993">paper</a>]</li><li><strong>[ResT]</strong> ResT: An Efficient Transformer for Visual Recognition [<a href="https://arxiv.org/abs/2105.13677">paper</a>] [<a href="https://github.com/wofmanaf/ResT">code</a>]</li><li><strong>[CogView]</strong> CogView: Mastering Text-to-Image Generation via Transformers [<a href="https://arxiv.org/abs/2105.13290">paper</a>]</li><li><strong>[NesT]</strong> Aggregating Nested Transformers [<a href="https://arxiv.org/abs/2105.12723">paper</a>] </li><li><strong>[TAPG]</strong> Temporal Action Proposal Generation with Transformers [<a href="https://arxiv.org/abs/2105.12043">paper</a>] </li><li>Boosting Crowd Counting with Transformers [<a href="https://arxiv.org/abs/2105.10926">paper</a>] </li><li><strong>[COTR]</strong> COTR: Convolution in Transformer Network for End to End Polyp Detection [<a href="https://arxiv.org/abs/2105.10925">paper</a>]</li><li><strong>[TransVOD]</strong> End-to-End Video Object Detection with Spatial-Temporal Transformers [<a href="https://arxiv.org/abs/2105.10920">paper</a>] [<a href="https://github.com/SJTU-LuHe/TransVOD">code</a>]</li><li>Intriguing Properties of Vision Transformers [<a href="https://arxiv.org/abs/2105.10497">paper</a>] [<a href="https://git.io/Js15X">code</a>] </li><li>Combining Transformer Generators with Convolutional Discriminators [<a href="https://arxiv.org/abs/2105.10189">paper</a>]</li><li>Rethinking the Design Principles of Robust Vision Transformer [<a href="https://arxiv.org/abs/2105.07926">paper</a>]</li><li>Vision Transformers are Robust Learners [<a href="https://arxiv.org/abs/2105.07581">paper</a>] [<a href="https://git.io/J3VO0">code</a>]</li><li>Manipulation Detection in Satellite Images Using Vision Transformer [<a href="https://arxiv.org/abs/2105.06373">paper</a>]</li><li><strong>[Segmenter]</strong> Segmenter: Transformer for Semantic Segmentation [<a href="https://arxiv.org/abs/2105.05633">paper</a>] [<a href="https://github.com/rstrudel/segmenter">code</a>]</li><li><strong>[Swin-Unet]</strong> Swin-Unet: Unet-like Pure Transformer for Medical Image Segmentation [<a href="https://arxiv.org/abs/2105.05537">paper</a>] [<a href="https://github.com/HuCaoFighting/Swin-Unet">code</a>]</li><li>Self-Supervised Learning with Swin Transformers [<a href="https://arxiv.org/abs/2105.04553">paper</a>] [<a href="https://github.com/SwinTransformer/Transformer-SSL">code</a>]</li><li><strong>[SCTN]</strong> SCTN: Sparse Convolution-Transformer Network for Scene Flow Estimation [<a href="https://arxiv.org/abs/2105.04447">paper</a>] </li><li><strong>[RelationTrack]</strong> RelationTrack: Relation-aware Multiple Object Tracking with Decoupled Representation [<a href="https://arxiv.org/abs/2105.04322">paper</a>]</li><li><strong>[VGTR]</strong> Visual Grounding with Transformers [<a href="https://arxiv.org/abs/2105.04281">paper</a>]</li><li><strong>[PST]</strong> Visual Composite Set Detection Using Part-and-Sum Transformers [<a href="https://arxiv.org/abs/2105.02170">paper</a>] </li><li><strong>[TrTr]</strong> TrTr: Visual Tracking with Transformer [<a href="https://arxiv.org/abs/2105.03817">paper</a>] [<a href="https://github.com/tongtybj/TrTr">code</a>]</li><li><strong>[MOTR]</strong> MOTR: End-to-End Multiple-Object Tracking with TRansformer [<a href="https://arxiv.org/abs/2105.03247">paper</a>] [<a href="https://github.com/megvii-model/MOTR">code</a>]</li><li>Attention for Image Registration (AiR): an unsupervised Transformer approach [<a href="https://arxiv.org/abs/2105.02282">paper</a>] </li><li><strong>[TransHash]</strong> TransHash: Transformer-based Hamming Hashing for Efficient Image Retrieval [<a href="https://arxiv.org/abs/2105.01823">paper</a>]</li><li><strong>[ISTR]</strong> ISTR: End-to-End Instance Segmentation with Transformers [<a href="https://arxiv.org/abs/2105.00637">paper</a>] [<a href="https://github.com/hujiecpp/ISTR">code</a>]</li><li><strong>[CAT]</strong> CAT: Cross-Attention Transformer for One-Shot Object Detection [<a href="https://arxiv.org/abs/2104.14984">paper</a>] </li><li><strong>[CoSformer]</strong> CoSformer: Detecting Co-Salient Object with Transformers [<a href="https://arxiv.org/abs/2104.14729">paper</a>]</li><li>End-to-End Attention-based Image Captioning [<a href="https://arxiv.org/abs/2104.14721">paper</a>]</li><li><strong>[PMTrans]</strong> Pyramid Medical Transformer for Medical Image Segmentation [<a href="https://arxiv.org/abs/2104.14702">paper</a>]</li><li><strong>[HandsFormer]</strong> HandsFormer: Keypoint Transformer for Monocular 3D Pose Estimation ofHands and Object in Interaction [<a href="https://arxiv.org/abs/2104.14639">paper</a>]</li><li><strong>[GasHis-Transformer]</strong> GasHis-Transformer: A Multi-scale Visual Transformer Approach for Gastric Histopathology Image Classification [<a href="https://arxiv.org/abs/2104.14528">paper</a>] </li><li>Emerging Properties in Self-Supervised Vision Transformers [<a href="https://arxiv.org/abs/2104.14294">paper</a>]</li><li><strong>[InTra]</strong> Inpainting Transformer for Anomaly Detection [<a href="https://arxiv.org/abs/2104.13897">paper</a>] </li><li><strong>[Twins]</strong> Twins: Revisiting Spatial Attention Design in Vision Transformers [<a href="https://arxiv.org/abs/2104.13840">paper</a>] [<a href="https://github.com/Meituan-AutoML/Twins">code</a>]</li><li><strong>[MLMSPT]</strong> Point Cloud Learning with Transformer [<a href="https://arxiv.org/abs/2104.13636">paper</a>]</li><li>Medical Transformer: Universal Brain Encoder for 3D MRI Analysis [<a href="https://arxiv.org/abs/2104.13633">paper</a>]</li><li><strong>[ConTNet]</strong> ConTNet: Why not use convolution and transformer at the same time? [<a href="https://arxiv.org/abs/2104.13497">paper</a>] [<a href="https://github.com/yan-hao-tian/ConTNet">code</a>]</li><li><strong>[DTNet]</strong> Dual Transformer for Point Cloud Analysis [<a href="https://arxiv.org/abs/2104.13044">paper</a>] </li><li>Improve Vision Transformers Training by Suppressing Over-smoothing [<a href="https://arxiv.org/abs/2104.12753">paper</a>] [<a href="https://github.com/ChengyueGongR/PatchVisionTransformer">code</a>]</li><li><strong>[Visformer]</strong> Visformer: The Vision-friendly Transformer [<a href="https://arxiv.org/abs/2104.12533">paper</a>] [<a href="https://github.com/danczs/Visformer">code</a>]</li><li>Transformer Meets DCFAM: A Novel Semantic Segmentation Scheme for Fine-Resolution Remote Sensing Images [<a href="https://arxiv.org/abs/2104.12137">paper</a>]</li><li><strong>[VST]</strong> Visual Saliency Transformer [<a href="https://arxiv.org/abs/2104.12099">paper</a>] </li><li><strong>[M3DeTR]</strong> M3DeTR: Multi-representation, Multi-scale, Mutual-relation 3D Object Detection with Transformers [<a href="https://arxiv.org/abs/2104.11896">paper</a>] [<a href="https://github.com/rayguan97/M3DeTR">code</a>]</li><li><strong>[VidTr]</strong> VidTr: Video Transformer Without Convolutions [<a href="https://arxiv.org/abs/2104.11746">paper</a>] </li><li><strong>[Skeletor]</strong> Skeletor: Skeletal Transformers for Robust Body-Pose Estimation [<a href="https://arxiv.org/abs/2104.11712">paper</a>] </li><li><strong>[FaceT]</strong> Learning to Cluster Faces via Transformer [<a href="https://arxiv.org/abs/2104.11502">paper</a>]</li><li><strong>[MViT]</strong> Multiscale Vision Transformers [<a href="https://arxiv.org/abs/2104.11227">paper</a>] [<a href="https://github.com/facebookresearch/SlowFast">code</a>]</li><li><strong>[VATT]</strong> VATT: Transformers for Multimodal Self-Supervised Learning from Raw Video, Audio and Text [<a href="https://arxiv.org/abs/2104.11178">paper</a>]</li><li><strong>[So-ViT]</strong> So-ViT: Mind Visual Tokens for Vision Transformer [<a href="https://arxiv.org/abs/2104.10935">paper</a>] [<a href="https://github.com/jiangtaoxie/So-ViT">code</a>]</li><li>Token Labeling: Training a 85.5% Top-1 Accuracy Vision Transformer with 56M Parameters on ImageNet [<a href="https://arxiv.org/abs/2104.10858">paper</a>] [<a href="https://github.com/zihangJiang/TokenLabeling">code</a>]</li><li><strong>[TransRPPG]</strong> TransRPPG: Remote Photoplethysmography Transformer for 3D Mask Face Presentation Attack Detection [<a href="https://arxiv.org/abs/2104.07419">paper</a>]</li><li><strong>[VideoGPT]</strong> VideoGPT: Video Generation using VQ-VAE and Transformers [<a href="https://arxiv.org/abs/2104.10157">paper</a>]</li><li><strong>[M2TR]</strong> M2TR: Multi-modal Multi-scale Transformers for Deepfake Detection [<a href="https://arxiv.org/abs/2104.09770">paper</a>]</li><li>Transformer Transforms Salient Object Detection and Camouflaged Object Detection [<a href="https://arxiv.org/abs/2104.10127">paper</a>]</li><li><strong>[TransCrowd]</strong> TransCrowd: Weakly-Supervised Crowd Counting with Transformer [<a href="https://arxiv.org/abs/2104.09116">paper</a>] [<a href="https://github.com/dk-liang/TransCrowd">code</a>]</li><li><strong>[TransVG]</strong> TransVG: End-to-End Visual Grounding with Transformers [<a href="https://arxiv.org/abs/2104.08541">paper</a>]</li><li>Visual Transformer Pruning [<a href="https://arxiv.org/abs/2104.08500">paper</a>]</li><li>Self-supervised Video Retrieval Transformer Network [<a href="https://arxiv.org/abs/2104.07993">paper</a>]</li><li>Vision Transformer using Low-level Chest X-ray Feature Corpus for COVID-19 Diagnosis and Severity Quantification [<a href="https://arxiv.org/abs/2104.07235">paper</a>]</li><li><strong>[TransGAN]</strong> TransGAN: Two Transformers Can Make One Strong GAN [<a href="https://arxiv.org/abs/2102.07074">paper</a>] [<a href="https://github.com/VITA-Group/TransGAN">code</a>]</li><li>Geometry-Free View Synthesis: Transformers and no 3D Priors [<a href="https://arxiv.org/abs/2104.07652">paper</a>] [<a href="https://git.io/JOnwn">code</a>]</li><li><strong>[CoaT]</strong> Co-Scale Conv-Attentional Image Transformers [<a href="https://arxiv.org/abs/2104.06399">paper</a>] [<a href="https://github.com/mlpc-ucsd/CoaT">code</a>]</li><li><strong>[LocalViT]</strong> LocalViT: Bringing Locality to Vision Transformers [<a href="https://arxiv.org/abs/2104.05707">paper</a>] [<a href="https://github.com/ofsoundof/LocalViT">code</a>]</li><li><strong>[ACTOR]</strong> Action-Conditioned 3D Human Motion Synthesis with Transformer VAE [<a href="https://arxiv.org/abs/2104.05670">paper</a>]</li><li><strong>[CIT]</strong> Cloth Interactive Transformer for Virtual Try-On [<a href="https://arxiv.org/abs/2104.05519">paper</a>] [<a href="https://arxiv.org/abs/2104.05519">code</a>]</li><li>Handwriting Transformers [<a href="https://arxiv.org/abs/2104.03964">paper</a>]</li><li><strong>[SiT]</strong> SiT: Self-supervised vIsion Transformer [<a href="https://arxiv.org/abs/2104.03602">paper</a>] [<a href="https://github.com/Sara-Ahmed/SiT">code</a>]</li><li>On the Robustness of Vision Transformers to Adversarial Examples [<a href="https://arxiv.org/abs/2104.02610">paper</a>]</li><li>An Empirical Study of Training Self-Supervised Visual Transformers [<a href="https://arxiv.org/abs/2104.02057">paper</a>]</li><li>A Video Is Worth Three Views: Trigeminal Transformers for Video-based Person Re-identification [<a href="https://arxiv.org/abs/2104.01745">paper</a>]</li><li><strong>[AOT-GAN]</strong> Aggregated Contextual Transformations for High-Resolution Image Inpainting [<a href="https://arxiv.org/abs/2104.01431">paper</a>] [<a href="https://github.com/researchmm/AOT-GAN-for-Inpainting">code</a>]</li><li>Deepfake Detection Scheme Based on Vision Transformer and Distillation [<a href="https://arxiv.org/abs/2104.01353">paper</a>]</li><li><strong>[ATAG]</strong> Augmented Transformer with Adaptive Graph for Temporal Action Proposal Generation [<a href="https://arxiv.org/pdf/2103.16024">paper</a>] </li><li><strong>[LeViT]</strong> LeViT: a Vision Transformer in ConvNetâ€™s Clothing for Faster Inference [<a href="https://arxiv.org/abs/2104.01136">paper</a>] </li><li><strong>[TubeR]</strong> TubeR: Tube-Transformer for Action Detection [<a href="https://arxiv.org/abs/2104.00969">paper</a>]</li><li><strong>[AAformer]</strong> AAformer: Auto-Aligned Transformer for Person Re-Identification [<a href="https://arxiv.org/abs/2104.00921">paper</a>]</li><li><strong>[TFill]</strong> TFill: Image Completion via a Transformer-Based Architecture [<a href="https://arxiv.org/abs/2104.00845">paper</a>]</li><li>Group-Free 3D Object Detection via Transformers [<a href="https://arxiv.org/abs/2104.00678">paper</a>] [<a href="https://github.com/zeliu98/Group-Free-3D">code</a>]</li><li><strong>[STGT]</strong> Spatial-Temporal Graph Transformer for Multiple Object Tracking [<a href="https://arxiv.org/abs/2104.00194">paper</a>] </li><li><strong>[YOGO]</strong> You Only Group Once: Efficient Point-Cloud Processing with Token<br>Representation and Relation Inference Module[<a href="https://arxiv.org/abs/2103.09975">paper</a>] [<a href="https://github.com/chenfengxu714/YOGO.git">code</a>]</li><li>Going deeper with Image Transformers[<a href="https://arxiv.org/abs/2103.17239">paper</a>] </li><li><strong>[Stark]</strong> Learning Spatio-Temporal Transformer for Visual Tracking [<a href="https://arxiv.org/abs/2103.17154">paper</a>] [<a href="https://github.com/researchmm/Stark">code</a>]</li><li><strong>[Meta-DETR]</strong> Meta-DETR: Few-Shot Object Detection via Unified Image-Level Meta-Learning [<a href="https://arxiv.org/abs/2103.11731">paper</a> [<a href="https://github.com/ZhangGongjie/Meta-DETR">code</a>]</li><li><strong>[DA-DETR]</strong> DA-DETR: Domain Adaptive Detection Transformer by Hybrid Attention [<a href="https://arxiv.org/abs/2103.17084">paper</a>]</li><li>Robust Facial Expression Recognition with Convolutional Visual Transformers [<a href="https://arxiv.org/abs/2103.16854">paper</a>]</li><li>Thinking Fast and Slow: Efficient Text-to-Visual Retrieval with Transformers [<a href="https://arxiv.org/abs/2103.16553">paper</a>]</li><li>Spatiotemporal Transformer for Video-based Person Re-identification[<a href="https://arxiv.org/abs/2103.16469">paper</a>] </li><li><strong>[PiT]</strong> Rethinking Spatial Dimensions of Vision Transformers [<a href="https://arxiv.org/abs/2103.16302">paper</a>] [<a href="https://github.com/naver-ai/pit">code</a>]</li><li><strong>[TransUNet]</strong> TransUNet: Transformers Make Strong Encoders for Medical Image Segmentation [<a href="https://arxiv.org/abs/2102.04306">paper</a>] [<a href="https://github.com/Beckschen/TransUNet">code</a>]</li><li><strong>[CvT]</strong> CvT: Introducing Convolutions to Vision Transformers [<a href="https://arxiv.org/abs/2103.15808">paper</a>] [<a href="https://github.com/leoxiaobin/CvT">code</a>]</li><li>Multi-Scale Vision Longformer: A New Vision Transformer for High-Resolution Image Encoding [<a href="https://arxiv.org/abs/2103.15358">paper</a>]</li><li><strong>[TFPose]</strong> TFPose: Direct Human Pose Estimation with Transformers [<a href="https://arxiv.org/abs/2103.15320">paper</a>]</li><li><strong>[TransCenter]</strong> TransCenter: Transformers with Dense Queries for Multiple-Object Tracking [<a href="https://arxiv.org/abs/2103.15145">paper</a>]</li><li><strong>[ViViT]</strong> ViViT: A Video Vision Transformer [<a href="https://arxiv.org/abs/2103.15691">paper</a>]</li><li><strong>[CrossViT]</strong> CrossViT: Cross-Attention Multi-Scale Vision Transformer for Image Classification [<a href="https://arxiv.org/abs/2103.14899">paper</a>]</li><li><strong>[TS-CAM]</strong> TS-CAM: Token Semantic Coupled Attention Map for Weakly Supervised Object Localization [<a href="https://arxiv.org/abs/2103.14862">paper</a>] [<a href="https://github.com/vasgaowei/TS-CAM.git">code</a>]</li><li>Face Transformer for Recognition [<a href="https://arxiv.org/abs/2103.14803">paper</a>]</li><li>On the Adversarial Robustness of Visual Transformers [<a href="https://arxiv.org/abs/2103.15670">paper</a>]</li><li>Understanding Robustness of Transformers for Image Classification [<a href="https://arxiv.org/abs/2103.14586">paper</a>]</li><li>Lifting Transformer for 3D Human Pose Estimation in Video [<a href="https://arxiv.org/abs/2103.14304">paper</a>]</li><li><strong>[GSA-Net]</strong> Global Self-Attention Networks for Image Recognition[<a href="https://arxiv.org/abs/2010.03019">paper</a>]</li><li>High-Fidelity Pluralistic Image Completion with Transformers [<a href="https://arxiv.org/abs/2103.14031">paper</a>] [<a href="http://raywzy.com/ICT">code</a>]</li><li>Swin Transformer: Hierarchical Vision Transformer using Shifted Windows [<a href="https://arxiv.org/abs/2103.14030">paper</a>] [<a href="https://github.com/microsoft/Swin-Transformer">code</a>]</li><li><strong>[DPT]</strong> Vision Transformers for Dense Prediction [<a href="https://arxiv.org/abs/2103.13413">paper</a>] [<a href="https://github.com/intel-isl/DPT">code</a>]</li><li><strong>[TransFG]</strong> TransFG: A Transformer Architecture for Fine-grained Recognition? [<a href="https://arxiv.org/abs/2103.07976">paper</a>]</li><li><strong>[TimeSformer]</strong> Is Space-Time Attention All You Need for Video Understanding? [<a href="https://arxiv.org/abs/2102.05095">paper</a>]</li><li>Multi-view 3D Reconstruction with Transformer [<a href="https://arxiv.org/abs/2103.12957">paper</a>] </li><li>Can Vision Transformers Learn without Natural Images? [<a href="https://arxiv.org/abs/2103.13023">paper</a>] [<a href="https://hirokatsukataoka16.github.io/Vision-Transformers-without-Natural-Images/">code</a>]</li><li>Transformers Solve the Limited Receptive Field for Monocular Depth Prediction [<a href="https://arxiv.org/abs/2103.12091">paper</a>] [<a href="https://github.com/ygjwd12345/TransDepth">code</a>]</li><li>End-to-End Trainable Multi-Instance Pose Estimation with Transformers [<a href="https://arxiv.org/abs/2103.12115">paper</a>] </li><li>Instance-level Image Retrieval using Reranking Transformers [<a href="https://arxiv.org/abs/2103.12424">paper</a>] [<a href="https://arxiv.org/abs/2103.12236">code</a>]</li><li><strong>[BossNAS]</strong> BossNAS: Exploring Hybrid CNN-transformers with Block-wisely Self-supervised Neural Architecture Search [<a href="https://arxiv.org/abs/2103.12424">paper</a>] [<a href="https://github.com/changlin31/BossNAS">code</a>]</li><li><strong>[CeiT]</strong> Incorporating Convolution Designs into Visual Transformers [<a href="https://arxiv.org/abs/2103.11816">paper</a>] </li><li><strong>[DeepViT]</strong> DeepViT: Towards Deeper Vision Transformer [<a href="https://arxiv.org/abs/2103.11886">paper</a>] </li><li><strong>[TNT]</strong> Transformer in Transformer [<a href="https://arxiv.org/abs/2103.00112">paper</a>] [<a href="https://github.com/huawei-noah/noah-research/tree/master/TNT">code</a>]</li><li>Enhancing Transformer for Video Understanding Using Gated Multi-Level Attention and Temporal Adversarial Training [<a href="https://arxiv.org/abs/2103.10043">paper</a>] </li><li>3D Human Pose Estimation with Spatial and Temporal Transformers [<a href="https://arxiv.org/abs/2103.10455">paper</a>] [<a href="https://github.com/zczcwh/PoseFormer">code</a>]</li><li><strong>[SUNETR]</strong> SUNETR: Transformers for 3D Medical Image Segmentation [<a href="https://arxiv.org/abs/2103.10504">paper</a>] </li><li>Scalable Visual Transformers with Hierarchical Pooling [<a href="https://arxiv.org/abs/2103.10619">paper</a>] </li><li><strong>[ConViT]</strong> ConViT: Improving Vision Transformers with Soft Convolutional Inductive Biases [<a href="https://arxiv.org/abs/2103.10697">paper</a>] </li><li><strong>[TransMed]</strong> TransMed: Transformers Advance Multi-modal Medical Image Classification [<a href="https://arxiv.org/abs/2103.05940">paper</a>] </li><li><strong>[U-Transformer]</strong> U-Net Transformer: Self and Cross Attention for Medical Image Segmentation [<a href="https://arxiv.org/abs/2103.06104">paper</a>] </li><li><strong>[SpecTr]</strong> SpecTr: Spectral Transformer for Hyperspectral Pathology Image Segmentation [<a href="https://arxiv.org/abs/2103.03604">paper</a>] [<a href="https://github.com/hfut-xc-yun/SpecTr">code</a>]</li><li><strong>[TransBTS]</strong> TransBTS: Multimodal Brain Tumor Segmentation Using Transformer [<a href="https://arxiv.org/abs/2103.04430">paper</a>] [<a href="https://github.com/Wenxuan-1119/TransBTS">code</a>]</li><li><strong>[SSTN]</strong> SSTN: Self-Supervised Domain Adaptation Thermal<br>Object Detection for Autonomous Driving [<a href="https://arxiv.org/abs/2103.03150">paper</a>] </li><li><strong>[GANsformer]</strong> Generative Adversarial Transformers [<a href="https://arxiv.org/abs/2103.01209">paper</a>] [<a href="https://github.com/dorarad/gansformer">code</a>]</li><li><strong>[PVT]</strong> Pyramid Vision Transformer: A Versatile Backbone for Dense Prediction without Convolutions [<a href="https://arxiv.org/abs/2102.12122">paper</a>] [<a href="https://github.com/whai362/PVT">code</a>]</li><li>Transformer is All You Need:<br>Multimodal Multitask Learning with a Unified Transformer [<a href="https://arxiv.org/abs/2102.10772">paper</a>] [<a href="https://mmf.sh/">code</a>]</li><li><strong>[CPVT]</strong> Do We Really Need Explicit Position Encodings for Vision Transformers? [<a href="https://arxiv.org/abs/2102.10882">paper</a>] [<a href="https://github.com/Meituan-AutoML/CPVT">code</a>]</li><li>Deepfake Video Detection Using Convolutional Vision Transformer[<a href="https://arxiv.org/abs/2102.11126">paper</a>]</li><li>Training Vision Transformers for Image Retrieval[<a href="https://arxiv.org/abs/2102.05644">paper</a>]</li><li><strong>[TransReID]</strong> TransReID: Transformer-based Object Re-Identification[<a href="https://arxiv.org/abs/2102.04378">paper</a>]</li><li><strong>[VTN]</strong> Video Transformer Network[<a href="https://arxiv.org/abs/2102.00719">paper</a>]</li><li><strong>[T2T-ViT]</strong> Tokens-to-Token ViT: Training Vision Transformers from Scratch on ImageNet [<a href="https://arxiv.org/abs/2101.11986">paper</a>] [<a href="https://github.com/yitu-opensource/T2T-ViT">code</a>]</li><li><strong>[BoTNet]</strong> Bottleneck Transformers for Visual Recognition [<a href="https://arxiv.org/abs/2101.11605">paper</a>]</li><li><strong>[CPTR]</strong> CPTR: Full Transformer Network for Image Captioning [<a href="https://arxiv.org/abs/2101.10804">paper</a>]</li><li>Learn to Dance with AIST++: Music Conditioned 3D Dance Generation [<a href="https://arxiv.org/abs/2101.08779">paper</a>] [<a href="https://google.github.io/aichoreographer/">code</a>]</li><li><strong>[Trans2Seg]</strong>  Segmenting Transparent Object in the Wild with Transformer [<a href="https://arxiv.org/abs/2101.08461">paper</a>] [<a href="https://github.com/xieenze/Trans2Seg">code</a>]</li><li>Investigating the Vision Transformer Model for Image Retrieval Tasks [<a href="https://arxiv.org/abs/2101.03771">paper</a>]</li><li><strong>[Trear]</strong> Trear: Transformer-based RGB-D Egocentric Action Recognition [<a href="https://arxiv.org/abs/2101.03904">paper</a>]</li><li><strong>[VisualSparta]</strong> VisualSparta: Sparse Transformer Fragment-level Matching for Large-scale Text-to-Image Search [<a href="https://arxiv.org/abs/2101.00265">paper</a>]</li><li><strong>[TrackFormer]</strong> TrackFormer: Multi-Object Tracking with Transformers [<a href="https://arxiv.org/abs/2101.02702">paper</a>]</li><li><strong>[LETR]</strong> Line Segment Detection Using Transformers without Edges [<a href="https://arxiv.org/abs/2101.01909">paper</a>]</li><li><strong>[TAPE]</strong> Transformer Guided Geometry Model for Flow-Based Unsupervised Visual Odometry [<a href="https://arxiv.org/abs/2101.02143">paper</a>]</li><li><strong>[TRIQ]</strong> Transformer for Image Quality Assessment [<a href="https://arxiv.org/abs/2101.01097">paper</a>] [<a href="https://github.com/junyongyou/triq">code</a>]</li><li><strong>[TransTrack]</strong> TransTrack: Multiple-Object Tracking with Transformer [<a href="https://arxiv.org/abs/2012.15460">paper</a>] [<a href="https://github.com/PeizeSun/TransTrack">code</a>]</li><li><strong>[TransPose]</strong> TransPose: Towards Explainable Human Pose Estimation by Transformer [<a href="https://arxiv.org/abs/2012.14214">paper</a>] </li><li><strong>[DeiT]</strong> Training data-efficient image transformers &amp; distillation through attention [<a href="https://arxiv.org/abs/2012.12877">paper</a>] [<a href="https://github.com/facebookresearch/deit">code</a>]</li><li><strong>[Pointformer]</strong> 3D Object Detection with Pointformer [<a href="https://arxiv.org/abs/2012.11409">paper</a>] </li><li><strong>[ViT-FRCNN]</strong> Toward Transformer-Based Object Detection [<a href="https://arxiv.org/abs/2012.09958">paper</a>] </li><li><strong>[Taming-transformers]</strong> Taming Transformers for High-Resolution Image Synthesis [<a href="https://arxiv.org/abs/2012.09841">paper</a>] [<a href="https://compvis.github.io/taming-transformers/">code</a>]</li><li><strong>[SceneFormer]</strong> SceneFormer: Indoor Scene Generation with Transformers [<a href="https://arxiv.org/abs/2012.09793">paper</a>] </li><li><strong>[PCT]</strong> PCT: Point Cloud Transformer [<a href="https://arxiv.org/abs/2012.09688">paper</a>] </li><li><strong>[METRO]</strong> End-to-End Human Pose and Mesh Reconstruction with Transformers [<a href="https://arxiv.org/abs/2012.09760">paper</a>]</li><li><strong>[PointTransformer]</strong> Point Transformer [<a href="https://arxiv.org/abs/2012.09164">paper</a>]</li><li><strong>[PED]</strong> DETR for Pedestrian Detection[<a href="https://arxiv.org/abs/2012.06785">paper</a>]</li><li>Transformer Guided Geometry Model for Flow-Based Unsupervised Visual Odometry[<a href="https://arxiv.org/abs/2101.02143">paper</a>]</li><li><strong>[C-Tran]</strong> General Multi-label Image Classification with Transformers [<a href="https://arxiv.org/abs/2011.14027">paper</a>]</li><li><strong>[TSP-FCOS]</strong> Rethinking Transformer-based Set Prediction for Object Detection [<a href="https://arxiv.org/abs/2011.10881">paper</a>]</li><li><strong>[ACT]</strong> End-to-End Object Detection with Adaptive Clustering Transformer [<a href="https://arxiv.org/abs/2011.09315">paper</a>]</li><li><strong>[STTR]</strong> Revisiting Stereo Depth Estimation From a Sequence-to-Sequence Perspective with Transformers [<a href="https://arxiv.org/abs/2011.02910v2">paper</a>] [<a href="https://github.com/mli0603/stereo-transformer">code</a>]</li><li><strong>[VTs]</strong> Visual Transformers: Token-based Image Representation and Processing for Computer Vision [<a href="https://arxiv.org/abs/2006.03677">paper</a>]</li></ul><h3 id="å·²è§åˆŠ-2021"><a href="#å·²è§åˆŠ-2021" class="headerlink" title="å·²è§åˆŠ (2021)"></a>å·²è§åˆŠ (2021)</h3><ul><li>Vision Transformer with Progressive Sampling (<strong>ICCV</strong>)[<a href="https://arxiv.org/abs/2108.01684v1">paper</a>]</li><li><strong>[SMCA]</strong>  Fast Convergence of DETR with Spatially Modulated Co-Attention (<strong>ICCV</strong>)[<a href="https://arxiv.org/abs/2101.07448">paper</a>] [<a href="https://github.com/abc403/SMCA-replication">code</a>]</li><li><strong>[AutoFormer]</strong> AutoFormer: Searching Transformers for Visual Recognition (<strong>ICCV</strong>)[<a href="https://arxiv.org/pdf/2107.00651.pdf">paper</a>] [<a href="https://github.com/microsoft/AutoML">code</a>]</li><li><strong>[NDT-Transformer]</strong> NDT-Transformer: Large-Scale 3D Point Cloud Localisation using the Normal Distribution Transform Representation (<strong>ICRA</strong>)[<a href="https://arxiv.org/abs/2103.12292">paper</a>] </li><li><strong>[DPT]</strong> DPT: Deformable Patch-based Transformer for Visual Recognition (<strong>ACM MM</strong>) [<a href="http://arxiv.org/abs/2107.14467v1">paper</a>]</li><li><strong>[HAT]</strong> HAT: Hierarchical Aggregation Transformers for Person Re-identification (<strong>ACM MM</strong>) [<a href="https://arxiv.org/abs/2107.05946">paper</a>]</li><li><strong>[UTNet]</strong> UTNet: A Hybrid Transformer Architecture for Medical Image Segmentation (<strong>MICCAI</strong>) [<a href="https://arxiv.org/abs/2107.00781">paper</a>] </li><li><strong>[MedT]</strong> Medical Transformer: Gated Axial-Attention for Medical Image Segmentation (<strong>MICCAI</strong>) [<a href="https://arxiv.org/abs/2102.10662">paper</a>] [<a href="https://github.com/jeya-maria-jose/Medical-Transformer">code</a>]</li><li><strong>[MCTrans]</strong> Multi-Compound Transformer for Accurate Biomedical Image Segmentation (<strong>MICCAI</strong>) [<a href="https://arxiv.org/abs/2106.14385">paper</a>]</li><li><strong>[PNS-Net]</strong> Progressively Normalized Self-Attention Network for Video Polyp Segmentation (<strong>MICCAI</strong>) [<a href="https://arxiv.org/abs/2105.08468">paper</a>] [<a href="https://github.com/GewelsJI/PNS-Net">code</a>]</li><li><strong>[MBT-Net]</strong> A Multi-Branch Hybrid Transformer Networkfor Corneal Endothelial Cell Segmentation [<a href="https://arxiv.org/abs/2106.07557">paper</a>]</li><li>VT-ADL: A Vision Transformer Network for Image Anomaly Detection and Localization (<strong>ISIE</strong>) [<a href="https://arxiv.org/abs/2104.10036">paper</a>]</li><li>Medical Image Segmentation using Squeeze-and-Expansion Transformers  (<strong>IJCAI</strong>) [<a href="https://arxiv.org/abs/2105.09511">paper</a>]</li><li>Vision Transformer for Fast and Efficient Scene Text Recognition (<strong>ICDAR</strong>) [<a href="https://arxiv.org/abs/2105.08582">paper</a>]</li><li>Diverse Part Discovery: Occluded Person Re-identification with Part-Aware Transformer (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2106.04095">paper</a>]</li><li><strong>[HOTR]</strong> HOTR: End-to-End Human-Object Interaction Detection with Transformers (<strong>CVPR oral</strong>) [<a href="https://arxiv.org/abs/2104.13682">paper</a>] </li><li>High-Resolution Complex Scene Synthesis with Transformers (<strong>CVPRW</strong>) [<a href="https://arxiv.org/abs/2105.06458">paper</a>]</li><li><strong>[TransFuser]</strong> Multi-Modal Fusion Transformer for End-to-End Autonomous Driving (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2104.09224">paper</a>] [<a href="https://github.com/autonomousvision/transfuser">code</a>]</li><li>Pose Recognition with Cascade Transformers  (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2104.06976">paper</a>]</li><li>Seeing Out of tHe bOx: End-to-End Pre-training for Vision-Language Representation Learning  (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2104.03135">paper</a>]</li><li><strong>[LoFTR]</strong> LoFTR: Detector-Free Local Feature Matching with Transformers (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2104.00680">paper</a>] [<a href="https://zju3dv.github.io/loftr/">code</a>]</li><li>Thinking Fast and Slow: Efficient Text-to-Visual Retrieval with Transformers (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2103.16553">paper</a>] </li><li><strong>[SETR]</strong> Rethinking Semantic Segmentation from a Sequence-to-Sequence Perspective with Transformers (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2012.15840">paper</a>] [<a href="https://fudan-zvg.github.io/SETR/">code</a>]</li><li><strong>[TransT]</strong> Transformer Tracking  (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2103.15436">paper</a>] [<a href="https://github.com/chenxin-dlut/TransT">code</a>]</li><li>Transformer Meets Tracker: Exploiting Temporal Context for Robust Visual Tracking (<strong>CVPR oral</strong>) [<a href="https://arxiv.org/abs/2103.11681">paper</a>]</li><li><strong>[VisTR]</strong> End-to-End Video Instance Segmentation with Transformers (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2011.14503">paper</a>]</li><li>Transformer Interpretability Beyond Attention Visualization (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2012.09838">paper</a>] [<a href="https://github.com/hila-chefer/Transformer-Explainability">code</a>]</li><li><strong>[IPT]</strong> Pre-Trained Image Processing Transformer (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2012.00364">paper</a>]</li><li><strong>[UP-DETR]</strong> UP-DETR: Unsupervised Pre-training for Object Detection with Transformers (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2011.09094">paper</a>]</li><li><strong>[IQT]</strong> Perceptual Image Quality Assessment with Transformers (<strong>CVPRW</strong>) [<a href="https://arxiv.org/abs/2104.14730">paper</a>]</li><li><strong>[VTNet]</strong> VTNet: Visual Transformer Network for Object Goal Navigation (<strong>ICLR</strong>)[<a href="https://arxiv.org/abs/2105.09447">paper</a>]</li><li><strong>[Vision Transformer]</strong> An Image is Worth 16x16 Words: Transformers for Image Recognition at Scale (<strong>ICLR</strong>)[<a href="https://arxiv.org/abs/2010.11929">paper</a>] [<a href="https://github.com/google-research/vision_transformer">code</a>]</li><li><strong>[Deformable DETR]</strong> Deformable DETR: Deformable Transformers for End-to-End Object Detection (<strong>ICLR</strong>)[<a href="https://arxiv.org/abs/2010.04159">paper</a>] [<a href="https://github.com/fundamentalvision/Deformable-DETR">code</a>]</li><li><strong>[LAMBDANETWORKS]</strong> MODELING LONG-RANGE INTERACTIONS WITHOUT ATTENTION (<strong>ICLR</strong>) <a href="https://openreview.net/pdf?id=xTJEN-ggl1b">paper</a>] [<a href="https://github.com/lucidrains/lambda-networks">code</a>]</li><li><strong>[LSTR]</strong> End-to-end Lane Shape Prediction with Transformers (<strong>WACV</strong>) [<a href="https://arxiv.org/abs/2011.04233">paper</a>] [<a href="https://github.com/liuruijin17/LSTR">code</a>]</li></ul><h3 id="å·²è§åˆŠ-2020"><a href="#å·²è§åˆŠ-2020" class="headerlink" title="å·²è§åˆŠ (2020)"></a>å·²è§åˆŠ (2020)</h3><ul><li><strong>[DETR]</strong> End-to-End Object Detection with Transformers (<strong>ECCV</strong>) [<a href="https://arxiv.org/abs/2005.12872">paper</a>] [<a href="https://github.com/facebookresearch/detr">code</a>]</li><li>[<strong>FPT</strong>] Feature Pyramid Transformer (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2007.09451">paper</a>] [<a href="https://github.com/ZHANGDONG-NJUST/FPT">code</a>]</li><li><strong>[TTSR]</strong> Learning Texture Transformer Network for Image Super-Resolution (<strong>CVPR</strong>) [<a href="https://arxiv.org/abs/2006.04139">paper</a>] [<a href="https://github.com/researchmm/TTSR">code</a>]</li><li><strong>[STTN]</strong> Learning Joint Spatial-Temporal Transformations for Video Inpainting (<strong>ECCV</strong>) [<a href="https://arxiv.org/abs/2007.10247">paper</a>] [<a href="https://github.com/researchmm/STTN">code</a>]</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Transformer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>U-Netç³»åˆ—æ–‡çŒ®ç»¼è¿°</title>
      <link href="/2022/07/01/014-UNet_Family/"/>
      <url>/2022/07/01/014-UNet_Family/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€U-Net"><a href="#ä¸€ã€U-Net" class="headerlink" title="ä¸€ã€U-Net"></a><strong>ä¸€ã€U-Net</strong></h1><h2 id="Contribution"><a href="#Contribution" class="headerlink" title="Contribution"></a><strong>Contribution</strong></h2><ul><li>æ›´è§„æ•´çš„ç½‘ç»œç»“æ„</li><li>é€šè¿‡å°†ç¼–ç å™¨çš„æ¯å±‚ç»“æœæ‹¼æ¥åˆ°è¯‘ç å™¨ä¸­å¾—åˆ°æ›´å¥½çš„ç»“æœ</li></ul><h2 id="1ã€Architecture"><a href="#1ã€Architecture" class="headerlink" title="1ã€Architecture"></a><strong>1ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/ahHDQsSkVb32qTn.png" alt="U-Net"></p><h1 id="äºŒã€3D-U-Net"><a href="#äºŒã€3D-U-Net" class="headerlink" title="äºŒã€3D U-Net"></a><strong>äºŒã€3D U-Net</strong></h1><h2 id="Architecture"><a href="#Architecture" class="headerlink" title="Architecture"></a><strong>Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/5cxAgn1IiGZJdEC.png" alt="3D U-Net"></p><h2 id="3ã€Tricks"><a href="#3ã€Tricks" class="headerlink" title="3ã€Tricks"></a><strong>3ã€Tricks</strong></h2><ul><li>ä¸¤ç§åˆ†å‰²æ–¹å¼<br>ï¼ˆ1ï¼‰åŠè‡ªåŠ¨åˆ†å‰²<br>åŠè‡ªåŠ¨åˆ†å‰²ç½‘ç»œå…è®¸ç”¨æˆ·è¾“å…¥å‡ ä¸ªæ³¨é‡Šçš„2ç»´åˆ‡ç‰‡ï¼Œæ¥å¾—åˆ°æ•´ä¸ªä¸‰ç»´ä½“çš„åˆ†å‰²ã€‚åœ¨åŠè‡ªåŠ¨åˆ†å‰²æ–¹æ³•ä¸­ï¼Œä½¿ç”¨äº†IoUæŒ‡æ ‡ä½œä¸ºç²¾åº¦åº¦é‡ï¼Œå¾—å‡ºç»“è®º3D U-Netèƒ½å¤Ÿä»å¾ˆå°‘çš„å¸¦æ ‡æ³¨çš„åˆ‡ç‰‡ä¸­æ¨å¹¿åˆ°éå¸¸ç²¾ç¡®çš„ä¸‰ç»´åˆ†å‰²ï¼Œè€Œä¸éœ€è¦å¤ªå¤šçš„æ ‡æ³¨å·¥ä½œã€‚<br>ï¼ˆ2ï¼‰å…¨è‡ªåŠ¨åˆ†å‰²<br>å·²ç»æœ‰ä¸€ä¸ªåœ¨å…·æœ‰ä»£è¡¨æ€§çš„è®­ç»ƒé›†ä¸Šï¼ˆå¸¦æ³¨é‡Šçš„åˆ‡ç‰‡ï¼‰è¿›è¡Œè®­ç»ƒå¾—åˆ°çš„ç½‘ç»œï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨è¿™ä¸ªç½‘ç»œåœ¨æ²¡æœ‰æ³¨é‡Šçš„ä½“ç§¯å·ä¸Šè¿è¡Œ,æ¥å¾—åˆ°æ•´ä¸ªä¸‰ç»´ä½“çš„åˆ†å‰²ã€‚</li><li>é€šé“æ•°ç¿»å€çš„æ—¶æœºå’Œåå·ç§¯æ“ä½œã€‚åœ¨2D Unetä¸­ï¼Œé€šé“æ•°ç¿»å€çš„æ—¶æœºåœ¨ä¸‹é‡‡æ ·åçš„ç¬¬ä¸€æ¬¡å·ç§¯æ—¶ï¼›è€Œåœ¨3D U-Netä¸­ï¼Œé€šé“æ•°ç¿»å€å‘ç”Ÿåœ¨ä¸‹é‡‡æ ·æˆ–ä¸Šé‡‡æ ·å‰çš„å·ç§¯ä¸­ã€‚å¯¹äºåå·ç§¯æ“ä½œï¼ŒåŒºåˆ«åœ¨äºé€šé“æ•°æ˜¯å¦å‡åŠï¼Œ2D U-Netä¸­é€šé“æ•°å‡åŠï¼Œè€Œ3D U-Netä¸­é€šé“æ•°ä¸å˜ã€‚</li><li>ä½¿ç”¨Batch Normalizationæ¥åŠ å¿«æ”¶æ•›å’Œé¿å…ç½‘ç»œç»“æ„çš„ç“¶é¢ˆã€‚</li><li>ä½¿ç”¨äº†æ—‹è½¬ã€ç¼©æ”¾å’Œç°åº¦å¢å¼ºç­‰æ•°æ®å¢å¼ºæ–¹æ³•ï¼Œæ­¤å¤–åœ¨è®­ç»ƒæ•°æ®å’Œæ­£ç¡®æ ‡æ³¨æ•°æ®ä¸Šè¿ç”¨å¹³æ»‘çš„å¯†é›†å˜å½¢åœºï¼Œå³ä»ä¸€ä¸ªæ ‡å‡†å·®ä¸º4çš„æ­£æ€åˆ†å¸ƒä¸­æŠ½å–éšæœºå‘é‡ï¼Œæ¯ä¸ªæ–¹å‘çš„é—´è·ä¸º32ä¸ªä½“ç´ ï¼Œç„¶ååº”ç”¨bæ ·æ¡æ’å€¼ã€‚</li><li>ä½¿ç”¨å¸¦åŠ æƒäº¤å‰ç†µæŸå¤±çš„Softmaxå‡½æ•°å¯¹ç½‘ç»œè¾“å‡ºå’Œæ­£ç¡®æ ‡æ³¨æ•°æ®è¿›è¡Œæ¯”è¾ƒï¼Œå¯¹ç»å¸¸å‡ºç°çš„èƒŒæ™¯å‡å°‘æƒé‡ï¼Œå¯¹æ ‡æ³¨åˆ°çš„å›¾åƒæ•°æ®éƒ¨åˆ†å¢åŠ æƒé‡ï¼Œä»¥å¹³è¡¡å¾®ç®¡å’ŒèƒŒæ™¯ä½“ç´ å¯¹æŸå¤±çš„å½±å“ã€‚æœªæ ‡è®°çš„åƒç´ ä¸å‚ä¸æŸå¤±è®¡ç®—ï¼Œå³æƒé‡ä¸º0ã€‚è¿™æ ·å¯ä»¥è®©ç½‘ç»œå¯ä»¥æ›´å¤šåœ°ä»…ä»…å­¦ä¹ æ ‡æ³¨åˆ°çš„åƒç´ ç‚¹ï¼Œä»è€Œè¾¾åˆ°æ™®é€‚æ€§åœ°ç‰¹ç‚¹ã€‚</li></ul><h1 id="ä¸‰ã€U-Net"><a href="#ä¸‰ã€U-Net" class="headerlink" title="ä¸‰ã€U-Net++"></a><strong>ä¸‰ã€U-Net++</strong></h1><p>ä½œè€…çŸ¥ä¹è§£è¯»ï¼š<a href="https://zhuanlan.zhihu.com/p/44958351">https://zhuanlan.zhihu.com/p/44958351</a><br>å°æ€»ç»“ï¼š<a href="https://blog.csdn.net/u013066730/article/details/84954229?biz_id=102&utm_term=UNet++&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-84954229&spm=1018.2118.3001.4187">https://blog.csdn.net/u013066730/article/details/84954229?biz_id=102&amp;utm_term=UNet++&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduweb~default-0-84954229&amp;spm=1018.2118.3001.4187</a></p><h2 id="1ã€Architecture-1"><a href="#1ã€Architecture-1" class="headerlink" title="1ã€Architecture"></a><strong>1ã€Architecture</strong></h2><ul><li>é»‘è‰²éƒ¨åˆ†ä»£è¡¨çš„å°±æ˜¯åŸå§‹U-Netç»“æ„,ç»¿è‰²ä»£è¡¨æ·»åŠ çš„å·ç§¯å±‚ï¼Œè“è‰²ä»£è¡¨æ”¹è¿›çš„Skip Connectionã€‚</li><li>ä»¥X(1,2)ä¸ºä¾‹è¯´æ˜ï¼Œå®ƒæ˜¯ç”±X(1,0)ã€X(1,1)å’Œä¸Šé‡‡æ ·åçš„X(2,1)æ‹¼æ¥ä¹‹åï¼Œå†ç»è¿‡ä¸€æ¬¡Convä¸ReLUå¾—åˆ°ã€‚<br><img src="https://i.loli.net/2021/07/05/SDgP3rRY4cUsd7b.png" alt="U-Net++"></li></ul><h1 id="å››ã€Res-U-Netå’ŒDense-U-Net"><a href="#å››ã€Res-U-Netå’ŒDense-U-Net" class="headerlink" title="å››ã€Res U-Netå’ŒDense U-Net"></a><strong>å››ã€Res U-Netå’ŒDense U-Net</strong></h1><h2 id="1ã€Contribution"><a href="#1ã€Contribution" class="headerlink" title="1ã€Contribution"></a><strong>1ã€Contribution</strong></h2><ul><li>Res U-Netå’ŒDense U-Netåˆ†åˆ«å—åˆ°æ®‹å·®è¿æ¥å’Œå¯†é›†è¿æ¥çš„å¯å‘ï¼Œå°†U-Netçš„æ¯ä¸€ä¸ªå­æ¨¡å—åˆ†åˆ«æ›¿æ¢ä¸ºå…·æœ‰æ®‹å·®è¿æ¥å’Œå¯†é›†è¿æ¥çš„å½¢å¼ã€‚</li></ul><h2 id="2ã€Architecture"><a href="#2ã€Architecture" class="headerlink" title="2ã€Architecture"></a><strong>2ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/s9N3gaDQdAjorvn.png" alt="Res U-Net"></p><h1 id="äº”ã€MultiRes-U-Net"><a href="#äº”ã€MultiRes-U-Net" class="headerlink" title="äº”ã€MultiRes U-Net"></a><strong>äº”ã€MultiRes U-Net</strong></h1><h2 id="1ã€Contribution-1"><a href="#1ã€Contribution-1" class="headerlink" title="1ã€Contribution"></a><strong>1ã€Contribution</strong></h2><ul><li>å°†U-Netä¸­çš„ä¸¤ä¸ª3*3çš„å·ç§¯æ›¿æ¢æˆ3*3ï¼Œ7*7å·ç§¯è¿ç®—ä¸5*5å·ç§¯è¿ç®—å¹¶è¡Œåˆå¹¶ï¼Œä½¿ç”¨å¤šåˆ†è¾¨ç‡æ€è·¯æ›¿æ¢ä¼ ç»Ÿå·ç§¯å±‚ã€‚</li><li>ä½¿ç”¨Res Pathæ›¿æ¢ä¼ ç»ŸU-Netä¸­çš„ç®€å•çš„è·³è¿‡è¿æ¥ã€‚</li><li>åœ¨å…·æœ‰æŒ‘æˆ˜æ€§çš„è®­ç»ƒé›†æœ‰ç€å“è¶Šçš„æé«˜ã€‚</li></ul><h2 id="2ã€Architecture-1"><a href="#2ã€Architecture-1" class="headerlink" title="2ã€Architecture"></a><strong>2ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/iyK21bS4GRvjDEN.png" alt="MultiRes U-Net"></p><ul><li><strong>MultiBlock</strong><br>å¤šåˆ†è¾¨ç‡åˆ†ææ¥æ‰©å±•U-Netçš„æœ€ç®€å•æ–¹æ³•æ˜¯å°†3*3å’Œ7*7å·ç§¯è¿ç®—ä¸5*5å·ç§¯è¿ç®—å¹¶è¡Œåœ°åˆå¹¶ï¼Œå¦‚å›¾aæ‰€ç¤ºã€‚<br>è®ºæ–‡ä¸­ä½¿ç”¨ä¸€ç³»åˆ—æ›´å°ï¼Œæ›´è½»ä¾¿çš„3*3å·ç§¯å—æ¥åˆ†è§£æ›´å¤§ï¼Œæ›´è‹›åˆ»çš„5*5å’Œ7*7å·ç§¯å±‚ï¼Œå¦‚å›¾bæ‰€ç¤ºã€‚<br>2ä¸ª3*3å·ç§¯å—çš„è¾“å‡ºæœ‰æ•ˆåœ°è¿‘ä¼¼5*5å·ç§¯è¿ç®—ï¼Œ3ä¸ª3*3å·ç§¯å—çš„è¾“å‡ºæœ‰æ•ˆåœ°è¿‘ä¼¼7*7å·ç§¯è¿ç®—ã€‚<br>æœ€ç»ˆMultiResUnetä½¿ç”¨äº†ä¸‰ä¸ª3*3çš„å·ç§¯æ›¿æ¢äº†U-Netä¸­çš„æ¨¡å—ï¼Œå¹¶ä¸”å¼•å…¥äº†1*1å·ç§¯å±‚ï¼Œæ·»åŠ äº†å‰©ä½™è¿æ¥ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿç†è§£ä¸€äº›å…¶ä»–ç©ºé—´ä¿¡æ¯ã€‚<br><img src="https://i.loli.net/2021/07/05/WMOix2Y1JyXc3DA.png" alt="MultiRes U-Netä¸­çš„æ¨¡å—è¯¦ç»†ç»“æ„"></li><li><strong>Res Path</strong><br>å¼•å…¥æ®‹å·®è¿æ¥ï¼Œä¸æ˜¯ç®€å•åœ°å°†ç‰¹å¾å›¾ä»ç¼–ç å™¨çº§è¿æ¥åˆ°è§£ç å™¨çº§ï¼Œè€Œæ˜¯å…ˆå°†å®ƒä»¬<strong>ç©¿è¿‡å¸¦æœ‰æ®‹å·®è¿æ¥çš„å·ç§¯å±‚é“¾ï¼Œç„¶åå†ä¸è§£ç å™¨ç‰¹å¾è¿æ¥</strong>ã€‚<br><img src="https://i.loli.net/2021/07/05/BAfbVU9ECgsH8xv.png" alt="MultiRes U-Netä¸­çš„Residual Path"></li></ul><h1 id="å…­ã€R2-U-Net"><a href="#å…­ã€R2-U-Net" class="headerlink" title="å…­ã€R2 U-Net"></a><strong>å…­ã€R2 U-Net</strong></h1><h2 id="1ã€Contribution-2"><a href="#1ã€Contribution-2" class="headerlink" title="1ã€Contribution"></a><strong>1ã€Contribution</strong></h2><ul><li>æå‡ºäº†ä¸¤ä¸ªæ–°æ¨¡å‹RU-Netå’ŒR2U-Netç”¨äºåŒ»å­¦å›¾åƒåˆ†å‰²ã€‚</li><li>å¯¹åŒ»å­¦æˆåƒçš„ä¸‰ç§ä¸åŒæ¨¡å¼è¿›è¡Œäº†å®éªŒï¼ŒåŒ…æ‹¬è§†ç½‘è†œè¡€ç®¡åˆ†å‰²ï¼Œçš®è‚¤ç™Œåˆ†å‰²å’Œè‚ºåˆ†å‰²ã€‚</li><li>å¯¹åŸºäºæ¨¡å‹çš„è§†ç½‘è†œè¡€ç®¡åˆ†å‰²ä»»åŠ¡å’ŒåŸºäºç«¯åˆ°ç«¯å›¾åƒçš„çš®è‚¤ç—…å˜å’Œè‚ºåˆ†å‰²ä»»åŠ¡çš„æ¨¡å‹ï¼Œå¯¹æå‡ºçš„æ¨¡å‹è¿›è¡Œæ€§èƒ½è¯„ä¼°ã€‚</li><li>ä¸æœ€è¿‘æå‡ºçš„æœ€æ–°æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œè¯¥æ–¹æ³•ä¸å…·æœ‰ç›¸åŒæ•°é‡ç½‘ç»œå‚æ•°çš„ç­‰æ•ˆæ¨¡å‹ç›¸æ¯”å…·æœ‰<strong>ä¼˜è¶Šçš„æ€§èƒ½</strong>ã€‚</li></ul><h2 id="2ã€Architecture-2"><a href="#2ã€Architecture-2" class="headerlink" title="2ã€Architecture"></a><strong>2ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/ZpW2dLlRz693COE.png" alt="(a)ä¸ºæ™®é€šçš„ä¸¤ä¸ªConvæ¨¡å—ï¼Œ(b)ä¸ºä½¿ç”¨äº†Recurrent Convçš„æ¨¡å—ï¼Œ(c)ä¸ºä½¿ç”¨äº†Residual Convçš„æ¨¡å—ï¼Œ(d)æ˜¯åŒæ—¶ä½¿ç”¨äº†Residualå’ŒRecurrent Convçš„æ¨¡å—(å³R2)"><br><img src="https://i.loli.net/2021/07/05/mg4VzWa1nGPO6JU.png" alt="Unfolded Recurrent Convolutional Units"></p><ul><li>ä¸€ä¸ªRecurrent Blockå…¶å®å°±æ˜¯tä¸ªæ™®é€šçš„Convï¼ˆConv+BN+ReLUï¼‰çš„å †å ï¼Œåªæ˜¯æ¯ä¸ªå †å å±‚çš„è¾“å…¥æœ‰æ‰€å˜åŒ–ï¼Œç¬¬ä¸€ä¸ªConvçš„è¾“å…¥ä¸ºXï¼Œä¹‹åçš„Cconvçš„è¾“å…¥ä¸ºå‰ä¸€ä¸ªConvçš„è¾“å‡ºåŠ ä¸ŠXï¼Œå†™æˆä»£ç åˆ™ä¸ºï¼š<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class Recurrent_block(nn.Module):<br>    def __init__(self, out_channels, t=2):<br>        super(Recurrent_block, self).__init__()<br>        self.t = t<br>        self.out_channels = out_channels<br>        self.conv = nn.Sequential(<br>            nn.Conv2d(out_channels, out_channels, kernel_size=3, stride=1, padding=1, bias=True),<br>    nn.BatchNorm2d(out_channels),<br>nn.ReLU(inplace=True)<br>        )<br>    def forward(self,x):<br>        for i in range(self.t):<br>            if i==0:<br>                x1 = self.conv(x)<br>            x1 = self.conv(x+x1)<br>        return x1<br></code></pre></td></tr></table></figure><img src="https://i.loli.net/2021/07/05/6S8tnJWjUEBP5KX.png" alt="Recurrent U-Net"></li><li>åœ¨U-Netçš„åŸºç¡€ä¸Šæ·»åŠ äº†Recurrent Convæ¨¡å—æ¥æ”¹è¿›å¾—åˆ°çš„RU-Netï¼ˆRecurrent U-Netï¼‰ï¼Œå¦‚ä¸Šå›¾ã€‚</li><li>åœ¨ä¸Šå›¾çš„åŸºç¡€ä¸ŠåŠ å…¥å¦‚ResU-Netçš„æ®‹å·®æ¨¡å—åå¾—åˆ°R2U-Netï¼ˆRecurrent Residual U-Netï¼‰ã€‚</li></ul><h1 id="ä¸ƒã€Attention-U-Net"><a href="#ä¸ƒã€Attention-U-Net" class="headerlink" title="ä¸ƒã€Attention U-Net"></a><strong>ä¸ƒã€Attention U-Net</strong></h1><p>Codes: <a href="https://github.com/SvyJ/svyj.github.io/blob/master/codes/Attention_UNet.py">https://github.com/SvyJ/svyj.github.io/blob/master/codes/Attention_UNet.py</a><br>Attentionï¼Œå³ä¸ºæ³¨æ„åŠ›æœºåˆ¶ã€‚åœ¨åŒ»ç–—å›¾åƒä¸­ï¼Œå°±æ˜¯æŠŠæ³¨æ„åŠ›é›†ä¸­åˆ°å¯¹ç‰¹å®šä»»åŠ¡æœ‰ç”¨çš„æ˜¾è‘—ç‰¹å¾ï¼ˆæ¯”å¦‚è¯´ç›¸å…³ç»„ç»‡æˆ–è€…æ˜¯å™¨å®˜ï¼‰ï¼ŒæŠ‘åˆ¶è¾“å…¥å›¾åƒä¸­çš„ä¸ç›¸å…³åŒºåŸŸã€‚åœ¨çº§è”ç¥ç»ç½‘ç»œä¸­ï¼Œéœ€è¦æ˜ç¡®çš„å¤–éƒ¨ç»„ç»‡&#x2F;å™¨å®˜å®šä½æ¨¡å—ï¼Œè€Œä½¿ç”¨Attentionå°±ä¸éœ€è¦äº†ã€‚</p><h2 id="1ã€Contribution-3"><a href="#1ã€Contribution-3" class="headerlink" title="1ã€Contribution"></a><strong>1ã€Contribution</strong></h2><ul><li>è¿›ä¸€æ­¥é‡‡ç”¨æ³¨æ„åŠ›æ–¹æ³•ï¼Œæå‡ºåŸºäºç½‘æ ¼çš„é—¨æ§ï¼ˆGrid-Based Gatingï¼‰ï¼Œä½¿æ³¨æ„ç³»æ•°ï¼ˆAttention Coefficientsï¼‰æ›´åŠ ç‰¹å®šäºå±€éƒ¨åŒºåŸŸã€‚ ä¸åŸºäºå…¨å±€ç‰¹å¾å‘é‡çš„é—¨æ§ç›¸æ¯”ï¼Œè¿™æé«˜äº†æ€§èƒ½ã€‚ æ­¤å¤–ï¼Œæœ¬æ–¹æ³•å¯ç”¨äºå¯†é›†é¢„æµ‹ï¼Œå› ä¸ºä¸æ‰§è¡Œè‡ªé€‚åº”æ± åŒ–ã€‚</li><li>æå‡ºäº†åº”ç”¨äºåŒ»å­¦æˆåƒä»»åŠ¡çš„å‰é¦ˆCNNæ¨¡å‹ä¸­çš„è½¯æ³¨æ„ï¼ˆSoft-Attentionï¼‰æŠ€æœ¯çš„ç¬¬ä¸€ä¸ªç”¨ä¾‹ä¹‹ä¸€ã€‚ æå‡ºçš„æ³¨æ„åŠ›å¯ä»¥å–ä»£å›¾åƒåˆ†ç±»ä¸­ä½¿ç”¨çš„ç¡¬æ³¨æ„æ–¹æ³•å’Œå›¾åƒåˆ†å‰²æ¡†æ¶ä¸­çš„å¤–éƒ¨å™¨å®˜å®šä½æ¨¡å‹ã€‚</li><li>æå‡ºäº†æ ‡å‡†U-Netæ¨¡å‹çš„æ‰©å±•ï¼Œä»¥æé«˜æ¨¡å‹å¯¹å‰æ™¯ï¼ˆForegroundï¼‰åƒç´ çš„çµæ•åº¦ï¼Œè€Œæ— éœ€å¤æ‚çš„å¯å‘å¼ç®—æ³•ã€‚ é€šè¿‡å®éªŒè§‚å¯Ÿåˆ°U-Netçš„å‡†ç¡®åº¦æ”¹è¿›åœ¨ä¸åŒçš„å›¾åƒæ•°æ®é›†ä¸­æ˜¯ä¸€è‡´çš„ã€‚</li></ul><h2 id="2ã€Architecture-3"><a href="#2ã€Architecture-3" class="headerlink" title="2ã€Architecture"></a><strong>2ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/agW8D9eQtEMYOvm.png" alt="Attention Gate"></p><ul><li>Xlä»£è¡¨è¾“å…¥Feature Map, gä»£è¡¨Gate Signalï¼ŒWg:1*1*1ï¼ŒWx:1*1*1ï¼Œä»£è¡¨ä¸‰ç»´å·ç§¯æ ¸å°ºå¯¸ä¸º1*1*1çš„å·ç§¯ã€‚</li><li>Attention Gateå¯ä»¥ç†è§£ä¸ºï¼š<strong>è¾“å…¥Feature Mapå’ŒGate Signalåœ¨Addä¹‹åä¾æ¬¡ç»è¿‡1*1*1çš„å·ç§¯æ ¸å‹ç¼©ï¼ŒReLUï¼Œå†å‹ç¼©ï¼ŒSigmoidå¢åŠ éçº¿æ€§ï¼Œå¾—åˆ°ä¸è¾“å…¥Feature Mapç›¸åŒå¤§å°çš„æ³¨æ„åŠ›ç³»æ•°ï¼Œå°†æ³¨æ„åŠ›ç³»æ•°ä¸è¾“å…¥Feature Mapç›¸ä¹˜å¾—åˆ°è¾“å‡º</strong><br><img src="https://i.loli.net/2021/07/05/7krwMtndac5Ph9z.png" alt="Attention U-Net"></li><li>å¦‚ä¸Šå›¾ä¸ºå¸¦æœ‰Attention Gateçš„U-Netæ¨¡å‹ï¼Œä¸æ ‡å‡†U-Netç›¸æ¯”ï¼Œæ”¹è¿›çš„åœ°æ–¹åœ¨äºSkip-Connectionå¢åŠ äº†Attention Gateï¼Œè€Œ<strong>Gating Signalæ˜¯é‡‡ç”¨çš„è¾ƒæ·±å±‚Feature Map</strong>ã€‚</li></ul><h1 id="å…«ã€U-Net-3"><a href="#å…«ã€U-Net-3" class="headerlink" title="å…«ã€U-Net 3+"></a><strong>å…«ã€U-Net 3+</strong></h1><h2 id="1ã€Contribution-4"><a href="#1ã€Contribution-4" class="headerlink" title="1ã€Contribution"></a><strong>1ã€Contribution</strong></h2><ul><li>è®¾è®¡äº†ä¸€ç§æ–°çš„ç½‘ç»œç»“æ„U-Net3+ï¼Œé€šè¿‡å¼•å…¥å…¨å°ºåº¦çš„è·³è¿‡è¿æ¥ï¼Œåœ¨å…¨å°ºåº¦ç‰¹å¾æ˜ å°„ä¸­èåˆäº†ä½å±‚ç»†èŠ‚å’Œé«˜å±‚è¯­ä¹‰ï¼Œå……åˆ†åˆ©ç”¨äº†å¤šå°ºåº¦ç‰¹å¾çš„åŒæ—¶å…·æœ‰æ›´å°‘çš„å‚æ•°ï¼›</li><li>é€šè¿‡æ·±åº¦ç›‘ç£è®©ç½‘ç»œä»å…¨å°ºåº¦ç‰¹å¾ä¸­å­¦ä¹ åˆ†å‰²è¡¨ç¤ºï¼Œæå‡ºäº†æ›´ä¼˜çš„æ··åˆæŸå¤±å‡½æ•°ä»¥å¢å¼ºå™¨å®˜çš„è¾¹ç•Œï¼›</li><li>æå‡ºåˆ†ç±»æŒ‡å¯¼æ¨¡å—ï¼Œé€šè¿‡ä¸å›¾åƒåˆ†ç±»åˆ†æ”¯è”åˆè®­ç»ƒçš„æ–¹å¼ï¼Œå‡å°‘äº†ç½‘ç»œåœ¨éå™¨å®˜å›¾åƒçš„è¿‡åº¦åˆ†å‰²ï¼ˆOver-Segmentationï¼‰ï¼›</li><li>åœ¨è‚è„å’Œè„¾è„æ•°æ®é›†ä¸Šè¿›è¡Œäº†å¹¿æ³›çš„å®éªŒï¼Œè¯æ˜äº†U-Net 3+çš„æœ‰æ•ˆæ€§ã€‚</li></ul><h2 id="2ã€Architecture-4"><a href="#2ã€Architecture-4" class="headerlink" title="2ã€Architecture"></a><strong>2ã€Architecture</strong></h2><p><img src="https://i.loli.net/2021/07/05/ZCzPdn7qOWG539S.png" alt="U-Net(a)ï¼ŒU-Net++(b)ï¼ŒU-Net 3+(c)"></p><h2 id="3ã€Tricks-1"><a href="#3ã€Tricks-1" class="headerlink" title="3ã€Tricks"></a><strong>3ã€Tricks</strong></h2><p>UNET 3+è®ºæ–‡ç¬”è®°ï¼š<a href="https://zhuanlan.zhihu.com/p/134119120">https://zhuanlan.zhihu.com/p/134119120</a></p><ul><li>å…¨å°ºåº¦è·³è¿‡è¿æ¥</li><li>å…¨å°ºåº¦çš„æ·±åº¦ç›‘ç£<br>ä¸ºäº†è¿›ä¸€æ­¥<strong>ä¼˜åŒ–ç½‘ç»œå¯¹å›¾åƒè¾¹ç•Œçš„åˆ†å‰²</strong>ï¼Œæ–‡ç« å€Ÿé‰´äº†å›¾åƒè´¨é‡è¯„ä¼°ä¸­å¸¸ç”¨çš„å¤šå°ºåº¦SSIMï¼ˆMS-SSIMï¼‰æå‡ºäº†MS-SSIM lossã€‚æœ¬æ–‡æœ€ç»ˆé‡‡ç”¨äº†æ··åˆæŸå¤±å‡½æ•°ï¼ˆFocal Lossï¼ŒMS_SSIM_Losså’Œiou lossï¼‰æ¥å¯¹å„å±‚è¿›è¡Œç›‘ç£ã€‚<br><img src="https://i.loli.net/2021/07/05/lT3dR2n9eNXYIwF.png" alt="MS SSIM Loss"></li><li>åˆ†ç±»æŒ‡å¯¼æ¨¡å—ï¼ˆCGMï¼‰</li></ul><h1 id="é™„ï¼šUNet-familyè®ºæ–‡åŠä»£ç "><a href="#é™„ï¼šUNet-familyè®ºæ–‡åŠä»£ç " class="headerlink" title="é™„ï¼šUNet-familyè®ºæ–‡åŠä»£ç "></a><strong>é™„ï¼šUNet-familyè®ºæ–‡åŠä»£ç </strong></h1><h2 id="2015"><a href="#2015" class="headerlink" title="2015"></a>2015</h2><ul><li>U-Net: Convolutional Networks for Biomedical Image Segmentation (MICCAI) [<a href="https://arxiv.org/pdf/1505.04597.pdf">paper</a>]  [<a href="https://github.com/ShawnBIT/UNet-family/blob/master/networks/UNet.py">my-pytorch</a>][<a href="https://github.com/zhixuhao/unet">keras</a>]</li></ul><h2 id="2016"><a href="#2016" class="headerlink" title="2016"></a>2016</h2><ul><li>V-Net: Fully Convolutional Neural Networks for Volumetric Medical Image Segmentation [<a href="http://campar.in.tum.de/pub/milletari2016Vnet/milletari2016Vnet.pdf">paper</a>] [<a href="https://github.com/faustomilletari/VNet">caffe</a>][<a href="https://github.com/mattmacy/vnet.pytorch">pytorch</a>]</li><li>3D U-Net: Learning Dense Volumetric Segmentation from Sparse Annotation [<a href="https://arxiv.org/pdf/1606.06650.pdf">paper</a>][<a href="https://github.com/wolny/pytorch-3dunet">pytorch</a>]</li></ul><h2 id="2017"><a href="#2017" class="headerlink" title="2017"></a>2017</h2><ul><li>H-DenseUNet: Hybrid Densely Connected UNet for Liver and Tumor Segmentation from CT Volumes (IEEE Transactions on Medical Imaging)[<a href="https://arxiv.org/pdf/1709.07330.pdf">paper</a>][<a href="https://github.com/xmengli999/H-DenseUNet">keras</a>]</li><li>GP-Unet: Lesion Detection from Weak Labels with a 3D Regression Network (MICCAI) [<a href="https://arxiv.org/pdf/1705.07999.pdf">paper</a>]</li></ul><h2 id="2018"><a href="#2018" class="headerlink" title="2018"></a>2018</h2><ul><li>UNet++: A Nested U-Net Architecture for Medical Image Segmentation (MICCAI) [<a href="https://arxiv.org/pdf/1807.10165.pdf">paper</a>][<a href="https://github.com/ShawnBIT/UNet-family/blob/master/networks/UNet_Nested.py">my-pytorch</a>][<a href="https://github.com/MrGiovanni/UNetPlusPlus">keras</a>]</li><li>MDU-Net: Multi-scale Densely Connected U-Net for biomedical image segmentation [<a href="https://arxiv.org/pdf/1812.00352.pdf">paper</a>]</li><li>DUNet: A deformable network for retinal vessel segmentation [<a href="https://arxiv.org/pdf/1811.01206.pdf">paper</a>]</li><li>RA-UNet: A hybrid deep attention-aware network to extract liver and tumor in CT scans [<a href="https://arxiv.org/pdf/1811.01328.pdf">paper</a>]</li><li>Dense Multi-path U-Net for Ischemic Stroke Lesion Segmentation in Multiple Image Modalities [<a href="https://arxiv.org/pdf/1810.07003.pdf">paper</a>]</li><li>Stacked Dense U-Nets with Dual Transformers for Robust Face Alignment [<a href="https://arxiv.org/pdf/1812.01936.pdf">paper</a>]</li><li>Prostate Segmentation using 2D Bridged U-net [<a href="https://arxiv.org/pdf/1807.04459.pdf">paper</a>]</li><li>nnU-Net: Self-adapting Framework for U-Net-Based Medical Image Segmentation [<a href="https://arxiv.org/pdf/1809.10486.pdf">paper</a>][<a href="https://github.com/MIC-DKFZ/nnUNet">pytorch</a>]</li><li>SUNet: a deep learning architecture for acute stroke lesion segmentation and<br>outcome prediction in multimodal MRI [<a href="https://arxiv.org/pdf/1810.13304.pdf">paper</a>]</li><li>IVD-Net: Intervertebral disc localization and segmentation in MRI with a multi-modal UNet [<a href="https://arxiv.org/pdf/1811.08305.pdf">paper</a>]</li><li>LADDERNET: Multi-Path Networks Based on U-Net for Medical Image Segmentation [<a href="https://arxiv.org/pdf/1810.07810.pdf">paper</a>][<a href="https://github.com/juntang-zhuang/LadderNet">pytorch</a>]</li><li>Glioma Segmentation with Cascaded Unet [<a href="https://arxiv.org/pdf/1810.04008.pdf">paper</a>]</li><li>Attention U-Net: Learning Where to Look for the Pancreas [<a href="https://arxiv.org/pdf/1804.03999.pdf">paper</a>]</li><li>Recurrent Residual Convolutional Neural Network based on U-Net (R2U-Net) for Medical Image Segmentation [<a href="https://arxiv.org/pdf/1802.06955.pdf">paper</a>]</li><li>Concurrent Spatial and Channel â€˜Squeeze &amp; Excitationâ€™ in Fully Convolutional Networks <a href="https://arxiv.org/pdf/1803.02579.pdf">[paper]</a></li><li>A Probabilistic U-Net for Segmentation of Ambiguous Images (NIPS) [<a href="https://arxiv.org/pdf/1806.05034.pdf">paper</a>] [<a href="https://github.com/SimonKohl/probabilistic_unet">tensorflow</a>]</li><li>AnatomyNet: Deep Learning for Fast and Fully Automated Whole-volume Segmentation of Head and Neck Anatomy [<a href="https://arxiv.org/pdf/1808.05238.pdf">paper</a>]</li><li>3D RoI-aware U-Net for Accurate and Efficient Colorectal Cancer Segmentation [<a href="https://arxiv.org/pdf/1806.10342.pdf">paper</a>][<a href="https://github.com/huangyjhust/3D-RU-Net">pytorch</a>]</li><li>Detection and Delineation of Acute Cerebral Infarct on DWI Using Weakly Supervised Machine Learning (Y-Net) (MICCAI) [<a href="https://link.springer.com/content/pdf/10.1007%2F978-3-030-00931-1.pdf">paper</a>](Page 82)</li><li>Fully Dense UNet for 2D Sparse Photoacoustic Tomography Artifact Removal [<a href="https://arxiv.org/pdf/1808.10848.pdf">paper</a>]</li></ul><h2 id="2019"><a href="#2019" class="headerlink" title="2019"></a>2019</h2><ul><li>MultiResUNet : Rethinking the U-Net Architecture for Multimodal Biomedical Image Segmentation [<a href="https://arxiv.org/pdf/1902.04049v1.pdf">paper</a>][<a href="https://github.com/nibtehaz/MultiResUNet">keras</a>]</li><li>U-NetPlus: A Modified Encoder-Decoder U-Net Architecture for Semantic and Instance Segmentation of Surgical Instrument [<a href="https://arxiv.org/pdf/1902.08994.pdf">paper</a>]</li><li>Probability Map Guided Bi-directional Recurrent UNet for Pancreas Segmentation [<a href="https://arxiv.org/pdf/1903.00923.pdf">paper</a>]</li><li>CE-Net: Context Encoder Network for 2D Medical Image Segmentation [<a href="https://arxiv.org/pdf/1903.02740.pdf">paper</a>][<a href="https://github.com/Guzaiwang/CE-Net">pytorch</a>]</li><li>Graph U-Net [<a href="https://openreview.net/pdf?id=HJePRoAct7">paper</a>]</li><li>A Novel Focal Tversky Loss Function with Improved Attention U-Net for Lesion Segmentation (ISBI) [<a href="https://arxiv.org/pdf/1810.07842.pdf">paper</a>]</li><li>ST-UNet: A Spatio-Temporal U-Network for Graph-structured Time Series Modeling [<a href="https://arxiv.org/pdf/1903.05631.pdf">paper</a>]</li><li>Connection Sensitive Attention U-NET for Accurate Retinal Vessel Segmentation [<a href="https://arxiv.org/pdf/1903.05558.pdf">paper</a>]</li><li>CIA-Net: Robust Nuclei Instance Segmentation with Contour-aware Information Aggregation [<a href="https://arxiv.org/pdf/1903.05358.pdf">paper</a>]</li><li>W-Net: Reinforced U-Net for Density Map Estimation [<a href="https://arxiv.org/pdf/1903.11249.pdf">paper</a>]</li><li>Automated Segmentation of Pulmonary Lobes using Coordination-guided Deep Neural Networks (ISBI oral) [<a href="https://arxiv.org/pdf/1904.09106.pdf">paper</a>]</li><li>U2-Net: A Bayesian U-Net Model with Epistemic Uncertainty Feedback for Photoreceptor Layer Segmentation in Pathological OCT Scans [<a href="https://arxiv.org/pdf/1901.07929.pdf">paper</a>]</li><li>ScleraSegNet: an Improved U-Net Model with Attention for Accurate Sclera Segmentation (ICB Honorable Mention Paper Award) [<a href="https://github.com/ShawnBIT/Paper-Reading/blob/master/ScleraSegNet.pdf">paper</a>]</li><li>AHCNet: An Application of Attention Mechanism and Hybrid Connection for Liver Tumor Segmentation in CT Volumes [<a href="https://github.com/ShawnBIT/Paper-Reading/blob/master/AHCNet.pdf">paper</a>]</li><li>A Hierarchical Probabilistic U-Net for Modeling Multi-Scale Ambiguities [<a href="https://arxiv.org/pdf/1905.13077.pdf">paper</a>]</li><li>Recurrent U-Net for Resource-Constrained Segmentation [<a href="https://arxiv.org/pdf/1906.04913.pdf">paper</a>]</li><li>MFP-Unet: A Novel Deep Learning Based Approach for Left Ventricle Segmentation in Echocardiography [<a href="https://arxiv.org/pdf/1906.10486.pdf">paper</a>]</li><li>A Partially Reversible U-Net for Memory-Efficient Volumetric Image Segmentation (MICCAI 2019) [<a href="https://arxiv.org/pdf/1906.06148.pdf">paper</a>][<a href="https://github.com/RobinBruegger/PartiallyReversibleUnet">pytorch</a>]</li><li>ResUNet-a: a deep learning framework for semantic segmentation of remotely sensed data [<a href="https://arxiv.org/pdf/1904.00592v2.pdf">paper</a>]</li><li>A multi-task U-net for segmentation with lazy labels [<a href="https://arxiv.org/pdf/1906.12177.pdf">paper</a>]</li><li>RAUNet: Residual Attention U-Net for Semantic Segmentation of Cataract Surgical Instruments [<a href="http://xxx.itp.ac.cn/pdf/1909.10360v1">paper</a>]</li><li>3D U2-Net: A 3D Universal U-Net for Multi-Domain Medical Image Segmentation (MICCAI 2019) [<a href="https://arxiv.org/pdf/1909.06012.pdf">paper</a>] [<a href="https://github.com/huangmozhilv/u2net_torch/">pytorch</a>]</li><li>SegNAS3D: Network Architecture Search with Derivative-Free Global Optimization for 3D Image Segmentation (MICCAI 2019) [<a href="https://arxiv.org/pdf/1909.05962.pdf">paper</a>]</li><li>3D Dilated Multi-Fiber Network for Real-time Brain Tumor Segmentation in MRI [<a href="https://arxiv.org/pdf/1904.03355.pdf">paper</a>][<a href="https://github.com/China-LiuXiaopeng/BraTS-DMFNet">pytorch</a>] (MICCAI 2019)</li><li>The Domain Shift Problem of Medical Image Segmentation and Vendor-Adaptation by Unet-GAN [<a href="https://arxiv.org/pdf/1910.13681.pdf">paper</a>]</li><li>Recurrent U-Net for Resource-Constrained Segmentation [<a href="http://openaccess.thecvf.com/content_ICCV_2019/papers/Wang_Recurrent_U-Net_for_Resource-Constrained_Segmentation_ICCV_2019_paper.pdf">paper</a>] (ICCV 2019)</li><li>Siamese U-Net with Healthy Template for Accurate Segmentation of Intracranial Hemorrhage (MICCAI 2019)</li></ul><h2 id="2020"><a href="#2020" class="headerlink" title="2020"></a>2020</h2><ul><li>U^2-Net: Going Deeper with Nested U-Structure for Salient Object Detection (Pattern Recognition 2020) [<a href="https://arxiv.org/pdf/2005.09007v1.pdf">paper</a>][<a href="https://github.com/NathanUA/U-2-Net">pytorch</a>]</li><li>UNET 3+: A Full-Scale Connected UNet for Medical Image Segmentation (ICASSP 2020) [<a href="https://arxiv.org/pdf/2004.08790.pdf">paper</a>][<a href="https://github.com/ZJUGiveLab/UNet-Version">pytorch</a>]</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¯­ä¹‰åˆ†å‰²ç»¼è¿°</title>
      <link href="/2022/07/01/010-Semantic_Segementation/"/>
      <url>/2022/07/01/010-Semantic_Segementation/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€è¯­ä¹‰åˆ†å‰²ã€å®ä¾‹åˆ†å‰²å’Œå…¨æ™¯åˆ†å‰²"><a href="#ä¸€ã€è¯­ä¹‰åˆ†å‰²ã€å®ä¾‹åˆ†å‰²å’Œå…¨æ™¯åˆ†å‰²" class="headerlink" title="ä¸€ã€è¯­ä¹‰åˆ†å‰²ã€å®ä¾‹åˆ†å‰²å’Œå…¨æ™¯åˆ†å‰²"></a><strong>ä¸€ã€è¯­ä¹‰åˆ†å‰²ã€å®ä¾‹åˆ†å‰²å’Œå…¨æ™¯åˆ†å‰²</strong></h1><p><img src="https://i.loli.net/2021/07/05/z3mAyiTIeYhFDQO.png" alt="Segmentation"></p><h2 id="1ã€é€šä¿—ç†è§£"><a href="#1ã€é€šä¿—ç†è§£" class="headerlink" title="1ã€é€šä¿—ç†è§£"></a>1ã€é€šä¿—ç†è§£</h2><h3 id="ï¼ˆ1ï¼‰è¯­ä¹‰åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªç±»åˆ«ï¼Œå³å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ åšåˆ†ç±»"><a href="#ï¼ˆ1ï¼‰è¯­ä¹‰åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªç±»åˆ«ï¼Œå³å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ åšåˆ†ç±»" class="headerlink" title="ï¼ˆ1ï¼‰è¯­ä¹‰åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªç±»åˆ«ï¼Œå³å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ åšåˆ†ç±»"></a>ï¼ˆ1ï¼‰è¯­ä¹‰åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªç±»åˆ«ï¼Œå³å¯¹å›¾ç‰‡çš„æ¯ä¸ªåƒç´ åšåˆ†ç±»</h3><p><img src="https://i.loli.net/2021/07/05/fHlDsbJ71j3whq5.png" alt="Semantic Segmentation"></p><h3 id="ï¼ˆ2ï¼‰å®ä¾‹åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆä¸å«èƒŒæ™¯ï¼‰"><a href="#ï¼ˆ2ï¼‰å®ä¾‹åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆä¸å«èƒŒæ™¯ï¼‰" class="headerlink" title="ï¼ˆ2ï¼‰å®ä¾‹åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆä¸å«èƒŒæ™¯ï¼‰"></a>ï¼ˆ2ï¼‰å®ä¾‹åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆä¸å«èƒŒæ™¯ï¼‰</h3><p><img src="https://i.loli.net/2021/07/05/xZ5RkFYwtPg96es.png" alt="Instance Segmentation"></p><h3 id="ï¼ˆ3ï¼‰å…¨æ™¯åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆå«èƒŒæ™¯ï¼‰"><a href="#ï¼ˆ3ï¼‰å…¨æ™¯åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆå«èƒŒæ™¯ï¼‰" class="headerlink" title="ï¼ˆ3ï¼‰å…¨æ™¯åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆå«èƒŒæ™¯ï¼‰"></a>ï¼ˆ3ï¼‰å…¨æ™¯åˆ†å‰²ï¼šåˆ†å‰²å‡ºæ¯ä¸ªå®ä¾‹ï¼ˆå«èƒŒæ™¯ï¼‰</h3><h1 id="äºŒã€è¯­ä¹‰åˆ†å‰²çš„æ–¹æ³•"><a href="#äºŒã€è¯­ä¹‰åˆ†å‰²çš„æ–¹æ³•" class="headerlink" title="äºŒã€è¯­ä¹‰åˆ†å‰²çš„æ–¹æ³•"></a><strong>äºŒã€è¯­ä¹‰åˆ†å‰²çš„æ–¹æ³•</strong></h1><h2 id="1ã€ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•"><a href="#1ã€ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•" class="headerlink" title="1ã€ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•"></a>1ã€ä¼ ç»Ÿæœºå™¨å­¦ä¹ æ–¹æ³•</h2><ul><li>ä¼ ç»Ÿæ–¹æ³•Pipeline: ç‰¹å¾ + forst&#x2F;boost + CRF</li><li>åŠ£åŠ¿ï¼šå•ä¸ªå­¦ä¹ åˆ†ç±»å™¨åªé’ˆå¯¹å•ä¸€çš„ç±»åˆ«è®¾è®¡ï¼Œå¯¼è‡´åˆ†å‰²ç±»åˆ«å¤šæ—¶æœ‰<strong>è®¡ç®—å¤æ‚åº¦é«˜</strong>å’Œ<strong>è®­ç»ƒéš¾åº¦å¤§</strong>çš„é—®é¢˜<br>ï¼ˆå¦‚åƒç´ çº§çš„å†³ç­–æ ‘åˆ†ç±»ï¼Œå‚è€ƒTextonForestä»¥åŠRandom Forest based classifiersï¼‰</li></ul><h2 id="2ã€æ·±åº¦å­¦ä¹ æ–¹æ³•"><a href="#2ã€æ·±åº¦å­¦ä¹ æ–¹æ³•" class="headerlink" title="2ã€æ·±åº¦å­¦ä¹ æ–¹æ³•"></a>2ã€æ·±åº¦å­¦ä¹ æ–¹æ³•</h2><ul><li><strong>å·ç§¯ç¥ç»ç½‘ç»œ</strong>ï¼šFCNã€DeepLab-V1(2014), SegNetã€UNet(2015), DeepLab-V2(2016)â€¦<br>ï¼ˆä¸€èˆ¬éƒ½æ˜¯åœ¨åˆ†ç±»ç½‘ç»œä¸Šè¿›è¡Œç²¾è°ƒï¼Œåˆ†ç±»ç½‘ç»œä¸ºäº†èƒ½è·å–æ›´æŠ½è±¡çš„ç‰¹å¾åˆ†å±‚ï¼Œé‡‡å–äº†Conv+poolå †å çš„æ–¹å¼ï¼Œè¿™å¯¼è‡´äº†åˆ†è¾¨ç‡é™ä½ï¼Œä¸¢å¤±äº†å¾ˆå¤šä¿¡æ¯ï¼Œè¿™å¯¹åˆ†å‰²ä»»åŠ¡æ¥è¯´è‚¯å®šæ˜¯ä¸å¥½çš„ï¼Œå› ä¸ºåˆ†å‰²æ˜¯å¯¹æ¯ä¸€ä¸ªåƒç´ è¿›è¡Œåˆ†ç±»ï¼Œä¼šé€ æˆå®šä½ç²¾åº¦ä¸é«˜ã€‚ä½†åŒæ—¶æ›´é«˜å±‚çš„ç‰¹å¾å¯¹äºåˆ†ç±»åˆå¾ˆé‡è¦ã€‚å¦‚ä½•æƒè¡¡è¿™ä¸¤è€…å‘¢ï¼Ÿï¼‰</li><li><strong>Encoder-Decoderæ–¹æ³•</strong>ï¼šä¸ç»å…¸çš„FCNä¸­çš„Skip-Connectionæ€æƒ³ç±»ä¼¼ï¼ŒEncoderä¸ºåˆ†ç±»ç½‘ç»œï¼Œç”¨äºæå–ç‰¹å¾ï¼Œè€ŒDecoderåˆ™æ˜¯å°†Encoderçš„å…ˆå‰ä¸¢å¤±çš„ç©ºé—´ä¿¡æ¯é€æ¸æ¢å¤ï¼ŒDecoderçš„å…¸å‹ç»“æ„æœ‰U-Net&#x2F;Segnet&#x2F;RefineNetï¼Œè¯¥ç±»æ–¹æ³•è™½ç„¶æœ‰ä¸€å®šçš„æ•ˆæœï¼Œèƒ½æ¢å¤éƒ¨åˆ†ä¿¡æ¯ï¼Œä½†æ¯•ç«Ÿä¿¡æ¯å·²ç»ä¸¢å¤±äº†ï¼Œä¸å¯èƒ½å®Œå…¨æ¢å¤ã€‚</li><li><strong>Dialed FCNæ–¹æ³•</strong>ï¼šDeeplab-V1æå‡ºçš„æ–¹æ³•ï¼Œå°†VGGçš„æœ€åçš„ä¸¤ä¸ªPoolå±‚æ­¥é•¿ç½®ä¸º1ï¼Œè¿™æ ·ç½‘ç»œçš„è¾“å‡ºåˆ†è¾¨ç‡ä»1&#x2F;32å˜ä¸º1&#x2F;8ã€‚å¯ä»¥ä¿ç•™æ›´å¤šçš„ç»†èŠ‚ä¿¡æ¯ï¼ŒåŒæ—¶ä¹Ÿä¸¢æ‰äº†å¤æ‚çš„Decoderç»“æ„ï¼Œä½†è¿™ç§æ–¹æ³•è®¡ç®—é‡å¤§ã€‚</li><li>æ³¨ï¼šDeepLab-V3å°†Encoder-Decoderæ–¹æ³•ä¸Dialed FCNæ–¹æ³•ç»“åˆï¼Œè¾¾åˆ°äº†éå¸¸å¥½çš„æ•ˆæœï¼ŒåŒæ—¶è®¡ç®—é‡ä¹Ÿéå¸¸å·¨å¤§</li></ul><h1 id="ä¸‰ã€è¯­ä¹‰åˆ†å‰²çš„éš¾ç‚¹"><a href="#ä¸‰ã€è¯­ä¹‰åˆ†å‰²çš„éš¾ç‚¹" class="headerlink" title="ä¸‰ã€è¯­ä¹‰åˆ†å‰²çš„éš¾ç‚¹"></a><strong>ä¸‰ã€è¯­ä¹‰åˆ†å‰²çš„éš¾ç‚¹</strong></h1><ul><li>æ•°æ®é›†é—®é¢˜ï¼šéœ€è¦ç²¾ç¡®çš„åƒç´ çº§æ ‡æ³¨</li><li>è®¡ç®—èµ„æºé—®é¢˜ï¼šè¦æ±‚é«˜ç²¾åº¦ -&gt; æ·±å±‚ç½‘ç»œ -&gt; åˆ†å‰²é¢„æµ‹æ¯ä¸€ä¸ªåƒç´ ç‚¹ -&gt; è¦æ±‚Feature Mapæœ‰å°½é‡é«˜çš„åˆ†è¾¨ç‡ -&gt; è®¡ç®—èµ„æºä¸è¶³</li><li>ç²¾ç»†åˆ†å‰²ï¼šï¼ˆ1ï¼‰<strong>å¤§ç±»åˆ«ã€å°ç›®æ ‡</strong>ï¼šåˆ†å‰²ç²¾åº¦é«˜ ï¼ˆ2ï¼‰<strong>å°ç±»åˆ«ã€å°ç›®æ ‡</strong>ï¼šè½®å»“å¤ªå° -&gt; åˆ†å‰²ç²¾åº¦ä½</li><li>ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼šå¿½ç•¥ä¸Šä¸‹æ–‡ä¿¡æ¯ä¼šé€ æˆ ä¸€ä¸ªç±»åˆ«ç›®æ ‡åˆ†æˆå¤šä¸ªç±»åˆ«partã€ä¸åŒç±»åˆ«ç›®æ ‡åˆ†æˆç›¸åŒç±»åˆ«<br>ï¼ˆä»€ä¹ˆæ˜¯ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Ÿå¯Ÿè§‰å¹¶èƒ½åº”ç”¨èƒ½å¤Ÿå½±å“åœºæ™¯å’Œå›¾åƒä¸­çš„å¯¹è±¡çš„ä¸€äº›æˆ–å…¨éƒ¨ä¿¡æ¯ï¼Œé€šä¿—ç†è§£ä¸º<strong>åƒç´ ä»¥åŠå‘¨è¾¹åƒç´ çš„è”ç³»</strong>ï¼‰</li></ul><h1 id="å››ã€è¯­ä¹‰åˆ†å‰²æ¨¡å‹"><a href="#å››ã€è¯­ä¹‰åˆ†å‰²æ¨¡å‹" class="headerlink" title="å››ã€è¯­ä¹‰åˆ†å‰²æ¨¡å‹"></a><strong>å››ã€è¯­ä¹‰åˆ†å‰²æ¨¡å‹</strong></h1><ul><li>ä¸€èˆ¬çš„è¯­ä¹‰åˆ†å‰²æ¶æ„å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ª<strong>ç¼–ç å™¨-è§£ç å™¨</strong>ç½‘ç»œã€‚<br>ç¼–ç å™¨é€šå¸¸æ˜¯ä¸€ä¸ªé¢„è®­ç»ƒçš„åˆ†ç±»ç½‘ç»œï¼ŒåƒVGGã€ResNetï¼Œç„¶åæ˜¯ä¸€ä¸ªè§£ç å™¨ç½‘ç»œã€‚<br>è¿™äº›æ¶æ„ä¸åŒçš„åœ°æ–¹ä¸»è¦åœ¨äºè§£ç å™¨ç½‘ç»œã€‚è§£ç å™¨çš„ä»»åŠ¡æ˜¯å°†ç¼–ç å™¨å­¦ä¹ åˆ°çš„å¯åˆ¤åˆ«ç‰¹å¾ï¼ˆè¾ƒä½åˆ†è¾¨ç‡ï¼‰ä»è¯­ä¹‰ä¸ŠæŠ•å½±åˆ°åƒç´ ç©ºé—´ï¼ˆè¾ƒé«˜åˆ†è¾¨ç‡ï¼‰ï¼Œä»¥è·å¾—å¯†é›†åˆ†ç±»ã€‚</li><li>ä¸åŒäºåˆ†ç±»ä»»åŠ¡ä¸­ç½‘ç»œçš„æœ€ç»ˆç»“æœï¼ˆå¯¹å›¾åƒåˆ†ç±»çš„æ¦‚ç‡ï¼‰æ˜¯å”¯ä¸€é‡è¦çš„äº‹ï¼Œè¯­ä¹‰åˆ†å‰²ä¸ä»…éœ€è¦åœ¨åƒç´ çº§æœ‰åˆ¤åˆ«èƒ½åŠ›ï¼Œè¿˜éœ€è¦æœ‰èƒ½å°†ç¼–ç å™¨åœ¨ä¸åŒé˜¶æ®µå­¦åˆ°çš„å¯åˆ¤åˆ«ç‰¹å¾æŠ•å½±åˆ°åƒç´ ç©ºé—´çš„æœºåˆ¶ã€‚ä¸åŒçš„æ¶æ„é‡‡ç”¨ä¸åŒçš„æœºåˆ¶ï¼ˆè·³è·ƒè¿æ¥ã€é‡‘å­—å¡”æ± åŒ–ç­‰ï¼‰ä½œä¸ºè§£ç æœºåˆ¶çš„ä¸€éƒ¨åˆ†ã€‚</li></ul><h2 id="1ã€FCN"><a href="#1ã€FCN" class="headerlink" title="1ã€FCN"></a><strong>1ã€FCN</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture"><a href="#ï¼ˆ1ï¼‰Architecture" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/gDl2RIP3Xn9tJqA.png" alt="FCN"></p><h3 id="ï¼ˆ2ï¼‰Contribution"><a href="#ï¼ˆ2ï¼‰Contribution" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>ä¸ºè¯­ä¹‰åˆ†å‰²å¼•å…¥äº†<strong>ç«¯åˆ°ç«¯</strong>çš„å…¨å·ç§¯ç½‘ç»œï¼Œå¹¶æµè¡Œå¼€æ¥</li><li>é‡æ–°åˆ©ç”¨ImageNetçš„<strong>é¢„è®­ç»ƒç½‘ç»œ</strong>ç”¨äºè¯­ä¹‰åˆ†å‰²</li><li>ä½¿ç”¨<strong>åå·ç§¯å±‚</strong>ä»£æ›¿çº¿æ€§æ’å€¼æ³•è¿›è¡Œä¸Šé‡‡æ ·</li><li>å¼•å…¥<strong>è·³è·ƒè¿æ¥</strong>æ¥æ”¹å–„ä¸Šé‡‡æ ·ç²—ç³™çš„åƒç´ å®šä½</li></ul><h2 id="2ã€DeconvNet"><a href="#2ã€DeconvNet" class="headerlink" title="2ã€DeconvNet"></a><strong>2ã€DeconvNet</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture-1"><a href="#ï¼ˆ1ï¼‰Architecture-1" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/x78aYZkjCfKR2Qv.png" alt="DeConvNet"></p><h3 id="ï¼ˆ2ï¼‰Contribution-1"><a href="#ï¼ˆ2ï¼‰Contribution-1" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>UpPoolingè¿‡ç¨‹ä¸­ä¸SegNetç±»ä¼¼ï¼Œä½†é™¤äº†è¿˜åŸè®°å½•çš„Pooling Indicesä¹‹å¤–ï¼Œ<strong>å…¶ä»–ä½ç½®å‡è¡¥0</strong></li></ul><h2 id="3ã€SegNet"><a href="#3ã€SegNet" class="headerlink" title="3ã€SegNet"></a><strong>3ã€SegNet</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture-2"><a href="#ï¼ˆ1ï¼‰Architecture-2" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/YGlNT3qsgjM5imp.png" alt="SegNet"></p><h3 id="ï¼ˆ2ï¼‰Contribution-2"><a href="#ï¼ˆ2ï¼‰Contribution-2" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>å°†<strong>æ± åŒ–å±‚ç»“æœ</strong>åº”ç”¨åˆ°è¯‘ç è¿‡ç¨‹</li><li>å¼•å…¥äº†æ›´å¤šçš„ç¼–ç ä¿¡æ¯</li><li>ä½¿ç”¨çš„æ˜¯<strong>Pooling Indices</strong>ï¼Œè€Œä¸æ˜¯ç›´æ¥å¤åˆ¶ç‰¹å¾ï¼Œåªæ˜¯å°†ç¼–ç è¿‡ç¨‹ä¸­Poolçš„ä½ç½®è®°ä¸‹æ¥ï¼Œåœ¨UpPoolingæ˜¯ä½¿ç”¨è¯¥ä¿¡æ¯è¿›è¡ŒPooling</li></ul><h2 id="4ã€UNet"><a href="#4ã€UNet" class="headerlink" title="4ã€UNet"></a><strong>4ã€UNet</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture-3"><a href="#ï¼ˆ1ï¼‰Architecture-3" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/ahHDQsSkVb32qTn.png" alt="UNet"></p><h3 id="ï¼ˆ2ï¼‰Contribution-3"><a href="#ï¼ˆ2ï¼‰Contribution-3" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>æ›´è§„æ•´çš„ç½‘ç»œç»“æ„</li><li>é€šè¿‡å°†ç¼–ç å™¨çš„æ¯å±‚ç»“æœæ‹¼æ¥åˆ°è¯‘ç å™¨ä¸­å¾—åˆ°æ›´å¥½çš„ç»“æœ</li></ul><h2 id="5ã€PSPNet"><a href="#5ã€PSPNet" class="headerlink" title="5ã€PSPNet"></a><strong>5ã€PSPNet</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture-4"><a href="#ï¼ˆ1ï¼‰Architecture-4" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/RnkbZFpxia9o3Bl.png"><br><img src="https://i.loli.net/2021/07/05/8pde1PxSbHFikyn.png" alt="PSPNet"></p><h3 id="ï¼ˆ2ï¼‰Contribution-4"><a href="#ï¼ˆ2ï¼‰Contribution-4" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>æå‡ºäº†<strong>é‡‘å­—å¡”æ± åŒ–æ¨¡å—</strong>æ¥èšåˆå›¾ç‰‡ä¿¡æ¯</li><li>ä½¿ç”¨é™„åŠ çš„<strong>æŸå¤±å‡½æ•°</strong></li></ul><h2 id="6ã€RefineNet"><a href="#6ã€RefineNet" class="headerlink" title="6ã€RefineNet"></a><strong>6ã€RefineNet</strong></h2><h3 id="ï¼ˆ1ï¼‰Architecture-5"><a href="#ï¼ˆ1ï¼‰Architecture-5" class="headerlink" title="ï¼ˆ1ï¼‰Architecture"></a><strong>ï¼ˆ1ï¼‰Architecture</strong></h3><p><img src="https://i.loli.net/2021/07/05/o5dVb6LP3syM9qO.png" alt="RefineNet"></p><h3 id="ï¼ˆ2ï¼‰Contribution-5"><a href="#ï¼ˆ2ï¼‰Contribution-5" class="headerlink" title="ï¼ˆ2ï¼‰Contribution"></a><strong>ï¼ˆ2ï¼‰Contribution</strong></h3><ul><li>ç²¾å¿ƒè®¾è®¡çš„<strong>è¯‘ç æ¨¡å—</strong></li><li>æ‰€æœ‰æ¨¡å—éµå¾ª<strong>æ®‹å·®è¿æ¥</strong>è®¾è®¡</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Pytorch </tag>
            
            <tag> å›¾åƒåˆ†å‰² </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€äº›å¸¸ç”¨çš„ç½‘ç»œç»“æ„ä¸­çš„Moduleå’ŒBlock</title>
      <link href="/2022/07/01/009-DL_ModuleAndBlocks/"/>
      <url>/2022/07/01/009-DL_ModuleAndBlocks/</url>
      
        <content type="html"><![CDATA[<h1 id="Group-Convolution"><a href="#Group-Convolution" class="headerlink" title="Group Convolution"></a><strong>Group Convolution</strong></h1><ul><li>åˆ†ç»„å·ç§¯ï¼ˆæ¥è‡ªAlexNetï¼‰è¯¦è§£ï¼š <a href="https://www.jianshu.com/p/a936b7bc54e3">https://www.jianshu.com/p/a936b7bc54e3</a><br><img src="https://i.loli.net/2021/07/05/LOKtuhrVn1IzcMQ.png" alt="Group Convolution"></li></ul><h1 id="Inception-Module"><a href="#Inception-Module" class="headerlink" title="Inception Module"></a><strong>Inception Module</strong></h1><ul><li>å¤šå°ºåº¦ç‰¹å¾æå–å†èåˆï¼ˆæ¥è‡ªInception-V1ï¼‰<br><img src="https://i.loli.net/2021/07/05/o1YXLwst4yxKDpN.png" alt="Inception Module Naive"><br><img src="https://i.loli.net/2021/07/05/dGZsqEUuWJRgFtx.png" alt="Inception Module"></li></ul><h1 id="Residual-Block"><a href="#Residual-Block" class="headerlink" title="Residual Block"></a><strong>Residual Block</strong></h1><ul><li>æ®‹å·®ç»“æ„ï¼ˆæ¥è‡ªResNetï¼Œå…ˆé™ç»´å†å‡ç»´ï¼‰<br><img src="https://i.loli.net/2021/07/05/4yzacFg9E5HL278.png" alt="Residual Block"></li></ul><h1 id="Element-wise-Addition"><a href="#Element-wise-Addition" class="headerlink" title="Element-wise Addition"></a><strong>Element-wise Addition</strong></h1><ul><li>æ›´æ¿€è¿›çš„å¯†é›†è¿æ¥æœºåˆ¶ï¼ˆæ¥è‡ªResNetï¼‰<br><img src="https://i.loli.net/2021/07/05/syD4ke5ThOYurPt.png" alt="ResNetç½‘ç»œçš„çŸ­è·¯è¿æ¥æœºåˆ¶ï¼ˆå…¶ä¸­+ä»£è¡¨çš„æ˜¯å…ƒç´ çº§ç›¸åŠ æ“ä½œï¼‰"></li></ul><h1 id="BottleNeck"><a href="#BottleNeck" class="headerlink" title="BottleNeck"></a><strong>BottleNeck</strong></h1><ul><li>ç“¶é¢ˆç»“æ„ï¼ˆæ¥è‡ªResNetï¼‰<br><img src="https://i.loli.net/2021/07/05/Il3QpnzgZud2X9S.png" alt="BottleNeck"></li></ul><h1 id="Channel-wise-Concatenation"><a href="#Channel-wise-Concatenation" class="headerlink" title="Channel-wise Concatenation"></a><strong>Channel-wise Concatenation</strong></h1><ul><li>å®ç°ç‰¹å¾é‡ç”¨ï¼Œæå‡æ•ˆç‡ï¼ˆæ¥è‡ªDenseNetï¼‰<br><img src="https://i.loli.net/2021/07/05/1oBtSAL32kVpi9d.png" alt="DenseNetç½‘ç»œçš„å¯†é›†è¿æ¥æœºåˆ¶"></li></ul><h1 id="Inverted-Residual-Block"><a href="#Inverted-Residual-Block" class="headerlink" title="Inverted Residual Block"></a><strong>Inverted Residual Block</strong></h1><ul><li>å€’æ®‹å·®ç»“æ„ï¼ˆæ¥è‡ªMobileNet-V2ï¼Œå…ˆå‡ç»´å†é™ç»´ï¼‰<table><thead><tr><th align="center">Input</th><th align="center">Operator</th><th align="center">Output</th></tr></thead><tbody><tr><td align="center">HÃ—WÃ—tK</td><td align="center">1Ã—1 conv2d, ReLU6</td><td align="center">HÃ—WÃ—tK</td></tr><tr><td align="center">HÃ—WÃ—tK</td><td align="center">3Ã—3 dwise s&#x3D;s, ReLU6</td><td align="center">H&#x2F;sÃ—W&#x2F;sÃ—tK</td></tr><tr><td align="center">H&#x2F;sÃ—W&#x2F;sÃ—tK</td><td align="center">linear 1Ã—1 conv2d</td><td align="center">H&#x2F;sÃ—W&#x2F;sÃ—Kâ€™</td></tr></tbody></table></li></ul><p><img src="https://i.loli.net/2021/07/05/SnlzHsNB6Uu9eT2.png" alt="Inverted Residual Block"></p><h1 id="Squeeze-and-Excitation-Block"><a href="#Squeeze-and-Excitation-Block" class="headerlink" title="Squeeze-and-Excitation-Block"></a><strong>Squeeze-and-Excitation-Block</strong></h1><ul><li>å‹ç¼©-æ‰©å¼ æ¨¡å—ï¼ˆæ¥è‡ªSeNetï¼‰<br><img src="https://i.loli.net/2021/07/05/9NroyP4m5SECJba.png" alt="Squeeze-and-Excitation-Block"></li></ul><h1 id="æœªå®Œâ€¦"><a href="#æœªå®Œâ€¦" class="headerlink" title="æœªå®Œâ€¦"></a><strong>æœªå®Œâ€¦</strong></h1>]]></content>
      
      
      <categories>
          
          <category> ç¥ç»ç½‘ç»œ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pytorchä¸­å¸¸ç”¨çš„Transformsæ–¹æ³•</title>
      <link href="/2022/07/01/019-PytorchTransforms/"/>
      <url>/2022/07/01/019-PytorchTransforms/</url>
      
        <content type="html"><![CDATA[<h1 id="ä¸€ã€è£å‰ªâ€”â€”Crop"><a href="#ä¸€ã€è£å‰ªâ€”â€”Crop" class="headerlink" title="ä¸€ã€è£å‰ªâ€”â€”Crop"></a><strong>ä¸€ã€è£å‰ªâ€”â€”Crop</strong></h1><h2 id="1ã€éšæœºè£å‰ªï¼štransforms-RandomCrop"><a href="#1ã€éšæœºè£å‰ªï¼štransforms-RandomCrop" class="headerlink" title="1ã€éšæœºè£å‰ªï¼štransforms.RandomCrop"></a>1ã€éšæœºè£å‰ªï¼štransforms.RandomCrop</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomCrop(size, padding=None, pad_if_needed=False, fill=0, padding_mode=â€˜constantâ€™)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾æ®ç»™å®šçš„sizeéšæœºè£å‰ª</li><li>å‚æ•°ï¼š<br><strong>size</strong> - (sequence or int)ï¼Œè‹¥ä¸ºsequence,åˆ™ä¸º(h,w)ï¼Œè‹¥ä¸ºintï¼Œåˆ™(size,size)<br><strong>padding</strong> - (sequence or int, optional)ï¼Œæ­¤å‚æ•°æ˜¯è®¾ç½®å¡«å……å¤šå°‘ä¸ªpixelã€‚å½“ä¸ºintæ—¶ï¼Œå›¾åƒä¸Šä¸‹å·¦å³å‡å¡«å……intä¸ªï¼Œä¾‹å¦‚padding&#x3D;4ï¼Œåˆ™ä¸Šä¸‹å·¦å³å‡å¡«å……4ä¸ªpixelï¼Œè‹¥ä¸º3232ï¼Œåˆ™ä¼šå˜æˆ4040ã€‚å½“ä¸ºsequenceæ—¶ï¼Œè‹¥æœ‰2ä¸ªæ•°ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºå·¦å³æ‰©å……å¤šå°‘ï¼Œç¬¬äºŒä¸ªæ•°è¡¨ç¤ºä¸Šä¸‹çš„ã€‚å½“æœ‰4ä¸ªæ•°æ—¶ï¼Œåˆ™ä¸ºå·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹ã€‚<br><strong>fill</strong> - (int or tuple) å¡«å……çš„å€¼æ˜¯ä»€ä¹ˆï¼ˆä»…å½“å¡«å……æ¨¡å¼ä¸ºconstantæ—¶æœ‰ç”¨ï¼‰ã€‚intæ—¶ï¼Œå„é€šé“å‡å¡«å……è¯¥å€¼ï¼Œå½“é•¿åº¦ä¸º3çš„tupleæ—¶ï¼Œè¡¨ç¤ºRGBé€šé“éœ€è¦å¡«å……çš„å€¼ã€‚<br>padding_mode- å¡«å……æ¨¡å¼ï¼Œè¿™é‡Œæä¾›äº†4ç§å¡«å……æ¨¡å¼ï¼Œ1.constantï¼Œå¸¸é‡ã€‚2.edge æŒ‰ç…§å›¾ç‰‡è¾¹ç¼˜çš„åƒç´ å€¼æ¥å¡«å……ã€‚3.reflectï¼Œæš‚ä¸äº†è§£ã€‚ 4. symmetricï¼Œæš‚ä¸äº†è§£ã€‚</li></ul><h2 id="2ã€ä¸­å¿ƒè£å‰ªï¼štransforms-CenterCrop"><a href="#2ã€ä¸­å¿ƒè£å‰ªï¼štransforms-CenterCrop" class="headerlink" title="2ã€ä¸­å¿ƒè£å‰ªï¼štransforms.CenterCrop"></a>2ã€ä¸­å¿ƒè£å‰ªï¼štransforms.CenterCrop</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.CenterCrop(size)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾æ®ç»™å®šçš„sizeä»ä¸­å¿ƒè£å‰ª</li><li>å‚æ•°ï¼š<br><strong>size</strong> - (sequence or int)ï¼Œè‹¥ä¸ºsequence,åˆ™ä¸º(h,w)ï¼Œè‹¥ä¸ºintï¼Œåˆ™(size,size)</li></ul><h2 id="3ã€éšæœºé•¿å®½æ¯”è£å‰ª-transforms-RandomResizedCrop"><a href="#3ã€éšæœºé•¿å®½æ¯”è£å‰ª-transforms-RandomResizedCrop" class="headerlink" title="3ã€éšæœºé•¿å®½æ¯”è£å‰ª transforms.RandomResizedCrop"></a>3ã€éšæœºé•¿å®½æ¯”è£å‰ª transforms.RandomResizedCrop</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomResizedCrop(size, scale=(0.08, 1.0), ratio=(0.75, 1.3333333333333333), interpolation=2)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šéšæœºå¤§å°ï¼Œéšæœºé•¿å®½æ¯”è£å‰ªåŸå§‹å›¾ç‰‡ï¼Œæœ€åå°†å›¾ç‰‡resizeåˆ°è®¾å®šå¥½çš„size</li><li>å‚æ•°ï¼š<br><strong>size</strong> - è¾“å‡ºçš„åˆ†è¾¨ç‡<br><strong>scale</strong> - éšæœºcropçš„å¤§å°åŒºé—´ï¼Œå¦‚scale&#x3D;(0.08, 1.0)ï¼Œè¡¨ç¤ºéšæœºcropå‡ºæ¥çš„å›¾ç‰‡ä¼šåœ¨çš„0.08å€è‡³1å€ä¹‹é—´ã€‚<br><strong>ratio</strong> - éšæœºé•¿å®½æ¯”è®¾ç½®<br><strong>interpolation</strong> - æ’å€¼çš„æ–¹æ³•ï¼Œé»˜è®¤ä¸ºåŒçº¿æ€§æ’å€¼(PIL.Image.BILINEAR)</li></ul><h2 id="4ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªï¼štransforms-FiveCrop"><a href="#4ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªï¼štransforms-FiveCrop" class="headerlink" title="4ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªï¼štransforms.FiveCrop"></a>4ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªï¼štransforms.FiveCrop</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.FiveCrop(size)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå¯¹å›¾ç‰‡è¿›è¡Œä¸Šä¸‹å·¦å³ä»¥åŠä¸­å¿ƒè£å‰ªï¼Œè·å¾—5å¼ å›¾ç‰‡ï¼Œè¿”å›ä¸€ä¸ª4D-tensor</li><li>å‚æ•°ï¼š<br><strong>size</strong> - (sequence or int)ï¼Œè‹¥ä¸ºsequence,åˆ™ä¸º(h,w)ï¼Œè‹¥ä¸ºintï¼Œåˆ™(size,size)</li></ul><h2 id="5ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªåç¿»è½¬-transforms-TenCrop"><a href="#5ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªåç¿»è½¬-transforms-TenCrop" class="headerlink" title="5ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªåç¿»è½¬: transforms.TenCrop"></a>5ã€ä¸Šä¸‹å·¦å³ä¸­å¿ƒè£å‰ªåç¿»è½¬: transforms.TenCrop</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.TenCrop(size, vertical_flip=False)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå¯¹å›¾ç‰‡è¿›è¡Œä¸Šä¸‹å·¦å³ä»¥åŠä¸­å¿ƒè£å‰ªï¼Œç„¶åå…¨éƒ¨ç¿»è½¬ï¼ˆæ°´å¹³æˆ–è€…å‚ç›´ï¼‰ï¼Œè·å¾—10å¼ å›¾ç‰‡ï¼Œè¿”å›ä¸€ä¸ª4D-tensorã€‚</li><li>å‚æ•°ï¼š<br><strong>size</strong> - (sequence or int)ï¼Œè‹¥ä¸ºsequence,åˆ™ä¸º(h,w)ï¼Œè‹¥ä¸ºintï¼Œåˆ™(size,size)<br><strong>vertical_flip (bool)</strong> - æ˜¯å¦å‚ç›´ç¿»è½¬ï¼Œé»˜è®¤ä¸ºflaseï¼Œå³é»˜è®¤ä¸ºæ°´å¹³ç¿»è½¬</li></ul><h1 id="äºŒã€ç¿»è½¬å’Œæ—‹è½¬â€”â€”Flip-and-Rotation"><a href="#äºŒã€ç¿»è½¬å’Œæ—‹è½¬â€”â€”Flip-and-Rotation" class="headerlink" title="äºŒã€ç¿»è½¬å’Œæ—‹è½¬â€”â€”Flip and Rotation"></a><strong>äºŒã€ç¿»è½¬å’Œæ—‹è½¬â€”â€”Flip and Rotation</strong></h1><h2 id="1ã€ä¾æ¦‚ç‡pæ°´å¹³ç¿»è½¬transforms-RandomHorizontalFlip"><a href="#1ã€ä¾æ¦‚ç‡pæ°´å¹³ç¿»è½¬transforms-RandomHorizontalFlip" class="headerlink" title="1ã€ä¾æ¦‚ç‡pæ°´å¹³ç¿»è½¬transforms.RandomHorizontalFlip"></a>1ã€ä¾æ¦‚ç‡pæ°´å¹³ç¿»è½¬transforms.RandomHorizontalFlip</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomHorizontalFlip(p=0.5)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾æ®æ¦‚ç‡på¯¹PILå›¾ç‰‡è¿›è¡Œæ°´å¹³ç¿»è½¬</li><li>å‚æ•°ï¼š<br><strong>p</strong> - æ¦‚ç‡ï¼Œé»˜è®¤å€¼ä¸º0.5</li></ul><h2 id="2ã€ä¾æ¦‚ç‡på‚ç›´ç¿»è½¬transforms-RandomVerticalFlip"><a href="#2ã€ä¾æ¦‚ç‡på‚ç›´ç¿»è½¬transforms-RandomVerticalFlip" class="headerlink" title="2ã€ä¾æ¦‚ç‡på‚ç›´ç¿»è½¬transforms.RandomVerticalFlip"></a>2ã€ä¾æ¦‚ç‡på‚ç›´ç¿»è½¬transforms.RandomVerticalFlip</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomVerticalFlip(p=0.5)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾æ®æ¦‚ç‡på¯¹PILå›¾ç‰‡è¿›è¡Œå‚ç›´ç¿»è½¬</li><li>å‚æ•°ï¼š<br><strong>p</strong> - æ¦‚ç‡ï¼Œé»˜è®¤å€¼ä¸º0.5</li></ul><h2 id="3ã€éšæœºæ—‹è½¬ï¼štransforms-RandomRotation"><a href="#3ã€éšæœºæ—‹è½¬ï¼štransforms-RandomRotation" class="headerlink" title="3ã€éšæœºæ—‹è½¬ï¼štransforms.RandomRotation"></a>3ã€éšæœºæ—‹è½¬ï¼štransforms.RandomRotation</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomRotation(degrees, resample=False, expand=False, center=None)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾degreeséšæœºæ—‹è½¬ä¸€å®šè§’åº¦</li><li>å‚æ•°ï¼š<br><strong>degress</strong> - (sequence or float or int) ï¼Œè‹¥ä¸ºå•ä¸ªæ•°ï¼Œå¦‚ 30ï¼Œåˆ™è¡¨ç¤ºåœ¨ï¼ˆ-30ï¼Œ+30ï¼‰ä¹‹é—´éšæœºæ—‹è½¬<br>è‹¥ä¸ºsequenceï¼Œå¦‚(30ï¼Œ60)ï¼Œåˆ™è¡¨ç¤ºåœ¨30-60åº¦ä¹‹é—´éšæœºæ—‹è½¬<br><strong>resample</strong> - é‡é‡‡æ ·æ–¹æ³•é€‰æ‹©ï¼Œå¯é€‰ PIL.Image.NEAREST, PIL.Image.BILINEAR, PIL.Image.BICUBICï¼Œé»˜è®¤ä¸ºæœ€è¿‘é‚»<br><strong>expand</strong> - æœªäº†è§£<br><strong>center</strong> - å¯é€‰ä¸ºä¸­å¿ƒæ—‹è½¬è¿˜æ˜¯å·¦ä¸Šè§’æ—‹è½¬</li></ul><h1 id="ä¸‰ã€å›¾åƒå˜æ¢"><a href="#ä¸‰ã€å›¾åƒå˜æ¢" class="headerlink" title="ä¸‰ã€å›¾åƒå˜æ¢"></a><strong>ä¸‰ã€å›¾åƒå˜æ¢</strong></h1><h2 id="1ã€resizeï¼štransforms-Resize"><a href="#1ã€resizeï¼štransforms-Resize" class="headerlink" title="1ã€resizeï¼štransforms.Resize"></a>1ã€resizeï¼štransforms.Resize</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.Resize(size, interpolation=2)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šé‡ç½®å›¾åƒåˆ†è¾¨ç‡</li><li>å‚æ•°ï¼š<br><strong>size</strong> - If size is an int, if height &gt; width, then image will be rescaled to (size * height &#x2F; width, size)ï¼Œæ‰€ä»¥å»ºè®®sizeè®¾å®šä¸ºh*w<br><strong>interpolation</strong> - æ’å€¼æ–¹æ³•é€‰æ‹©ï¼Œé»˜è®¤ä¸ºPIL.Image.BILINEAR</li></ul><h2 id="2ã€æ ‡å‡†åŒ–ï¼štransforms-Normalize"><a href="#2ã€æ ‡å‡†åŒ–ï¼štransforms-Normalize" class="headerlink" title="2ã€æ ‡å‡†åŒ–ï¼štransforms.Normalize"></a>2ã€æ ‡å‡†åŒ–ï¼štransforms.Normalize</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.Normalize(mean, std)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå¯¹æ•°æ®æŒ‰é€šé“è¿›è¡Œæ ‡å‡†åŒ–ï¼Œå³å…ˆå‡å‡å€¼ï¼Œå†é™¤ä»¥æ ‡å‡†å·®ï¼Œæ³¨æ„æ˜¯ chw</li></ul><h2 id="3ã€è½¬ä¸ºtensorï¼štransforms-ToTensor"><a href="#3ã€è½¬ä¸ºtensorï¼štransforms-ToTensor" class="headerlink" title="3ã€è½¬ä¸ºtensorï¼štransforms.ToTensor"></a>3ã€è½¬ä¸ºtensorï¼štransforms.ToTensor</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.ToTensor<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå°†PIL Imageæˆ–è€… ndarray è½¬æ¢ä¸ºtensorï¼Œå¹¶ä¸”å½’ä¸€åŒ–è‡³[0-1]</li><li>æ³¨æ„äº‹é¡¹ï¼šå½’ä¸€åŒ–è‡³[0-1]æ˜¯ç›´æ¥é™¤ä»¥255ï¼Œè‹¥è‡ªå·±çš„ndarrayæ•°æ®å°ºåº¦æœ‰å˜åŒ–ï¼Œåˆ™éœ€è¦è‡ªè¡Œä¿®æ”¹ã€‚</li></ul><h2 id="4ã€å¡«å……ï¼štransforms-Pad"><a href="#4ã€å¡«å……ï¼štransforms-Pad" class="headerlink" title="4ã€å¡«å……ï¼štransforms.Pad"></a>4ã€å¡«å……ï¼štransforms.Pad</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.Pad(padding, fill=0, padding_mode=â€˜constantâ€™)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå¯¹å›¾åƒè¿›è¡Œå¡«å……</li><li>å‚æ•°ï¼š<br><strong>padding</strong> -(sequence or int, optional)ï¼Œæ­¤å‚æ•°æ˜¯è®¾ç½®å¡«å……å¤šå°‘ä¸ªpixelã€‚<br>å½“ä¸ºintæ—¶ï¼Œå›¾åƒä¸Šä¸‹å·¦å³å‡å¡«å……intä¸ªï¼Œä¾‹å¦‚padding&#x3D;4ï¼Œåˆ™ä¸Šä¸‹å·¦å³å‡å¡«å……4ä¸ªpixelï¼Œè‹¥ä¸º3232ï¼Œåˆ™ä¼šå˜æˆ4040ã€‚<br>å½“ä¸ºsequenceæ—¶ï¼Œè‹¥æœ‰2ä¸ªæ•°ï¼Œåˆ™ç¬¬ä¸€ä¸ªæ•°è¡¨ç¤ºå·¦å³æ‰©å……å¤šå°‘ï¼Œç¬¬äºŒä¸ªæ•°è¡¨ç¤ºä¸Šä¸‹çš„ã€‚å½“æœ‰4ä¸ªæ•°æ—¶ï¼Œåˆ™ä¸ºå·¦ï¼Œä¸Šï¼Œå³ï¼Œä¸‹ã€‚<br><strong>fill</strong> - (int or tuple) å¡«å……çš„å€¼æ˜¯ä»€ä¹ˆï¼ˆä»…å½“å¡«å……æ¨¡å¼ä¸ºconstantæ—¶æœ‰ç”¨ï¼‰ã€‚intæ—¶ï¼Œå„é€šé“å‡å¡«å……è¯¥å€¼ï¼Œå½“é•¿åº¦ä¸º3çš„tupleæ—¶ï¼Œè¡¨ç¤ºRGBé€šé“éœ€è¦å¡«å……çš„å€¼ã€‚<br><strong>padding_mode</strong> - å¡«å……æ¨¡å¼ï¼Œè¿™é‡Œæä¾›äº†4ç§å¡«å……æ¨¡å¼ï¼Œ1.constantï¼Œå¸¸é‡ã€‚2.edge æŒ‰ç…§å›¾ç‰‡è¾¹ç¼˜çš„åƒç´ å€¼æ¥å¡«å……ã€‚</li></ul><h2 id="5ã€ä¿®æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦ï¼štransforms-ColorJitter"><a href="#5ã€ä¿®æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦ï¼štransforms-ColorJitter" class="headerlink" title="5ã€ä¿®æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦ï¼štransforms.ColorJitter"></a>5ã€ä¿®æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦ï¼štransforms.ColorJitter</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.ColorJitter(brightness=0, contrast=0, saturation=0, hue=0)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¿®æ”¹ä¿®æ”¹äº®åº¦ã€å¯¹æ¯”åº¦å’Œé¥±å’Œåº¦</li></ul><h2 id="6ã€è½¬ç°åº¦å›¾ï¼štransforms-Grayscale"><a href="#6ã€è½¬ç°åº¦å›¾ï¼štransforms-Grayscale" class="headerlink" title="6ã€è½¬ç°åº¦å›¾ï¼štransforms.Grayscale"></a>6ã€è½¬ç°åº¦å›¾ï¼štransforms.Grayscale</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.Grayscale(num_output_channels=1)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå°†å›¾ç‰‡è½¬æ¢ä¸ºç°åº¦å›¾</li><li>å‚æ•°ï¼š<br><strong>num_output_channels</strong> - (int) ï¼Œå½“ä¸º1æ—¶ï¼Œæ­£å¸¸çš„ç°åº¦å›¾ï¼Œå½“ä¸º3æ—¶ï¼Œ 3 channel with r &#x3D;&#x3D; g &#x3D;&#x3D; b</li></ul><h2 id="7ã€çº¿æ€§å˜æ¢ï¼štransforms-LinearTransformation"><a href="#7ã€çº¿æ€§å˜æ¢ï¼štransforms-LinearTransformation" class="headerlink" title="7ã€çº¿æ€§å˜æ¢ï¼štransforms.LinearTransformation()"></a>7ã€çº¿æ€§å˜æ¢ï¼štransforms.LinearTransformation()</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.LinearTransformation(transformation_matrix)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå¯¹çŸ©é˜µåšçº¿æ€§å˜åŒ–ï¼Œå¯ç”¨äºç™½åŒ–å¤„ç†ï¼ whitening: zero-center the data, compute the data covariance matrix</li><li>å‚æ•°ï¼š<br><strong>transformation_matrix (Tensor)</strong> â€“ tensor [D x D], D &#x3D; C x H x W</li></ul><h2 id="8ã€ä»¿å°„å˜æ¢ï¼štransforms-RandomAffine"><a href="#8ã€ä»¿å°„å˜æ¢ï¼štransforms-RandomAffine" class="headerlink" title="8ã€ä»¿å°„å˜æ¢ï¼štransforms.RandomAffine"></a>8ã€ä»¿å°„å˜æ¢ï¼štransforms.RandomAffine</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomAffine(degrees, translate=None, scale=None, shear=None, resample=False, fillcolor=0)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä»¿å°„å˜æ¢</li></ul><h2 id="9ã€ä¾æ¦‚ç‡pè½¬ä¸ºç°åº¦å›¾ï¼štransforms-RandomGrayscale"><a href="#9ã€ä¾æ¦‚ç‡pè½¬ä¸ºç°åº¦å›¾ï¼štransforms-RandomGrayscale" class="headerlink" title="9ã€ä¾æ¦‚ç‡pè½¬ä¸ºç°åº¦å›¾ï¼štransforms.RandomGrayscale"></a>9ã€ä¾æ¦‚ç‡pè½¬ä¸ºç°åº¦å›¾ï¼štransforms.RandomGrayscale</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.RandomGrayscale(p=0.1)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šä¾æ¦‚ç‡på°†å›¾ç‰‡è½¬æ¢ä¸ºç°åº¦å›¾ï¼Œè‹¥é€šé“æ•°ä¸º3ï¼Œåˆ™3 channel with r &#x3D;&#x3D; g &#x3D;&#x3D; b</li></ul><h2 id="10ã€å°†æ•°æ®è½¬æ¢ä¸ºPILImageï¼štransforms-ToPILImage"><a href="#10ã€å°†æ•°æ®è½¬æ¢ä¸ºPILImageï¼štransforms-ToPILImage" class="headerlink" title="10ã€å°†æ•°æ®è½¬æ¢ä¸ºPILImageï¼štransforms.ToPILImage"></a>10ã€å°†æ•°æ®è½¬æ¢ä¸ºPILImageï¼štransforms.ToPILImage</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">class torchvision.transforms.ToPILImage(mode=None)<br></code></pre></td></tr></table></figure><ul><li>åŠŸèƒ½ï¼šå°†tensor æˆ–è€… ndarrayçš„æ•°æ®è½¬æ¢ä¸º PIL Image ç±»å‹æ•°æ®</li><li>å‚æ•°ï¼š<br><strong>mode</strong> - ä¸ºNoneæ—¶ï¼Œä¸º1é€šé“ï¼Œ mode&#x3D;3é€šé“é»˜è®¤è½¬æ¢ä¸ºRGBï¼Œ4é€šé“é»˜è®¤è½¬æ¢ä¸ºRGBA</li></ul><h2 id="11ã€transforms-Lambda"><a href="#11ã€transforms-Lambda" class="headerlink" title="11ã€transforms.Lambda"></a>11ã€transforms.Lambda</h2><p>Apply a user-defined lambda as a transform.<br>å¾…è¡¥å……ã€‚</p><h1 id="å››ã€å¯¹transformsæ“ä½œï¼Œä½¿æ•°æ®å¢å¼ºæ›´çµæ´»"><a href="#å››ã€å¯¹transformsæ“ä½œï¼Œä½¿æ•°æ®å¢å¼ºæ›´çµæ´»" class="headerlink" title="å››ã€å¯¹transformsæ“ä½œï¼Œä½¿æ•°æ®å¢å¼ºæ›´çµæ´»"></a><strong>å››ã€å¯¹transformsæ“ä½œï¼Œä½¿æ•°æ®å¢å¼ºæ›´çµæ´»</strong></h1><p>PyTorchä¸ä»…å¯è®¾ç½®å¯¹å›¾ç‰‡çš„æ“ä½œï¼Œè¿˜å¯ä»¥å¯¹è¿™äº›æ“ä½œè¿›è¡Œéšæœºé€‰æ‹©ã€ç»„åˆ</p><h2 id="1ã€transforms-RandomChoice-transforms"><a href="#1ã€transforms-RandomChoice-transforms" class="headerlink" title="1ã€transforms.RandomChoice(transforms)"></a>1ã€transforms.RandomChoice(transforms)</h2><ul><li>åŠŸèƒ½ï¼šä»ç»™å®šçš„ä¸€ç³»åˆ—transformsä¸­é€‰ä¸€ä¸ªè¿›è¡Œæ“ä½œï¼Œrandomly picked from a list</li></ul><h2 id="2ã€transforms-RandomApply-transforms-p-x3D-0-5"><a href="#2ã€transforms-RandomApply-transforms-p-x3D-0-5" class="headerlink" title="2ã€transforms.RandomApply(transforms, p&#x3D;0.5)"></a>2ã€transforms.RandomApply(transforms, p&#x3D;0.5)</h2><ul><li>åŠŸèƒ½ï¼šç»™ä¸€ä¸ªtransformåŠ ä¸Šæ¦‚ç‡ï¼Œä»¥ä¸€å®šçš„æ¦‚ç‡æ‰§è¡Œè¯¥æ“ä½œ</li></ul><h2 id="3ã€transforms-RandomOrder"><a href="#3ã€transforms-RandomOrder" class="headerlink" title="3ã€transforms.RandomOrder"></a>3ã€transforms.RandomOrder</h2><ul><li>åŠŸèƒ½ï¼šå°†transformsä¸­çš„æ“ä½œé¡ºåºéšæœºæ‰“ä¹±</li></ul><p>è½¬è½½è‡ªï¼š<a href="https://blog.csdn.net/u011995719/article/details/85107009">https://blog.csdn.net/u011995719/article/details/85107009</a><br>å‚è€ƒï¼š<br>ã€ŠPyTorch æ¨¡å‹è®­ç»ƒå®ç”¨æ•™ç¨‹ã€‹ï¼Œå…¨æ–‡pdfè¯·ç‚¹å‡»ï¼š<a href="https://github.com/tensor-yu/PyTorch_Tutorial">https://github.com/tensor-yu/PyTorch_Tutorial</a><br>ã€ŠPyTorchä¸­æ–‡æ–‡æ¡£ã€‹ <a href="https://pytorch-cn.readthedocs.io/zh/latest/">https://pytorch-cn.readthedocs.io/zh/latest/</a></p>]]></content>
      
      
      <categories>
          
          <category> å›¾åƒå¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Pytorch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CV Papers</title>
      <link href="/2022/06/30/006-DL_Papers/"/>
      <url>/2022/06/30/006-DL_Papers/</url>
      
        <content type="html"><![CDATA[<h1 id="read-paper-list"><a href="#read-paper-list" class="headerlink" title="read-paper-list"></a>read-paper-list</h1><p>semantic segmentation&#x2F;object detection&#x2F;light-weight network&#x2F;instance segmentation</p><h1 id="Deep-base-network"><a href="#Deep-base-network" class="headerlink" title="Deep-base-network"></a><strong>Deep-base-network</strong></h1><ul><li>ImageNet Classification with Deep Convolutional Neural Networks(<strong>AlexNet</strong>)</li><li>Very Deep Convolutional Networks For Large-Scale Image Recognition(<strong>VGG</strong>)</li><li>Network In Network(<strong>NIN</strong>)</li><li>Going Deeper with Convolutions(<strong>GoogleNet</strong>)</li><li>Deep Residual Learning for Image Recognition(<strong>ResNet</strong>)</li><li>Densely Connected Convolutional Networks(<strong>DenseNet</strong>)</li><li>Squeeze-and-Excitation Networks(<strong>SENet</strong>)</li><li>Gather-Excite: Exploiting Feature Context in Convolutional Neural Networks(<strong>GENet</strong>)</li><li>Non-local Neural Networks</li><li>Convolutional Neural Networks with layer reuse(<strong>LruNet</strong>)</li><li>GCNet: Non-local Networks Meet Squeeze-Excitation Networks and Beyond(<strong>GCNet</strong>)</li><li>Rethinking ImageNet Pre-training</li><li>Multi-Stage HRNet: Multiple Stage High-Resolution Network for Human Pose Estimation</li></ul><h1 id="light-weight-network"><a href="#light-weight-network" class="headerlink" title="light-weight network"></a><strong>light-weight network</strong></h1><ul><li>SqueezeNet: AlexNet-level accuracy with 50x fewer parameters and&lt; 0.5 MB model size(<strong>SqueezeNet</strong>)</li><li>Mobilenets: Efficient convolutional neural networks for mobile vision applications(<strong>Mobilenet V1</strong>)</li><li>ShuffleNet: An Extremely Efficient Convolutional Neural Network for Mobile Devices(<strong>ShuffleNet V1</strong>)</li><li>Inverted Residuals and Linear Bottlenecks: Mobile Networks for Classification, Detection and Segmentation(<strong>Mobilenet V2</strong>)</li><li>SqueezeNext: Hardware-Aware Neural Network Design(<strong>SqueezeNext</strong>)</li><li>CondenseNet: An Efficient DenseNet using Learned Group Convolutions(<strong>CondenseNet</strong>)</li><li>Pelee: A Real-Time Object Detection System on Mobile Devices(<strong>PeleeNet</strong>)</li><li>ShuffleNet V2: Practical Guidelines for Efficient CNN Architecture Design(<strong>ShuffleNet V2</strong>)</li><li>ESPNet: Efficient Spatial Pyramid of Dilated Convolutions for Semantic Segmentation(<strong>ESPNet</strong>)</li><li>ChannelNets: Compact and Efficient Convolutional Neural Networks via Channel-Wise Convolutions(<strong>ChannelNets</strong>)</li><li>ESPNetv2: A Light-weight, Power Efficient, and General Purpose Convolutional Neural Network(<strong>ESPNetV2</strong>)</li><li>Interleaved Group Convolutions for Deep Neural Networks(<strong>IGCV1</strong>)</li><li>IGCV2: Interleaved Structured Sparse Convolutional Neural Networks(<strong>IGCV2</strong>)</li><li>IGCV3: Interleaved Low-Rank Group Convolutions for Efficient Deep Neural Networks(<strong>IGCV3</strong>)</li><li>MnasNet: Platform-Aware Neural Architecture Search for Mobile(<strong>MnasNet</strong>)</li><li>FBNet: Hardware-Aware Efficient ConvNet Design via Differentiable Neural Architecture Search(<strong>FBNet</strong>)</li><li>EfficientNet: Rethinking Model Scaling for Convolutional Neural Networks(<strong>EfficientNet</strong>)</li><li>DiCENet: Dimension-wise Convolutions for Efficient Networks(<strong>DiCENet</strong>)</li><li>Hybrid Composition with IdleBlock: More Efficient Networks for Image Recognition</li><li>An Energy and GPU-Computation Efficient Backbone Network for Real-Time Object Detection</li></ul><h1 id="semantic-segmentation"><a href="#semantic-segmentation" class="headerlink" title="semantic segmentation"></a><strong>semantic segmentation</strong></h1><ul><li>Fully Convolutional Networks for Semantic Segmentation(<strong>FCN</strong>)</li><li>SegNet: A Deep Convolutional Encoder-Decoder Architecture for Image Segmentation(<strong>SegNet</strong>)</li><li>U-Net: Convolutional Networks for Biomedical Image Segmentation(<strong>UNet</strong>)</li><li>Semantic Image Segmentation with Deep Convolutional Nets and Fully Connected CRFs(<strong>Deeplab v1</strong>)</li><li>DeepLab: Semantic Image Segmentation with Deep Convolutional Nets, Atrous Convolution,and Fully Connected CRFs(<strong>Deeplab v2</strong>)</li><li>Understanding Convolution for Semantic Segmentation(<strong>DUC</strong>)</li><li>Pyramid Scene Parsing Network(<strong>PSPNet</strong>)</li><li>Large Kernel Matters â€“ Improve Semantic Segmentation by Global Convolutional Network(<strong>GCN</strong>)</li><li>Rethinking Atrous Convolution for Semantic Image Segmentation(<strong>Deeplab v3</strong>)</li><li>DenseASPP for Semantic Segmentation in Street Scenesï¼ˆ<strong>DenseASPP</strong>ï¼‰</li><li>Encoder-Decoder with Atrous Separable Convolution for Semantic Image Segmentation(<strong>Deeplab v3plus</strong>ï¼‰</li><li>Context Encoding for Semantic Segmentation(<strong>EncNet</strong>)</li><li>Learning a Discriminative Feature Network for Semantic Segmentation(<strong>DFN</strong>)</li><li>Smoothed Dilated Convolutions for Improved Dense Prediction(<strong>SDC</strong>)</li><li>Pyramid Attention Network for Semantic Segmentation(<strong>PAN</strong>)</li><li>Exploring Context with Deep Structured models for Semantic Segmentation(<strong>FeatMap-Net</strong>)</li><li>ExFuse: Enhancing Feature Fusion for Semantic Segmentation(<strong>ExFuse</strong>)</li><li>Dilated Residual Networks(<strong>DRN</strong>)</li><li>Dual Attention Network for Scene Segmentation(<strong>DANet</strong>)</li><li>OCNet:Object Context Network for Scene Parsing(<strong>OCNet</strong>)</li><li>RefineNet: Multi-Path Refinement Networks for High-Resolution Semantic Segmentation(<strong>RefineNet</strong>)</li><li>Dense Relation Network: Learning Consistent And Context-Aware Prepresentation For Semantic Image Segmentation(<strong>DRN</strong>)</li><li>CCNet: Criss-Cross Attention for Semantic Segmentation(<strong>CCNet</strong>)</li><li>Unified Perceptual Parsing for Scene Understanding(<strong>UPerNet</strong>)</li><li>Tree-structured Kronecker Convolutional Networks for Semantic Segmentation(<strong>TKNet</strong>)</li><li>NeuroIoU: Learning a Surrogate Loss for Semantic Segmentation(<strong>NeuroIoU</strong>)</li><li>Decoders Matter for Semantic Segmentation:Data-Dependent Decoding Enables Flexible Feature Aggregation</li><li>GFF: Gated Fully Fusion for Semantic Segmentationï¼ˆ<strong>GFF</strong>ï¼‰</li><li>Learning Fully Dense Neural Networks for Image Semantic Segmentationï¼ˆ<strong>FDNet</strong>ï¼‰</li><li>ZigZagNet: Fusing Top-Down and Bottom-Up Context for Object Segmentation(<strong>ZigZagNet</strong>)</li><li>Adaptive Pyramid Context Network for Semantic Segmentation(<strong>APCNet</strong>)</li><li>Dense Decoder Shortcut Connections for Single-Pass Semantic Segmentation</li><li>ACFNet: Attentional Class Feature Network for Semantic Segmentation(<strong>ACFNet</strong>)</li><li>Miss Detection vs. False Alarm: Adversarial Learning for Small Object Segmentation in Infrared Images</li><li>Dual Graph Convolutional Network for Semantic Segmentation</li><li>Global Aggregation then Local Distribution in Fully Convolutional Networks</li><li>Dynamic Multi-scale Filters for Semantic Segmentation</li><li>Unifying Training and Inference for Panoptic Segmentation</li><li>Semantic Flow for Fast and Accurate Scene Parsing</li><li>AlignSeg: Feature-Aligned Segmentation Networks</li><li>Cars Canâ€™t Fly up in the Sky: Improving Urban-Scene Segmentation via Height-driven Attention Networks</li><li>Context Prior for Scene Segmentation</li></ul><h1 id="fast-x2F-real-time-segmentation"><a href="#fast-x2F-real-time-segmentation" class="headerlink" title="fast&#x2F;real-time segmentation"></a><strong>fast&#x2F;real-time segmentation</strong></h1><ul><li>ENet: A Deep Neural Network Architecture for Real-Time Semantic Segmentation(<strong>ENet</strong>)</li><li>ICNet for Real-Time Semantic Segmentation(<strong>ICNet</strong>)</li><li>BiSeNet: Bilateral Segmentation Network for Real-time Semantic Segmentation(<strong>BiSeNet</strong>)</li><li>LinkNet: Exploiting Encoder Representations for Efficient Semantic Segmentation(<strong>LinkNet</strong>)</li><li>Rtseg: Real-Time Semantic Segmentation Comparative Study</li><li>Shuffleseg: Real-Time Semantic Segmentation Network(<strong>Shuffleseg</strong>)</li><li>ESPNet: Efficient Spatial Pyramid of Dilated Convolutions for Semantic Segmentation(<strong>ESPNet</strong>)</li><li>Light-Weight RefineNet for Real-Time Semantic Segmentation(<strong>Light-Weight RefineNet</strong>)</li><li>LinkNet: Exploiting Encoder Representations for Efficient Semantic Segmentation(<strong>LinkNet</strong>)</li><li>D-LinkNet: LinkNet with Pretrained Encoder and Dilated Convolution for High Resolution Satellite Imagery Road Extraction(<strong>D-LinkNet</strong>)</li><li>CGNet: A Light-weight Context Guided Network for Semantic Segmentation(<strong>CGNet</strong>)</li><li>Efficient ConvNet for Real-time Semantic Segmentation</li><li>A Comparative Study of Real-time Semantic Segmentation for Autonomous Driving</li><li>ContextNet: Exploring Context and Detail for Semantic Segmentation in Real-time(<strong>ContextNet</strong>)</li><li>ESPNetv2: A Light-weight, Power Efficient, and General Purpose Convolutional Neural Network(<strong>ESPNetV2</strong>)</li><li>ShelfNet for Real-time semantic segmentation(<strong>ShelfNet</strong>)</li><li>ERFNet: Efficient Residual Factorized ConvNet for Real-Time Semantic Segmentation(<strong>ERFNet</strong>)</li><li>Concentrated-Comprehensive Convolutions for lightweight semantic segmentation(<strong>CCCNet</strong>)</li><li>DSNet for Real-Time Driving Scene Semantic Segmentation(<strong>DSNet</strong>)</li><li>Efficient Dense Modules of Asymmetric Convolution for Real-Time Semantic Segmentation(<strong>EDANet</strong>)</li><li>Fast-SCNN: Fast Semantic Segmentation Network(<strong>Fast-SCNN</strong>)</li><li>Guided Upsampling Network for Real-Time Semantic Segmentation(<strong>GUN</strong>)</li><li>In Defense of Pre-trained ImageNet Architecturesfor Real-time Semantic Segmentation of Road-driving Images(<strong>SwiftNetRN</strong>)</li><li>Residual Pyramid Learning for Single-Shot Semantic Segmentation(<strong>RPNet</strong>)</li><li>DFANet: Deep Feature Aggregation for Real-Time Semantic Segmentation(<strong>DFANet</strong>)</li><li>DSNet: An Efficient CNN for Road Scene Segmentation(<strong>DSNet</strong>) </li><li>Spatial Sampling Network for Fast Scene Understanding</li><li>RGPNET: A REAL-TIME GENERAL PURPOSE SEMANTIC SEGMENTATION</li><li>LiteSeg: A Novel Lightweight ConvNet for Semantic Segmentation</li><li>FASTERSEG: SEARCHING FOR FASTER REAL-TIME SEMANTIC SEGMENTATION</li><li>Partial Order Pruning: for Best Speed&#x2F;Accuracy Trade-off in Neural Architecture Search</li><li>Customizable Architecture Search for Semantic Segmentation</li><li>Semantic Flow for Fast and Accurate Scene Parsing</li><li>BiSeNet V2: Bilateral Network with Guided Aggregation for Real-time Semantic Segmentation</li><li>ASNet: Aggregated Scale Transformations for Real-Time Semantic Segmentation</li></ul><h1 id="Deep-object-detection"><a href="#Deep-object-detection" class="headerlink" title="Deep object detection"></a><strong>Deep object detection</strong></h1><ul><li>Rich feature hierarchies for accurate object detection and semantic segmentation(<strong>R-CNN</strong>)</li><li>SSD: Single Shot MultiBox Detector(<strong>SSD</strong>)</li><li>Faster R-CNN: Towards Real-Time Object Detection with Region Proposal Networks(<strong>Faster R-CNN</strong>)</li><li>Feature Pyramid Networks for Object Detection(<strong>FPN</strong>) </li><li>Is Faster R-CNN Doing Well for Pedestrian Detection?(<strong>RPN_BF</strong>)</li><li>Training Region-based Object Detectors with Online Hard Example Mining(<strong>OHEM</strong>)</li><li>Receptive Field Block Net for Accurate and Fast Object Detection(<strong>RFBNet</strong>)</li><li>Focal Loss for Dense Object Detection(<strong>RetinaNet</strong>)</li><li>Single-Shot Refinement Neural Network for Object Detection(<strong>RefinDet</strong>)</li><li>PVANET: Deep but Lightweight Neural Networks for Real-time Object Detection(<strong>PVANET</strong>)</li><li>Multi-label learning of part detectors for heavily occluded pedestrian detection(<strong>JL-TopS</strong>)</li><li>Graininess-aware Deep Feature Learning for Pedestrian Detection(<strong>GDFL</strong>)</li><li>M2Det: A Single-Shot Object Detector based on Multi-Level Feature Pyramid Network(<strong>M2Det</strong>) </li><li>CFENet: An Accurate and Efficient Single-Shot Object Detector for Autonomous Driving(<strong>CFENet</strong>) </li><li>ScratchDet: Training Single-Shot Object Detectors from Scratch(<strong>ScratchDet</strong>) </li><li>Pooling Pyramid Network for Object Detectionï¼ˆ<strong>PPN</strong>ï¼‰</li><li>ThunderNet: Towards Real-time Generic Object Detection(<strong>ThunderNet</strong>)</li><li>Light-Weight RetinaNet for Object Detection</li><li>CornerNet: Detecting Objects as Paired Keypoints(<strong>CornerNet</strong>)</li><li>Bottom-up Object Detection by Grouping Extreme and Center Points(<strong>ExtremeNet</strong>)</li><li>RepPoints: Point Set Representation for Object Detection(<strong>RepPoints</strong>)</li><li>FCOS: Fully Convolutional One-Stage Object Detection(<strong>FCOS</strong>)</li><li>Mask-Guided Attention Network for Occluded Pedestrian Detection</li><li>Learning Rich Features at High-Speed for Single-Shot Object Detection. </li><li>Dynamic Anchor Feature Selection for Single-Shot Object Detection.</li><li>Contextual Attention for Hand Detection in the Wild</li><li>Distance-IoU Loss: Faster and Better Learning for Bounding Box Regression</li><li>Multiple Anchor Learning for Visual Object Detection</li><li>NETNet: Neighbor Erasing and Transferring Network for Better Single Shot Object Detection</li><li>Is Sampling Heuristics Necessary in Training Deep Object Detectors?</li><li>Rethinking Classification and Localization for Object Detection</li><li>Multiple Anchor Learning for Visual Object Detection</li><li>Learning from Noisy Anchors for One-stage Object Detection</li><li>Learning a Unified Sample Weighting Network for Object Detectionâˆ—</li><li>D2Det: Towards High Quality Object Detection and Instance Segmentation</li><li>AugFPN: Improving Multi-scale Feature Learning for Object Detection</li><li>Scale-Equalizing Pyramid Convolution for Object Detection</li></ul><h1 id="Face-Detection"><a href="#Face-Detection" class="headerlink" title="Face Detection"></a><strong>Face Detection</strong></h1><ul><li>S3FD: Single Shot Scale-invariant Face Detector(<strong>SFD</strong>)</li><li>FaceBoxes: A CPU Real-time Face Detector with High Accuracy(<strong>FaceBoxes</strong>)</li><li>Detecting Face with Densely Connected Face Proposal Network(<strong>DCFPN</strong>)</li><li>SSH: Single Stage Headless Face Detector(<strong>SSH</strong>)</li><li>DSFD: Dual Shot Face Detector(<strong>DSFD</strong>)</li><li>Joint Face Detection and Alignment using Multi-task Cascaded Convolutional Networks(<strong>MTCNN</strong>)</li><li>PyramidBox: A Context-assisted Single Shot Face Detector(<strong>PyramidBox</strong>)</li><li>SRN:Selective Refinement Network for High Performance Face Detection(<strong>SRN</strong>)</li><li>Single Shot Attention-Based Face Detector(<strong>AFN</strong>)</li><li>Improved Selective Refinement Network for Face Detection(<strong>ISRN</strong>)</li><li>PyramidBox++: High Performance Detector for Finding Tiny Face(<strong>PyramidBox++</strong>)</li><li>RetinaFace: Single-stage Dense Face Localisation in the Wild(<strong>RetinaFace</strong>)</li></ul><h1 id="Instance-segmentation"><a href="#Instance-segmentation" class="headerlink" title="Instance segmentation"></a><strong>Instance segmentation</strong></h1><ul><li>Fully Convolutional Instance-aware Semantic Segmentation(<strong>FCIS</strong>)</li><li>Instance-aware Semantic Segmentation via Multi-task Network Cascades(<strong>MNC</strong>)</li><li>Mask R-CNN</li><li>Mask Scoring R-CNN</li><li>Path Aggregation Network for Instance Segmentation(<strong>PANet</strong>)</li><li>RetinaMask: Learning to predict masks improves state-of-the-art single-shot detection for free(<strong>RetinaMask</strong>)</li><li>YOLACT Real-time Instance Segmentation(<strong>YOLACT</strong>)</li><li>Parsing R-CNN for Instance-Level Human Analysis(<strong>Parsing R-CNN</strong>)</li><li>BlitzNet: A Real-Time Deep Network for Scene Understanding(<strong>BlitzNet</strong>)</li><li>Hybrid Task Cascade for Instance Segmentation(<strong>HTC</strong>)</li><li>Triply Supervised Decoder Networks for Joint Detection and Segmentation(<strong>TripleNet</strong>)</li><li>ZigZagNet: Fusing Top-Down and Bottom-Up Context for Object Segmentation(<strong>ZigZagNet</strong>)</li><li>Bounding Box Embedding for Single Shot Person Instance Segmentation</li><li>Shape-aware Feature Extraction for Instance Segmentation</li><li>Real-Time Panoptic Segmentation from Dense Detections</li><li>EmbedMask: Embedding Coupling for One-stage Instance Segmentation</li><li>PolyTransform: Deep Polygon Transformer for Instance Segmentation</li><li>SOLO: Segmenting Objects by Locations</li><li>RDSNet: A New Deep Architecture for Reciprocal Object Detection and Instance Segmentation</li><li>SSAP: Single-Shot Instance Segmentation With Affinity Pyramid</li><li>YOLACT++ï¼šBetter Real-time Instance Segmentation</li><li>SAIS: Single-stage Anchor-free Instance Segmentation</li><li>PolarMask: Single Shot Instance Segmentation with Polar Representation</li><li>BANet: Bidirectional Aggregation Network with Occlusion Handling for Panoptic Segmentation</li></ul><h1 id="Mutil-task-learning"><a href="#Mutil-task-learning" class="headerlink" title="Mutil-task learning"></a><strong>Mutil-task learning</strong></h1><ul><li>End-to-End Multi-Task Learning with Attention.</li><li>Multi-Task Learning Using Uncertainty to Weigh Losses for Scene Geometry and Semantics.</li><li>BlitzNet: A Real-Time Deep Network for Scene Understanding.</li><li>Triply Supervised Decoder Networks for Joint Detection and Segmentation</li><li>Real-time Joint Object Detection and Semantic Segmentation Network for Automated Driving.</li><li>Driving Scene Perception Network: Real-time Joint Detection, Depth Estimation and Semantic Segmentation.</li><li>GradNorm: Gradient Normalization for Adaptive Loss Balancing in Deep Multitask Network</li><li>MultiNet: Real-time Joint Semantic Reasoning for Autonomous Driving</li><li>MultiNet++: Multi-Stream Feature Aggregation and Geometric Loss Strategy for Multi-Task Learning</li><li>Dynamic Task Weighting Methods for Multi-task Networks in Autonomous Driving Systems</li><li>MTI-Net: Multi-Scale Task Interaction Networks for Multi-Task Learning</li><li>AP-MTL: Attention Pruned Multi-task Learning Model for Real-time Instrument Detection and Segmentation in Robot-assisted Surgery</li></ul><h1 id="non-deep-object-detection"><a href="#non-deep-object-detection" class="headerlink" title="non-deep object detection"></a><strong>non-deep object detection</strong></h1><ul><li>Robust Real-Time Face Detection(<strong>Haar+Adaboost</strong>)</li><li>Integral Channel Features(<strong>ICF</strong>)</li><li>The Fastest Pedestrian Detector in the West(<strong>FPDW</strong>)</li><li>Fast Feature Pyramids for Object Detection(<strong>ACF</strong>)</li><li>Local Decorrelation for Improved Pedestrian Detection(<strong>LDCF</strong>)</li><li>Convolutional Channel Features(<strong>CCF</strong>)</li><li>Informed Haar-like Features Improve Pedestrian Detection(<strong>InformedHaar</strong>)</li><li>Fast Pedestrian Detection for Mobile Devices(<strong>FastCF</strong>)</li><li>Pedestrian detection at 100 Frames Per Second(<strong>VeryFast</strong>)</li><li>To Boost or Not to Boost? On the Limits of Boosted Trees for Object Detection(<strong>ACF+&#x2F;LDCF+</strong>)</li><li>Filtered channel features for pedestrian detection(<strong>Checkerboard</strong>)</li><li>Pedestrian Detection Inspired by Appearance Constancy and Shape Symmetry(<strong>NNNF</strong>)</li><li>Aggregate Channel Features for Multi-view Face Detection(<strong>ACFFace</strong>)</li><li>Pedestrian Detection with Spatially Pooled Features and Structured Ensemble Learning(<strong>SpatialPooling+</strong>)</li><li>BAdaCost: Multi-class Boosting with Costs(<strong>BAdaCost</strong>)</li><li>Exploring Prior Knowledge for Pedestrian Detection(<strong>SCCPriors</strong>)</li><li>A Fast, Modular Scene Understanding System using Context-Aware Object Detection(<strong>SC-ACF</strong>ï¼‰</li><li>Ten Years of Pedestrian Detection,What Have We Learned?(<strong>Katamari</strong>)</li><li>How Far are We from Solving Pedestrian Detection?</li><li>What Can Help Pedestrian Detection?</li><li>Taking a Deeper Look at Pedestrians</li><li>Semantic Channels for Fast Pedestrian Detection(<strong>MRFC+Semantic</strong>)</li><li>Fast Boosting based Detection using Scale Invariant Multimodal Multiresolution Filtered Features</li><li>Learning Multilayer Channel Features for Pedestrian Detection</li><li>Fast and Robust Object Detection Using Visual Subcategories</li><li>Learning to Detect Vehicles by Clustering Appearance Patterns(<strong>Subcat</strong>)</li><li>Looking at Pedestrians at Different Scales: A Multiresolution Approach and Evaluations(<strong>MR-ACF</strong>)</li><li>Multiresolution models for object detection</li><li>Face Detection without Bells and Whistles</li><li>Fast Detection of Multiple Objects in Traffic Scenes With a Common Detection Framework</li><li>An Exploration of Why and When Pedestrian Detection Fails </li><li>Discriminative Sub-categorization</li></ul><h1 id="Image-Stitching"><a href="#Image-Stitching" class="headerlink" title="Image Stitching"></a><strong>Image Stitching</strong></h1><ul><li>Automatic Panoramic Image Stitching Using Invariant Features(<strong>IJCV2007</strong>) </li><li>As-Projective-As-Possible Image Stitching with Moving DLT(<strong>APAP</strong>)</li><li>Shape-Preserving Half-Projective Warps for Image Stitching(<strong>SPHP</strong>)</li><li>Adaptive As-Natural-As-Possible Image Stitching(<strong>AANAP</strong>)</li><li>MAGSAC: marginalizing sample consensus</li><li>MAGSAC++, a fast, reliable and accurate robust estimator</li><li>An Evaluation of Feature Matchers for Fundamental Matrix Estimation</li><li>GMS: Grid-based Motion Statistics for Fast, Ultra-robust Feature correspondence</li><li>Vanishing Point Guided Natural Image Stitching</li><li>Warping Residual Based Image Stitching for Large Parallax</li></ul>]]></content>
      
      
      <categories>
          
          <category> å‚è€ƒæ–‡çŒ® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ·±åº¦å­¦ä¹  </tag>
            
            <tag> ç½‘ç»œæ¨¡å‹ </tag>
            
            <tag> å‚è€ƒæ–‡çŒ® </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2022/06/30/001-hello-world/"/>
      <url>/2022/06/30/001-hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Copyright-SvyJ"><a href="#Copyright-SvyJ" class="headerlink" title="Copyright@SvyJ"></a>Copyright@SvyJ</h2><h2 id="Quick-Start-First"><a href="#Quick-Start-First" class="headerlink" title="Quick Start First"></a>Quick Start First</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é¥æ„Ÿå›¾åƒå˜åŒ–æ£€æµ‹ç›¸å…³</title>
      <link href="/2021/12/23/020-RemoteSensingChangeDetection/"/>
      <url>/2021/12/23/020-RemoteSensingChangeDetection/</url>
      
        <content type="html"><![CDATA[<h2 id="Notesï¼šæºè‡ªäºè€æ¿æœ€è¿‘æƒ³æ¥çš„æ¨ªå‘é¡¹ç›®ï¼Œè®°å½•ä¸€ä¸‹ä»è°ƒç ”åˆ°è·‘è·¯çš„å†ç¨‹-Dã€‚ï¼ˆå•çº¯åšå›¾åƒå¤„ç†çš„ä¸€èˆ¬éƒ½æ˜¯Matlabä»£ç ï¼ŒPythonå®ç°çš„ä»£ç å¯å¤ªå°‘äº†-â€¦ï¼‰"><a href="#Notesï¼šæºè‡ªäºè€æ¿æœ€è¿‘æƒ³æ¥çš„æ¨ªå‘é¡¹ç›®ï¼Œè®°å½•ä¸€ä¸‹ä»è°ƒç ”åˆ°è·‘è·¯çš„å†ç¨‹-Dã€‚ï¼ˆå•çº¯åšå›¾åƒå¤„ç†çš„ä¸€èˆ¬éƒ½æ˜¯Matlabä»£ç ï¼ŒPythonå®ç°çš„ä»£ç å¯å¤ªå°‘äº†-â€¦ï¼‰" class="headerlink" title="Notesï¼šæºè‡ªäºè€æ¿æœ€è¿‘æƒ³æ¥çš„æ¨ªå‘é¡¹ç›®ï¼Œè®°å½•ä¸€ä¸‹ä»è°ƒç ”åˆ°è·‘è·¯çš„å†ç¨‹:Dã€‚ï¼ˆå•çº¯åšå›¾åƒå¤„ç†çš„ä¸€èˆ¬éƒ½æ˜¯Matlabä»£ç ï¼ŒPythonå®ç°çš„ä»£ç å¯å¤ªå°‘äº†:(â€¦ï¼‰"></a>Notesï¼šæºè‡ªäºè€æ¿æœ€è¿‘æƒ³æ¥çš„æ¨ªå‘é¡¹ç›®ï¼Œè®°å½•ä¸€ä¸‹ä»è°ƒç ”åˆ°è·‘è·¯çš„å†ç¨‹:Dã€‚<br>ï¼ˆå•çº¯åšå›¾åƒå¤„ç†çš„ä¸€èˆ¬éƒ½æ˜¯Matlabä»£ç ï¼ŒPythonå®ç°çš„ä»£ç å¯å¤ªå°‘äº†:(â€¦ï¼‰</h2><h1 id="ä¸€ã€é¥æ„Ÿå›¾åƒå˜åŒ–æ£€æµ‹"><a href="#ä¸€ã€é¥æ„Ÿå›¾åƒå˜åŒ–æ£€æµ‹" class="headerlink" title="ä¸€ã€é¥æ„Ÿå›¾åƒå˜åŒ–æ£€æµ‹"></a><strong>ä¸€ã€é¥æ„Ÿå›¾åƒå˜åŒ–æ£€æµ‹</strong></h1><h2 id="1ã€ä»»åŠ¡ç›®æ ‡"><a href="#1ã€ä»»åŠ¡ç›®æ ‡" class="headerlink" title="1ã€ä»»åŠ¡ç›®æ ‡"></a>1ã€ä»»åŠ¡ç›®æ ‡</h2><ul><li>åˆ©ç”¨å¤šæ—¶ç›¸çš„é¥æ„Ÿæ•°æ®ï¼Œé‡‡ç”¨å¤šç§å›¾åƒå¤„ç†å’Œæ¨¡å¼è¯†åˆ«æ–¹æ³•æå–å˜åŒ–ä¿¡æ¯ï¼Œå¹¶å®šé‡åˆ†æå’Œç¡®å®šåœ°è¡¨å˜åŒ–çš„ç‰¹å¾ä¸è¿‡ç¨‹ã€‚å®ƒæ¶‰åŠå˜åŒ–çš„ç±»å‹ã€åˆ†å¸ƒçŠ¶å†µä¸å˜åŒ–é‡ï¼Œå³éœ€è¦ç¡®å®šå˜åŒ–å‰ã€åçš„åœ°é¢ç±»å‹ã€ç•Œçº¿ã€åŠå˜åŒ–è¶‹åŠ¿ï¼Œè¿›è€Œåˆ†æè¿™äº›åŠ¨æ€å˜åŒ–çš„ç‰¹ç‚¹ä¸åŸå› ã€‚<br>(1ï¼‰åˆ¤æ–­æ˜¯å¦å‘ç”Ÿäº†å˜åŒ–ï¼›<br>(2ï¼‰ç¡®å®šå‘ç”Ÿå˜åŒ–çš„åŒºåŸŸï¼›<br>(3ï¼‰é‰´åˆ«å˜åŒ–çš„æ€§è´¨ï¼›<br>(4ï¼‰è¯„ä¼°å˜åŒ–çš„æ—¶é—´å’Œç©ºé—´åˆ†å¸ƒæ¨¡å¼ã€‚<br><img src="https://i.loli.net/2021/07/05/HcgyZO8mVIuNqdR.png" alt="å˜åŒ–æ£€æµ‹"><br>çŒœæµ‹å‰ä¸¤ç‚¹çš„å˜åŒ–æ£€æµ‹å°±æ˜¯â€œä»–ä»¬â€è¦è¾¾åˆ°çš„åŸºæœ¬ç›®æ ‡äº†ï¼Œå‰ä¸¤ç‚¹ä¹Ÿæ˜¯å˜åŒ–æ£€æµ‹ç ”ç©¶ä¸­éœ€è¦é¦–å…ˆè§£å†³çš„é—®é¢˜ï¼Œç‹­ä¹‰ä¸Šçš„å˜åŒ–æ£€æµ‹æ¦‚å¿µå³æ˜¯ç”±è¿™ä¸¤æ–¹é¢æ„æˆã€‚</li></ul><h2 id="2ã€å½±å“å› ç´ ï¼ˆéš¾ç‚¹ï¼‰"><a href="#2ã€å½±å“å› ç´ ï¼ˆéš¾ç‚¹ï¼‰" class="headerlink" title="2ã€å½±å“å› ç´ ï¼ˆéš¾ç‚¹ï¼‰"></a>2ã€å½±å“å› ç´ ï¼ˆéš¾ç‚¹ï¼‰</h2><ul><li>é¥æ„Ÿç³»ç»Ÿå› ç´ çš„å½±å“(æ—¶é—´ã€ç©ºé—´ã€å…‰è°±ã€è¾å°„åˆ†è¾¨ç‡)</li><li>ç¯å¢ƒå› ç´ çš„å½±å“(å¤§æ°”ã€åœŸå£¤æ¹¿åº¦çŠ¶å†µã€ç‰©å€™ç‰¹å¾)</li><li>æˆåƒè®¾å¤‡ï¼Ÿï¼ˆçŒœæµ‹æœ¬æ¬¡ä»»åŠ¡å­˜åœ¨è¿™ä¸ªé—®é¢˜ï¼‰</li></ul><h1 id="äºŒã€æ•°æ®é›†æ•´ç†"><a href="#äºŒã€æ•°æ®é›†æ•´ç†" class="headerlink" title="äºŒã€æ•°æ®é›†æ•´ç†"></a><strong>äºŒã€æ•°æ®é›†æ•´ç†</strong></h1><ul><li>æ”¾é“¾æ¥ï¼š<a href="https://blog.csdn.net/weixin_41868601/article/details/113888782">æ•°æ®é›†</a></li></ul><h1 id="ä¸‰ã€å·²æœ‰æ–¹æ³•"><a href="#ä¸‰ã€å·²æœ‰æ–¹æ³•" class="headerlink" title="ä¸‰ã€å·²æœ‰æ–¹æ³•"></a><strong>ä¸‰ã€å·²æœ‰æ–¹æ³•</strong></h1><h2 id="1ã€ä¼ ç»Ÿæ–¹æ³•"><a href="#1ã€ä¼ ç»Ÿæ–¹æ³•" class="headerlink" title="1ã€ä¼ ç»Ÿæ–¹æ³•"></a>1ã€ä¼ ç»Ÿæ–¹æ³•</h2><h3 id="ï¼ˆ1ï¼‰æ¯”è¾ƒååˆ†ç±»å˜åŒ–æ£€æµ‹ç®—æ³•"><a href="#ï¼ˆ1ï¼‰æ¯”è¾ƒååˆ†ç±»å˜åŒ–æ£€æµ‹ç®—æ³•" class="headerlink" title="ï¼ˆ1ï¼‰æ¯”è¾ƒååˆ†ç±»å˜åŒ–æ£€æµ‹ç®—æ³•"></a>ï¼ˆ1ï¼‰æ¯”è¾ƒååˆ†ç±»å˜åŒ–æ£€æµ‹ç®—æ³•</h3><ul><li>åŸºäºç®€å•ä»£æ•°è¿ç®—çš„å˜åŒ–æ£€æµ‹æ–¹æ³•<br>  å½’ä¸€åŒ–å›¾åƒå·®å€¼æ³•<br>  <strong>ï¼ˆå·²å®ç°ï¼‰å›¾åƒç°åº¦å·®å€¼æ³•ï¼ˆå›¾åƒçš„ç°åº¦ä¿¡æ¯åæ˜ äº†åœ°ç‰©çš„æ³¢è°±åå°„ç‰¹æ€§ï¼‰</strong><br>  å›¾åƒçº¹ç†ç‰¹å¾å·®å€¼æ³•<br>  å›¾åƒå›å½’æ³•<br>  å›¾åƒæ¤è¢«æŒ‡æ•°å·®åˆ†æ³•<br>  å›¾åƒæ¯”å€¼æ³•<br>  å˜åŒ–å‘é‡åˆ†ææ³•</li><li>åŸºäºå›¾åƒå˜æ¢çš„å˜åŒ–æ£€æµ‹æ–¹æ³•<br>  <strong>ï¼ˆå·²å®ç°ï¼‰ä¸»æˆåˆ†åˆ†ææ³•PCA</strong><br>  ç‹¬ç«‹æˆåˆ†åˆ†ææ³•ICA<br>  æ­£äº¤å˜æ¢<br>  ç¼¨å¸½å˜æ¢ï¼ˆK-Tå˜æ¢ï¼‰<br>  å…¸å‹ç›¸å…³åˆ†æï¼ˆCCAï¼‰<br>  <strong>ï¼ˆå·²å®ç°ï¼‰å¤šå…ƒå˜åŒ–æ£€æµ‹(multivariate alteration detectionï¼ŒMAD)</strong><br>  Gramm-Schmidtå˜æ¢<br>  Chi-squareå˜æ¢<br>  ç©—å¸½å˜æ¢(Tasseled Cap Transformation)<br>  HSIå˜æ¢</li><li>åŸºäºå›¾åƒç©ºé—´ç‰¹å¾çš„å˜åŒ–æ£€æµ‹æ–¹æ³•<br>  åŸºäºç»Ÿè®¡ç‰¹å¾çš„å˜åŒ–æ£€æµ‹ç®—æ³•<br>  åŸºäºçº¹ç†ç‰¹å¾çš„å˜åŒ–æ£€æµ‹ç®—æ³•<br>  åŸºäºç©ºé—´ç»“æ„ç‰¹å¾çš„å˜åŒ–æ£€æµ‹ç®—æ³•</li></ul><h3 id="ï¼ˆ2ï¼‰åˆ†ç±»åæ¯”è¾ƒå˜åŒ–æ£€æµ‹ç®—æ³•"><a href="#ï¼ˆ2ï¼‰åˆ†ç±»åæ¯”è¾ƒå˜åŒ–æ£€æµ‹ç®—æ³•" class="headerlink" title="ï¼ˆ2ï¼‰åˆ†ç±»åæ¯”è¾ƒå˜åŒ–æ£€æµ‹ç®—æ³•"></a>ï¼ˆ2ï¼‰åˆ†ç±»åæ¯”è¾ƒå˜åŒ–æ£€æµ‹ç®—æ³•</h3><h3 id="ï¼ˆ3ï¼‰åŸºäºå¯¹è±¡å˜åŒ–æ£€æµ‹ç®—æ³•"><a href="#ï¼ˆ3ï¼‰åŸºäºå¯¹è±¡å˜åŒ–æ£€æµ‹ç®—æ³•" class="headerlink" title="ï¼ˆ3ï¼‰åŸºäºå¯¹è±¡å˜åŒ–æ£€æµ‹ç®—æ³•"></a>ï¼ˆ3ï¼‰åŸºäºå¯¹è±¡å˜åŒ–æ£€æµ‹ç®—æ³•</h3><h3 id="ï¼ˆ4ï¼‰åŸºäºç»Ÿè®¡æ¨¡å‹å˜åŒ–æ£€æµ‹æ–¹æ³•"><a href="#ï¼ˆ4ï¼‰åŸºäºç»Ÿè®¡æ¨¡å‹å˜åŒ–æ£€æµ‹æ–¹æ³•" class="headerlink" title="ï¼ˆ4ï¼‰åŸºäºç»Ÿè®¡æ¨¡å‹å˜åŒ–æ£€æµ‹æ–¹æ³•"></a>ï¼ˆ4ï¼‰åŸºäºç»Ÿè®¡æ¨¡å‹å˜åŒ–æ£€æµ‹æ–¹æ³•</h3><h2 id="2ã€éƒ¨åˆ†è¿˜æ²¡çœ‹çš„è®ºæ–‡ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰"><a href="#2ã€éƒ¨åˆ†è¿˜æ²¡çœ‹çš„è®ºæ–‡ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰" class="headerlink" title="2ã€éƒ¨åˆ†è¿˜æ²¡çœ‹çš„è®ºæ–‡ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰"></a>2ã€éƒ¨åˆ†è¿˜æ²¡çœ‹çš„è®ºæ–‡ï¼ˆä¼ ç»Ÿæ–¹æ³•ï¼‰</h2><p>(1) 2019.Bobholamovic&#x2F;ChangeDetectionToolbox<br>(2) 2019.M J Canty. Image Analysis, Classification and Change Detection in Remote Sensing(Fourth Revised Edition)<br>(3) 2017.M J Canty. Change Detection with Google Earth Engine Imagery<br>(4) 2014.M J Canty. Image Analysis, Classification and Change Detection in Remote Sensing(Third Revised Edition)<br>(5) Zhu Zhe.Algorithm developed for Continuous Change Detection and Classification (CCDC) of land cover using all available Landsat data<br>(6) Implementation of â€œ 2009.Celik T. Unsupervised change detection in satellite images using principal component analysis and k-means clustering â€œ.(Matlab, Python)<br>(7) 2007.Allan Aasbjerg Nielsen.IR-MAD(The Regularized Iteratively Reweighted Multivariate Alteration Detection)</p><h1 id="å››ã€åå¤„ç†"><a href="#å››ã€åå¤„ç†" class="headerlink" title="å››ã€åå¤„ç†"></a><strong>å››ã€åå¤„ç†</strong></h1><ul><li>ç»è¿‡å›¾åƒå¤„ç†ä¼šå‡ºç°è¾ƒå¤šçš„å°è¿é€šåŒºåŸŸæˆ–å­”æ´ï¼Œåªèƒ½é€šè¿‡åå¤„ç†æ¥è§£å†³ã€‚</li></ul><h2 id="1ã€å¡«å……å­”æ´"><a href="#1ã€å¡«å……å­”æ´" class="headerlink" title="1ã€å¡«å……å­”æ´"></a>1ã€å¡«å……å­”æ´</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># è†¨èƒ€å†è…èš€å›å»<br>img = img.astype(&#x27;uint8&#x27;)<br>kernel = cv2.getStructuringElement(cv2.MORPH_RECT, (3, 3))<br>img = cv2.dilate(img, kernel)<br>img = cv2.erode(img, kernel)<br></code></pre></td></tr></table></figure><h2 id="2ã€å°è¿é€šåŒºåŸŸçš„å»é™¤"><a href="#2ã€å°è¿é€šåŒºåŸŸçš„å»é™¤" class="headerlink" title="2ã€å°è¿é€šåŒºåŸŸçš„å»é™¤"></a>2ã€å°è¿é€šåŒºåŸŸçš„å»é™¤</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext"># é˜ˆå€¼æ³•ï¼Œè¿é€šåŒºåŸŸé¢ç§¯å°äºè®¾å®šé˜ˆå€¼æ—¶å¡«å……ä¸ºèƒŒæ™¯<br>contours, _ = cv2.findContours(img, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_NONE)<br>for contour in contours:<br>    area = cv2.contourArea(contour)<br>    if area &lt; threshold:<br>        cv2.drawContours(img, [contour], -1, (0,0,0), thickness=-1)     # å¡«å……ä¸ºèƒŒæ™¯(0,0,0)<br>        continue<br></code></pre></td></tr></table></figure><ul><li>å‚è€ƒèµ„æ–™ï¼š<br>[1] ã€Šé¥æ„Ÿåº”ç”¨åˆ†æåŸç†ä¸æ–¹æ³•ã€‹ èµµè‹±æ—¶ ç¬¬äºŒç‰ˆ<br>[2] <a href="https://gitee.com/jia_leilei001/awesome-remote-sensing-change-detection">https://gitee.com/jia_leilei001/awesome-remote-sensing-change-detection</a><br>[3] <a href="https://blog.csdn.net/qq_37554556/article/details/104134021">https://blog.csdn.net/qq_37554556/article/details/104134021</a><br>[4] <a href="https://blog.csdn.net/zhang22huan/article/details/8482490">https://blog.csdn.net/zhang22huan/article/details/8482490</a><br>[5] <a href="https://blog.csdn.net/weixin_39802680/article/details/106026342">https://blog.csdn.net/weixin_39802680/article/details/106026342</a><br>[6] <a href="https://blog.csdn.net/weixin_45145485/article/details/109005509">https://blog.csdn.net/weixin_45145485/article/details/109005509</a> (è¿™é‡Œåæ§½ä»¥ä¸‹ï¼šè¿™ä¸ªæ–¹æ³•å‡ºæ¥çš„æ£€æµ‹å›¾å…¨é»‘æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ)<br>[7] <a href="https://gitee.com/weijujie/changeDetection">https://gitee.com/weijujie/changeDetection</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> å›¾åƒå¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
